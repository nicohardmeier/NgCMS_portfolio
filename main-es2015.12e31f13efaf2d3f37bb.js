(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"1XSQ":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n("8Y7J");var r=n("SVse"),i=n("qgXg"),s=n("HDdC");class o{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded(function(){return i.a.schedule.apply(i.a,t)})}keepUnstableUntilFirst(t){return Object(r.t)(this.platformId)?new s.a(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===r.state&&r.invoke(),e.next(t)},t=>{"scheduled"===r.state&&r.invoke(),e.error(t)},()=>{"scheduled"===r.state&&r.invoke(),e.complete()})}):t}runOutsideAngular(t){return new s.a(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const a=t=>e=>new s.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",function(){return s});class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function l(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(l((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),o=n("mrSG"),a=n("zVF4"),l=n("x7I3"),u=i.SDK_VERSION,c=new s.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function d(){return c.logLevel===s.LogLevel.DEBUG?h.DEBUG:c.logLevel===s.LogLevel.SILENT?h.SILENT:h.ERROR}function f(t){switch(t){case h.DEBUG:c.logLevel=s.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=s.LogLevel.ERROR;break;case h.SILENT:c.logLevel=s.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=s.LogLevel.DEBUG){var i=n.map(g);c.debug.apply(c,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.ERROR){var r=e.map(g);c.error.apply(c,["Firestore ("+u+"): "+t].concat(r))}}function g(t){if("string"==typeof t)return t;var e=v.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function b(t,e){t||y(e)}var v=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function _(){return v.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return void 0!==t?t:e}function x(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in b(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(0!==e.length)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+W(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function D(t,e,n){if(e.length<n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+W(e.length,"argument")+".")}function R(t,e,n,r){j(t,e,Q(n)+" argument",r)}function P(t,e,n,r){void 0!==r&&R(t,e,n,r)}function M(t,e,n,r){j(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var l=a[o];if(l===r)return;s.push(B(l))}var u=B(r);throw new C(w.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function V(t,e,n,r){if(!e.some(function(t){return t===r}))throw new C(w.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function "+t+"() for its "+Q(n)+" argument. Acceptable values: "+e.join(", "))}function j(t,e,n,r){if(!("object"===e?q(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function q(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Q(e)+" argument, but it was undefined.")}function z(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new C(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function H(t,e,n,r){var i=B(r);return new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+Q(n)+" argument to be a "+e+", but it was: "+i)}function Q(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function W(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return b(20===e.length,"Invalid auto ID: "+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function $(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new C(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!v.getPlatform().base64Available)throw new C(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){O("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),X();try{var n=v.getPlatform().atob(e);return new t(n)}catch(r){throw new C(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(O("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(n)},t.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),X(),v.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){O("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),tt=E(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),et=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),nt="(default)",rt=function(){function t(t,e){this.projectId=t,this.database=e||nt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===nt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),it=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),st=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return b(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return b(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(st),at=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return at.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(st),ut=function(){function t(e){this.path=e,b(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ot.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ot.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ot(e.slice()))},t.fromPathString=function(e){return new t(ot.fromString(e))},t.EMPTY=new t(new ot([])),t}(),ct=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),ht=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction",t}({}),dt=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),ft=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),b(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=dt.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){b(t===ht.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ht.All&&i.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);b(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),pt="\x01",mt="\x01",gt="\x10",yt="\x11";function bt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_t(e)),e=vt(t.get(n),e);return _t(e)}function vt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+=pt+gt;break;case pt:n+=pt+yt;break;default:n+=s}}return n}function _t(t){return t+pt+mt}function wt(t){var e=t.length;if(b(e>=2,"Invalid path "+t),2===e)return b(t.charAt(0)===pt&&t.charAt(1)===mt,"Non-empty path "+t+" had length 2"),ot.EMPTY_PATH;for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf(pt,s);switch((o<0||o>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(o+1)){case mt:var a=t.substring(s,o),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case gt:i+=t.substring(s,o),i+="\0";break;case yt:i+=t.substring(s,o+1);break;default:y('Invalid encoded resource path: "'+t+'"')}s=o+2}return new ot(r)}var Ct=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Et=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ct(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ct(0,0)),t}(),St=function(){function t(t,e){this.comparator=t,this.root=e||xt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Tt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Tt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!0)},t}(),Tt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){b(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),It=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();xt.EMPTY=new It;var kt=function(){function t(t){this.comparator=t,this.data=new St(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new At(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new At(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),At=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ot=new St(ut.comparator);function Dt(){return Ot}function Nt(){return Dt()}var Rt=new St(ut.comparator);function Pt(){return Rt}var Mt=new St(ut.comparator);function Lt(){return Mt}var Ft=new kt(ut.comparator);function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ft,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var jt=new kt(K);function qt(){return jt}var Bt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,b(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&b(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;b(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=s.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&b(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime));for(var i=e,s=0,o=this.mutations;s<o.length;s++){var a;(a=o[s]).key.isEqual(t)&&(e=a.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Vt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations)&&$(this.baseMutations,t.baseMutations)},t}(),Ut=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){b(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var s=Lt(),o=e.mutations,a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new t(e,n,r,i,s)},t}(),zt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ht=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return b(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kt(t).iterate({index:Re.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Gt(n),Yt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Gt(e),Yt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=$t(t),o=Kt(t);return o.add({}).next(function(a){b("number"==typeof a,"Auto-generated key is not a number");var l=new Bt(a,e,n,r),u=i.serializer.toDbMutationBatch(i.userId,l);i.documentKeysByBatchId[a]=l.keys();for(var c=[],h=0,d=r;h<d.length;h++){var f=d[h],p=Pe.key(i.userId,f.key.path,a);c.push(o.put(u)),c.push(s.put(p,Pe.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,f.key.path.popLast()))}return zt.waitFor(c).next(function(){return l})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Kt(t).get(e).next(function(t){return t?(b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?zt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Kt(t).iterate({index:Re.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r,"Should have found mutation after "+r),s=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kt(t).iterate({index:Re.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kt(t).loadAll(Re.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pe.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return $t(t).iterate({range:i},function(r,i,o){var a=r[0],l=r[2],u=wt(r[1]);if(a===n.userId&&e.path.isEqual(u))return Kt(t).get(l).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+l);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),s.push(n.serializer.fromDbMutationBatch(t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kt(K),i=[];return e.forEach(function(e){var s=Pe.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=$t(t).iterate({range:o},function(t,i,s){var o=t[0],a=t[2],l=wt(t[1]);o===n.userId&&e.path.isEqual(l)?r=r.add(a):s.done()});i.push(a)}),zt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;b(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,s=Pe.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new kt(K);return $t(t).iterate({range:o},function(t,e,s){var o=t[0],l=t[2],u=wt(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(l)):s.done()}).next(function(){return n.lookupMutationBatches(t,a)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Kt(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),zt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Wt(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),zt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zt.resolve();var r=IDBKeyRange.lowerBound(Pe.prefixForUser(e.userId)),i=[];return $t(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var s=wt(t[1]);i.push(s)}else r.done()}).next(function(){b(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Qt(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Yt(t).get(this.userId).next(function(t){return t||new Ne(e.userId,-1,"")})},t}();function Qt(t,e,n){var r=Pe.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return $t(t).iterate({range:s,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Wt(t,e,n){var r=t.store(Re.store),i=t.store(Pe.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=r.iterate({range:o},function(t,e,n){return a++,n.delete()});s.push(l.next(function(){b(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=Pe.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return zt.waitFor(s).next(function(){return u})}function Gt(t){return t instanceof Uint8Array?(b("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Kt(t){return cn.getStore(t,Re.store)}function $t(t){return cn.getStore(t,Pe.store)}function Yt(t){return cn.getStore(t,Ne.store)}var Zt=1,Xt=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Jt=function(){function t(t,e){this.generatorId=t,b((t&Zt)===t,"Generator ID "+t+" contains more than "+Zt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Zt,t},t.prototype.after=function(t){return this.seek(t+(1<<Zt)),this.next()},t.prototype.seek=function(t){b((t&Zt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Xt.QueryCache,2)},t.forSyncEngine=function(){return new t(Xt.SyncEngine)},t}(),te="SimpleDb",ee=function(){function t(e){this.db=e,12.2===t.getIOSVersion(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return b(t.isAvailable(),"IndexedDB not supported in current environment."),p(te,"Opening database:",e),new zt(function(i,s){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){i(new t(e.target.result))},o.onblocked=function(){s(new C(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;s("VersionError"===e.name?new C(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(t){p(te,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new re(o.transaction);r.createOrUpgrade(n,i,t.oldVersion,ke).next(function(){p(te,"Database upgrade to version "+ke+" complete")})}}).toPromise()},t.delete=function(t){return p(te,"Removing database:",t),se(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=a.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=re.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),zt.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),ne=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return se(this.dbCursor.delete())},t}(),re=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ct,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=ae(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p(te,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return b(!!e,"Object store not part of transaction: "+t),new ie(e)},t}(),ie=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p(te,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(p(te,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),se(n)},t.prototype.add=function(t){return p(te,"ADD",this.store.name,t,t),se(this.store.add(t))},t.prototype.get=function(t){var e=this;return se(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p(te,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p(te,"DELETE",this.store.name,t),se(this.store.delete(t))},t.prototype.count=function(){return p(te,"COUNT",this.store.name),se(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p(te,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new zt(function(n,r){e.onerror=function(t){var e=ae(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new zt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new ne(i),o=e(i.primaryKey,i.value,s);if(o instanceof zt){var a=o.catch(function(t){return s.done(),zt.reject(t)});n.push(a)}s.isDone?r():null===s.skipToKey?i.continue():i.continue(s.skipToKey)}else r()}}).next(function(){return zt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(b(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function se(t){return new zt(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ae(t.target.error);n(e)}})}var oe=!1;function ae(t){var e=ee.getIOSVersion(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return oe||(oe=!0,setTimeout(function(){throw r},0)),r}}return t}var le=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Jt.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Et.fromTimestamp(new Ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return he(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ue(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return b(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return ue(t).iterate(function(o,a){var l=r.serializer.fromDbTarget(a);l.sequenceNumber<=e&&void 0===n[l.targetId]&&(i++,s.push(r.removeQueryData(t,l)))}).next(function(){return zt.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return ue(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return ce(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,cn.getStore(n,Be.store)).put(Be.key,e);var n},t.prototype.saveQueryData=function(t,e){return ue(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ue(t).iterate({range:i,index:je.queryTargetsIndexName},function(t,r,i){var o=n.serializer.fromDbTarget(r);e.isEqual(o.query)&&(s=o,i.done())}).next(function(){return s})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=de(t);return e.forEach(function(e){var o=bt(e.path);i.push(s.put(new qe(n,o))),i.push(r.referenceDelegate.addReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=de(t);return zt.forEach(e,function(e){var s=bt(e.path);return zt.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=de(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=de(t),i=Vt();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=wt(t[1]),s=new ut(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=bt(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return de(t).iterate({index:qe.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ue(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function ue(t){return cn.getStore(t,je.store)}function ce(t){return ee.getStore(t,Be.store).get(Be.key).next(function(t){return b(null!==t,"Missing metadata row."),t})}function he(t){return ce(t).next(function(t){return t.highestListenSequenceNumber})}function de(t){return cn.getStore(t,qe.store)}var fe=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)},t}(),pe=function(t){function e(e,n,r,i,s){var o=t.call(this,e,n)||this;return o.data=r,o.proto=s,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(fe),me=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fe),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fe),ye=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(s[0].isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return k(this.inner)},t}(),be=function(){function t(){this.changes=new ye(function(t){return t.toString()}),this.changesApplied=!1}return t.prototype.addEntry=function(t){this.assertNotApplied(),this.changes.set(t.key,t)},t.prototype.removeEntry=function(t){this.assertNotApplied(),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){b(!this.changesApplied,"Changes have already been applied.")},t}(),ve="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",_e=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=ee.getStore(t,He.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntry=function(t,e,n){var r=this;return Ce(t).put(Se(e),n).next(function(){r.indexManager.addToCollectionParentIndex(t,e.path.popLast())})},t.prototype.removeEntry=function(t,e){var n=Ce(t),r=Se(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.setMetadata(t,i).next(function(){if(r.keepDocumentChangeLog)return Ee(t).put({changes:r.serializer.toDbResourcePaths(e)})})})},t.prototype.getEntry=function(t,e){var n=this;return Ce(t).get(Se(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Ce(t).get(Se(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Te(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Nt(),i=new St(ut.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Te(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return zt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Ce(t).iterate({range:r},function(t,e,r){for(var o=ut.fromSegments(t);s&&ut.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.skip(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Pt(),i=e.path.length+1,s=e.path.toArray(),o=IDBKeyRange.lowerBound(s);return Ce(t).iterate({range:o},function(t,s,o){if(t.length===i){var a=n.serializer.fromDbRemoteDocument(s);e.path.isPrefixOf(a.key.path)?a instanceof pe&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;b(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Vt(),r=Dt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),s=!0,o=Ee(t);return o.iterate({range:i},function(t,r){if(s&&(s=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(o).next(function(){return zt.reject(new C(w.DATA_LOSS,ve))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new me(n,Et.forDeletedDoc());r=r.insert(n,e)}))}),zt.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Ee(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return we(t).get(Ve.key).next(function(t){return b(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return we(t).put(Ve.key,e)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n.documentSizes=new ye(function(t){return t.toString()}),n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=Vt();return this.changes.forEach(function(s,o){var a=e.documentSizes.get(s);if(b(void 0!==a,"Cannot modify a document that wasn't read (for "+s+")"),o){var l=e.documentCache.serializer.toDbRemoteDocument(o),u=Te(l);r+=u-a,n.push(e.documentCache.addEntry(t,s,l))}else r-=a,n.push(e.documentCache.removeEntry(t,s));i=i.add(s)}),n.push(this.documentCache.updateMetadata(t,i,r)),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(be),t}();function we(t){return cn.getStore(t,Ve.store)}function Ce(t){return cn.getStore(t,Fe.store)}function Ee(t){return cn.getStore(t,He.store)}function Se(t){return t.path.toArray()}function Te(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var xe=function(){function t(){this.collectionParentIndex=new Ie}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),zt.resolve()},t.prototype.getCollectionParents=function(t,e){return zt.resolve(this.collectionParentIndex.getEntries(e))},t}(),Ie=function(){function t(){this.index={}}return t.prototype.add=function(t){b(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new kt(ot.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new kt(ot.comparator)).toArray()},t}(),ke=8,Ae=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=ke,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(De.store)}(t),function(t){t.createObjectStore(Ne.store,{keyPath:Ne.keyPath}),t.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pe.store)}(t),ze(t),function(t){t.createObjectStore(Fe.store)}(t));var s=zt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qe.store),t.deleteObjectStore(je.store),t.deleteObjectStore(Be.store)}(t),ze(t)),s=s.next(function(){return function(t){var e=t.store(Be.store),n=new Be(0,0,Et.MIN.toTimestamp(),0);return e.put(Be.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Re.store).loadAll().next(function(n){t.deleteObjectStore(Re.store),t.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0});var r=e.store(Re.store),i=n.map(function(t){return r.put(t)});return zt.waitFor(i)})}(t,e)})),s=s.next(function(){!function(t){t.createObjectStore(Qe.store,{keyPath:Qe.keyPath})}(t),function(t){t.createObjectStore(He.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ve.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,e)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Fe.store).iterate(function(t,n){e+=Te(n)}).next(function(){var n=new Ve(e);return t.store(Ve.store).put(Ve.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ne.store),r=t.store(Re.store);return n.loadAll().next(function(n){return zt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Re.userMutationsIndex,i).next(function(r){return zt.forEach(r,function(r){b(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Wt(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(qe.store),n=t.store(Fe.store);return he(t).next(function(t){var r=[];return n.iterate(function(n,i){var s=new ot(n),o=function(t){return[0,bt(t)]}(s);r.push(e.get(o).next(function(n){return n?zt.resolve():function(n){return e.put(new qe(0,bt(n),t))}(s)}))}).next(function(){return zt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ue.store,{keyPath:Ue.keyPath});var n=e.store(Ue.store),r=new Ie,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:bt(i)})}};return e.store(Fe.store).iterate({keysOnly:!0},function(t,e){var n=new ot(t);return i(n.popLast())}).next(function(){return e.store(Pe.store).iterate({keysOnly:!0},function(t,e){var n=wt(t[1]);return i(n.popLast())})})},t}(),Oe=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),De=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Ne=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Re=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Pe=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bt(e)]},t.key=function(t,e,n){return[t,bt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Me=function(){return function(t,e){this.path=t,this.readTime=e}}(),Le=function(){return function(t,e){this.path=t,this.version=e}}(),Fe=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Ve=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),je=function(){function t(t,e,n,r,i,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),qe=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,b(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Be=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Ue=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function ze(t){t.createObjectStore(qe.store,{keyPath:qe.keyPath}).createIndex(qe.documentTargetsIndex,qe.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(je.store,{keyPath:je.keyPath}).createIndex(je.queryTargetsIndexName,je.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Be.store)}var He=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Qe=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),We=[Ne.store,Re.store,Pe.store,Fe.store,je.store,De.store,Be.store,qe.store].concat([Qe.store,He.store]).concat([Ve.store]).concat([Ue.store]),Ge=function(){function t(){this.collectionParentsCache=new Ie}return t.prototype.addToCollectionParentIndex=function(t,e){if(b(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){b(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ke(t).put({collectionId:n,parent:bt(r)})}return zt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return Ke(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(wt(s.parent))}return n})},t}();function Ke(t){return cn.getStore(t,Ue.store)}var $e=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Ye=function(){function t(t,e,n,r,i,s){void 0===i&&(i=Et.MIN),void 0===s&&(s=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=s}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Ze=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ut.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new me(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ut.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new ge(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof pe){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new Fe(null,null,e,i=t.hasCommittedMutations)}if(t instanceof me){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new Fe(null,new Me(n,r),null,i)}return t instanceof ge?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new Fe(new Le(n,r),null,null,!0)):y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new Oe(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Ct(t.seconds,t.nanoseconds);return Et.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Re(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=Ct.fromMillis(t.localWriteTimeMs);return new Bt(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(bt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Vt(),n=0,r=t;n<r.length;n++)e=e.add(new ut(wt(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Ye(e,t.targetId,$e.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){b($e.Listen===t.purpose,"Only queries with purpose "+$e.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(b("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new je(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Xe(t,e){var n=t[1],r=e[1],i=K(t[0],e[0]);return 0===i?K(n,r):i}var Je=function(){function t(t){this.maxElements=t,this.buffer=new kt(Xe),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xe(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),tn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},en=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),nn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==en.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ht.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(hn)})},t}(),rn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zt.resolve(it.INVALID);var r=new Je(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===en.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(tn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,s,o,a,l,u=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return l=Date.now(),d()<=h.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),zt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),sn="IndexedDbPersistence",on="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",an="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ln="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",un=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return o.__extends(e,t),e}(function(){return function(){}}()),cn=function(){function t(e,n,r,i,s,o,a){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new C(w.UNIMPLEMENTED,ln);if(this.referenceDelegate=new pn(this,o),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Ze(s),this.document=r.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new le(this.referenceDelegate,this.serializer),this.indexManager=new Ge,this.remoteDocumentCache=new _e(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof un)return ee.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,s,a){return o.__awaiter(this,void 0,void 0,function(){var l;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(l=new t(e,n,r,i,s,a)).start()];case 1:return o.sent(),[2,l]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,s,a,l){return o.__awaiter(this,void 0,void 0,function(){var u;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(u=new t(e,n,r,i,s,a,l)).start()];case 1:return o.sent(),[2,u]}})})},t.prototype.start=function(){var t=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),ee.openOrCreate(this.dbName,ke,new Ae(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[Be.store],function(e){return he(e).next(function(e){t.listenSequence=new it(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",We,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",We,function(e){return fn(e).put(new Qe(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return dn(t).get(De.key).next(function(t){return zt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return fn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return o.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var s=t.getStore(i,Qe.store);return s.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return zt.forEach(n,function(t){return s.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ht.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return dn(t).get(De.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,an);return!1}}return!(!e.networkEnabled||!e.inForeground)||fn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&p(sn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[De.store,Qe.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Qe.store],function(e){return fn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,ee.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),Ht.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return b(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return b(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return p(sn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",We,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(w.FAILED_PRECONDITION,on);return n(new un(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new un(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return dn(t).get(De.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,an)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new De(this.clientId,this.allowTabSynchronization,Date.now());return dn(t).put(De.key,e)},t.isAvailable=function(){return ee.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=dn(t);return n.get(De.key).next(function(t){return e.isLocalClient(t)?(p(sn,"Releasing primary lease."),n.delete(De.key)):zt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return p(sn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(sn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function hn(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===on}(t))throw t;return p(sn,"Unexpectedly lost primary lease"),[2]})})}function dn(t){return t.store(De.store)}function fn(t){return t.store(Qe.store)}var pn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new rn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return mn(t,e)},t.prototype.removeReference=function(t,e){return mn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return mn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?zt.resolve(!0):function(t,e){var n=!1;return Yt(t).iterateSerial(function(r){return Qt(t,r,e).next(function(t){return t&&(n=!0),zt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.forEachOrphanedDocument(t,function(o,a){if(a<=e){var l=n.isPinned(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),de(t).delete([0,bt(o.path)])})});i.push(l)}}).next(function(){return zt.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=de(t),i=it.INVALID;return r.iterate({index:qe.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==it.INVALID&&e(new ut(wt(n)),i),i=o,n=s):i=it.INVALID}).next(function(){i!==it.INVALID&&e(new ut(wt(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mn(t,e){return de(t).put(function(t,e){return new qe(0,bt(t.path),e)}(e,t.currentSequenceNumber))}var gn=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),yn=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),bn=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(yn.Estimate,n);case"previous":return new t(yn.Previous,n);case"none":case void 0:return new t(yn.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),vn=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return b(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,t.typeOrder)},t}(),_n=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=gn.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(vn),wn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(vn),Cn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(vn);function En(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&En(this.internalValue,t.internalValue)},e}(Cn),Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&En(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Cn),xn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(vn),In=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof kn?-1:this.defaultCompareTo(t)},e}(vn),kn=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=gn.TimestampValue,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===yn.Estimate?new In(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===yn.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof In?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(vn),An=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(vn),On=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=gn.RefValue,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ut.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(vn),Dn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(vn),Nn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext();if(i.key!==s.key||!i.value.isEqual(s.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext(),o=K(i.key,s.key)||i.value.compareTo(s.value);if(o)return o}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(b(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(b(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){b(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new kt(lt.comparator);return this.internalValue.forEach(function(n,r){var i=new lt([n]);if(r instanceof e){var s=r.fieldMask().fields;s.isEmpty()?t=t.add(i):s.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),Pn.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new St(K)),e}(vn),Rn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(vn),Pn=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new kt(lt.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Mn=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Ln=function(){return function(t,e){this.version=t,this.transformResults=e}}(),Fn=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),Vn=function(){function t(t,e){this.updateTime=t,this.exists=e,b(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof pe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof pe:(b(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),jn=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&b(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof pe?t.version:Et.MIN},t}(),qn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Fn.Set,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by SetMutation."),new pe(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=jn.getPostMutationVersion(t);return new pe(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(jn),Bn=function(t){function e(e,n,r,i){var s=t.call(this)||this;return s.key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.type=Fn.Patch,s}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ge(this.key,e.version);var n=this.patchDocument(t);return new pe(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=jn.getPostMutationVersion(t),i=this.patchDocument(t);return new pe(this.key,r,i,{hasLocalMutations:!0})},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof pe?t.data:Nn.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(jn),Un=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Fn.Transform,r.precondition=Vn.exists(!0),r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ge(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,s=this.transformObject(n.data,r);return new pe(this.key,i,s,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),s=this.transformObject(r.data,i);return new pe(this.key,r.version,s,{hasLocalMutations:!0})},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],s=t instanceof pe?t.field(i.field):void 0,o=i.transform.computeBaseValue(s||null);null!=o&&(e=null==e?Nn.EMPTY.set(i.field,o):e.set(i.field,o))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&$(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){b(t instanceof pe,"Unknown MaybeDocument type "+t);var e=t;return b(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];b(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],s=i.transform,o=null;t instanceof pe&&(o=t.field(i.field)),n.push(s.applyToRemoteDocument(o,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,s=this.fieldTransforms;i<s.length;i++){var o=s[i],a=o.transform,l=null;e instanceof pe&&(l=e.field(o.field)),null===l&&n instanceof pe&&(l=n.field(o.field)),r.push(a.applyToLocalView(l,t))}return r},e.prototype.transformObject=function(t,e){b(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(jn),zn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Fn.Delete,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by DeleteMutation."),new me(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&b(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new me(this.key,Et.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(jn),Hn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Nt();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),s=Dt();return i.forEach(function(t,e){e||(e=new me(t,Et.forDeletedDoc())),s=s.insert(t,e)}),s})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ut(e)).next(function(t){var e=Pt();return t instanceof pe&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;b(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Pt();return this.indexManager.getCollectionParents(t,r).next(function(s){return zt.forEach(s,function(s){var o=e.asCollectionQueryAtPath(s.child(r));return n.getDocumentsMatchingCollectionQuery(t,o).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i.addMissingBaseDocuments(t,r=e,n).next(function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var s=i[e],o=0,a=s.mutations;o<a.length;o++){var l=a[o],u=l.key,c=n.get(u),h=l.applyToLocalView(c,c,s.localWriteTime);n=h instanceof pe?n.insert(u,h):n.remove(u)}})}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Vt(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var l=a[o];l instanceof Bn&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof pe&&(u=u.insert(t,e))}),u})},t}(),Qn=function(){function t(){this.refsByKey=new kt(Wn.compareByKey),this.refsByTarget=new kt(Wn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Wn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ut.EMPTY,r=new Wn(n,t),i=new Wn(n,t+1),s=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),s.push(t.key)}),s},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ut.EMPTY,n=new Wn(e,t),r=new Wn(e,t+1),i=Vt();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Wn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||ut.comparator(t.key,e.key)},t}(),Gn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Qn,this.queryDataByTarget={},b(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Hn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Hn(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],s=[],o=Vt(),a=0,l=r;a<l.length;a++){i.push((f=l[a]).batchId);for(var u=0,c=f.mutations;u<c.length;u++)o=o.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var f;s.push((f=d[h]).batchId);for(var p=0,m=f.mutations;p<m.length;p++)o=o.add(m[p].key)}return e.localDocuments.getDocuments(n,o).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:s}})})})},t.prototype.localWrite=function(t){var e=this,n=Ct.now(),r=t.reduce(function(t,e){return t.add(e.key)},Vt());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var s=[],o=0,a=t;o<a.length;o++){var l=a[o],u=l.extractBaseValue(r.get(l.key));null!=u&&s.push(new Bn(l.key,u,u.fieldMask(),Vn.exists(!0)))}return e.mutationQueue.addMutationBatch(i,n,s,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):zt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return b(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var o=[];x(e.targetChanges,function(e,r){var a=n.queryDataByTarget[e];if(a){o.push(n.queryCache.removeMatchingKeys(s,r.removedDocuments,e).next(function(){return n.queryCache.addMatchingKeys(s,r.addedDocuments,e)}));var l=r.resumeToken;if(l.length>0){var u=a.copy({resumeToken:l,snapshotVersion:i});n.queryDataByTarget[e]=u,t.shouldPersistQueryData(a,u,r)&&o.push(n.queryCache.updateQueryData(s,u))}}});var a=Dt(),l=Vt();if(e.documentUpdates.forEach(function(t,e){l=l.add(t)}),o.push(r.getEntries(s,l).next(function(t){e.documentUpdates.forEach(function(i,l){var u=t.get(i);null==u||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(r.addEntry(l),a=a.insert(i,l)):l instanceof me&&l.version.isEqual(Et.MIN)?(r.removeEntry(i),a=a.insert(i,l)):p("LocalStore","Ignoring outdated watch update for ",i,". Current version:",u.version," Watch version:",l.version),e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,i))})})),!i.isEqual(Et.MIN)){var u=n.queryCache.getLastRemoteSnapshotVersion(s).next(function(t){return b(i.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.queryCache.setTargetsMetadata(s,s.currentSequenceNumber,i)});o.push(u)}return zt.waitFor(o).next(function(){return r.apply(s)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(s,a)})})},t.shouldPersistQueryData=function(t,e,n){return b(e.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return zt.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),zt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,zt.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Ye(t,i,$e.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return b(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){b(null!=i,"Tried to release nonexistent query: "+t);var s=i.targetId,o=n.queryDataByTarget[s],a=n.localViewReferences.removeReferencesForId(s);return delete n.queryDataByTarget[s],e?zt.resolve():zt.forEach(a,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,o)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,s=i.keys(),o=zt.resolve();return s.forEach(function(r){o=o.next(function(){return n.getEntry(t,r)}).next(function(t){var s=t,o=e.docVersions.get(r);b(null!==o,"ackVersions should contain every doc in the write."),(!s||s.version.compareTo(o)<0)&&((s=i.applyToRemoteDocument(r,s,e))?n.addEntry(s):b(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),o.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Kn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new kt(Wn.compareByKey)}return t.prototype.checkEmpty=function(t){return zt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");b(0===i,"Can only acknowledge the first batch in the mutation queue");var s=this.mutationQueue[i];return b(r===s.batchId,"Queue ordering failure: expected batch "+r+", got batch "+s.batchId),this.lastStreamToken=n,zt.resolve()},t.prototype.getLastStreamToken=function(t){return zt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,zt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){b(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var s=new Bt(i,e,n,r);this.mutationQueue.push(s);for(var o=0,a=r;o<a.length;o++){var l=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wn(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast())}return zt.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return zt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return b(null!=n,"Failed to find local mutation batch."),zt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return zt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return zt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wn(e,0),i=new Wn(e,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){b(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);b(null!==r,"Batches in the index must exist in the main table"),s.push(r)}),zt.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kt(K);return e.forEach(function(t){var e=new Wn(t,0),i=new Wn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){b(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),zt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ut.isDocumentKey(i)||(i=i.child(""));var s=new Wn(new ut(i),0),o=new kt(K);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.targetOrBatchId)),!0)},s),zt.resolve(this.findMutationBatches(o))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;b(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return zt.forEach(e.mutations,function(i){var s=new Wn(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Wn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return zt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),zt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return b(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return b(n.batchId===t,"If found batch must match"),n},t}(),$n=function(){function t(t){this.persistence=t,this.queries=new ye(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Et.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Qn,this.targetCount=0,this.targetIdGenerator=Jt.forQueryCache()}return t.prototype.getTargetCount=function(t){return zt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),zt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,zt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),zt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return b(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,zt.resolve()},t.prototype.updateQueryData=function(t,e){return b(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),zt.resolve()},t.prototype.removeQueryData=function(t,e){return b(this.targetCount>0,"Removing a target from an empty cache"),b(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,zt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.queries.forEach(function(o,a){a.sequenceNumber<=e&&!n[a.targetId]&&(r.queries.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),zt.waitFor(s).next(function(){return i})},t.prototype.getQueryCount=function(t){return zt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return zt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),zt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return zt.resolve(n)},t.prototype.containsKey=function(t,e){return zt.resolve(this.references.containsKey(e))},t}(),Yn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new St(ut.comparator),this.newDocumentChanges=Vt(),this.size=0}return t.prototype.addEntry=function(t,e){var n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.sizer(e);return this.docs=this.docs.insert(n,{maybeDocument:e,size:s}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),zt.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Pt(),r=new ut(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var s=i.getNext(),o=s.value.maybeDocument;if(!e.path.isPrefixOf(s.key.path))break;o instanceof pe&&e.matches(o)&&(n=n.insert(o.key,o))}return zt.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return zt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Dt();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new me(t,Et.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Vt(),zt.resolve(n)},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return zt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i?n.push(e.documentCache.addEntry(t,i)):e.documentCache.removeEntry(r)}),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(be),t}(),Zn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new it(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new $n(this),this.indexManager=new xe,this.remoteDocumentCache=new Yn(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new tr(t,new Ze(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Jn(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Kn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Xn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return zt.or((n=this.mutationQueues,r=[],I(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Xn=function(){return function(t){this.currentSequenceNumber=t}}(),Jn=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return zt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),tr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new ye(function(t){return bt(t.path)}),this.garbageCollector=new rn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return zt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return zt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?zt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(t){t||(r++,s.removeEntry(i))})}).next(function(){return s.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return zt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return zt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),er=Number,nr=er.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),rr=er.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ir=er.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function sr(t){return null==t}function or(t){return ir(t)&&t<=rr&&t>=nr}var ar=1e3,lr=1.5,ur=6e4,cr=function(){function t(t,e,n,r,i){void 0===n&&(n=ar),void 0===r&&(r=lr),void 0===i&&(i=ur),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),hr=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),dr=function(){function t(t,e,n,r,i,s){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=s,this.state=hr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new cr(t,e)}return t.prototype.isStarted=function(){return this.state===hr.Starting||this.state===hr.Open||this.state===hr.Backoff},t.prototype.isOpen=function(){return this.state===hr.Open},t.prototype.start=function(){this.state!==hr.Error?(b(this.state===hr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(hr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=hr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.isOpen()?[2,this.close(hr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(t===hr.Error||sr(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==hr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;b(this.state===hr.Initial,"Must be in initial state to auth"),this.state=hr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;b(this.state===hr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return b(e.state===hr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=hr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;b(this.state===hr.Error,"Should only perform backoff when in Error state"),this.state=hr.Backoff,this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){return b(this.state===hr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=hr.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return b(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(hr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fr=function(t){function e(e,n,r,i,s){var o=t.call(this,e,ht.ListenStreamConnectionBackoff,ht.ListenStreamIdle,n,r,s)||this;return o.serializer=i,o}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(dr),pr=function(t){function e(e,n,r,i,s){var o=t.call(this,e,ht.WriteStreamConnectionBackoff,ht.WriteStreamIdle,n,r,s)||this;return o.serializer=i,o.handshakeComplete_=!1,o.lastStreamToken=_(),o}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return b(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(dr),mr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new pr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new fr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Dt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);b(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),gr=function(){function t(t){this.datastore=t,this.readVersions=Lt(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof me||t instanceof pe?n.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new zn(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new C(w.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof pe)e=t.version;else{if(!(t instanceof me))throw y("Document in a transaction was a "+t.constructor.name);e=Et.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?Vn.updateTime(e):Vn.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(Et.forDeletedDoc()))throw new C(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(e)}return Vn.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){b(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),yr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),br=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),vr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=yr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(yr.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ht.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,b(t.state===yr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(yr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===yr.Online?(this.setAndBroadcast(yr.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(yr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===yr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),_r=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function wr(t){switch(t){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function Cr(t){if(void 0===t)return m("GRPC error has no .code"),w.UNKNOWN;switch(t){case _r.OK:return w.OK;case _r.CANCELLED:return w.CANCELLED;case _r.UNKNOWN:return w.UNKNOWN;case _r.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case _r.INTERNAL:return w.INTERNAL;case _r.UNAVAILABLE:return w.UNAVAILABLE;case _r.UNAUTHENTICATED:return w.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case _r.NOT_FOUND:return w.NOT_FOUND;case _r.ALREADY_EXISTS:return w.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return w.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case _r.ABORTED:return w.ABORTED;case _r.OUT_OF_RANGE:return w.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return w.UNIMPLEMENTED;case _r.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Er(t){if(void 0===t)return _r.OK;switch(t){case w.OK:return _r.OK;case w.CANCELLED:return _r.CANCELLED;case w.UNKNOWN:return _r.UNKNOWN;case w.DEADLINE_EXCEEDED:return _r.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return _r.RESOURCE_EXHAUSTED;case w.INTERNAL:return _r.INTERNAL;case w.UNAVAILABLE:return _r.UNAVAILABLE;case w.UNAUTHENTICATED:return _r.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return _r.INVALID_ARGUMENT;case w.NOT_FOUND:return _r.NOT_FOUND;case w.ALREADY_EXISTS:return _r.ALREADY_EXISTS;case w.PERMISSION_DENIED:return _r.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return _r.FAILED_PRECONDITION;case w.ABORTED:return _r.ABORTED;case w.OUT_OF_RANGE:return _r.OUT_OF_RANGE;case w.UNIMPLEMENTED:return _r.UNIMPLEMENTED;case w.DATA_LOSS:return _r.DATA_LOSS;default:return y("Unknown status code: "+t)}}var Sr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ut.comparator(e.key,n.key)}:function(t,e){return ut.comparator(t.key,e.key)},this.keyedMap=Pt(),this.sortedSet=new St(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Tr=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),xr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Ir=function(){function t(){this.changeMap=new St(ut.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Tr.Added&&n.type===Tr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Tr.Metadata&&n.type!==Tr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Tr.Modified&&n.type===Tr.Modified?this.changeMap=this.changeMap.insert(e,{type:Tr.Modified,doc:t.doc}):t.type===Tr.Modified&&n.type===Tr.Added?this.changeMap=this.changeMap.insert(e,{type:Tr.Added,doc:t.doc}):t.type===Tr.Removed&&n.type===Tr.Added?this.changeMap=this.changeMap.remove(e):t.type===Tr.Removed&&n.type===Tr.Modified?this.changeMap=this.changeMap.insert(e,{type:Tr.Removed,doc:n.doc}):t.type===Tr.Added&&n.type===Tr.Removed?this.changeMap=this.changeMap.insert(e,{type:Tr.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),kr=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:Tr.Added,doc:t})}),new t(e,n,Sr.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ar=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Or.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Et.MIN,i,qt(),Dt(),Vt())},t}(),Or=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Vt(),Vt(),Vt())},t}(),Dr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Nr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Rr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Pr=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Mr=function(){function t(){this.pendingResponses=0,this.documentChanges=Vr(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Vt(),e=Vt(),n=Vt();return this.documentChanges.forEach(function(r,i){switch(i){case Tr.Added:t=t.add(r);break;case Tr.Modified:e=e.add(r);break;case Tr.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Or(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Vr()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Lr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new kt(K)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof pe?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof me&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.removeDocumentFromTarget(r=s[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Rr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Rr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Rr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),b(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Rr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Rr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):x(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var s=new ut(i.path);this.removeDocumentFromTarget(e,s,new me(s,Et.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};x(this.targetStates,function(r,i){var s=e.queryDataForActiveTarget(r);if(s){if(i.current&&s.query.isDocumentQuery()){var o=new ut(s.query.path);null!==e.pendingDocumentUpdates.get(o)||e.targetContainsDocument(r,o)||e.removeDocumentFromTarget(r,o,new me(o,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Vt();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===$e.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ar(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new kt(K),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Tr.Modified:Tr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Tr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Mr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new kt(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;b(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Mr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Fr(){return new St(ut.comparator)}function Vr(){return new St(ut.comparator)}var jr="RemoteStore",qr=function(){function t(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return o.__awaiter(s,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(p(jr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new vr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(yr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(yr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(p(jr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return p(jr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(yr.Unknown),[2]}})})},t.prototype.listen=function(t){b(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){b(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),k(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(yr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Lr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!k(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){return x(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return void 0===t&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(yr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(yr.Online),t instanceof Pr&&t.state===Rr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Dr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Nr?this.watchChangeAggregator.handleExistenceFilter(t):(b(t instanceof Pr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Et.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;b(!t.isEqual(Et.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return x(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:_()}),e.sendUnwatchRequest(t);var r=new Ye(n.query,t,$e.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;b(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(hn)},t.prototype.onMutationResult=function(t,e){var n=this;b(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Ut.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){var e=this;return o.__generator(this,function(n){return void 0===t&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return wr(t.code)?(p(jr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(hn)]):[2]})})},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){return wr(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new gr(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(yr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(p(jr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(yr.Unknown),e.label=4;case 4:return[2]}})})},t}(),Br=function(){function t(t,e){if(O("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),Ur=function(){function t(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[ti]:[new Jr(t),ti];else{b(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var s=i[r];this.memoizedOrderBy.push(s),s.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Zr.ASCENDING)===Zr.ASCENDING?ti:ei)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){b(null==this.getInequalityFilterField()||!(e instanceof Qr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";sr(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),sr(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var s=i[r],o=s.compare(t,e);if(0!==o)return o;n=n||s.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!sr(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Qr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Qr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return ut.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ut.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){b(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),zr=function(){return function(){}}(),Hr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Qr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===Hr.IN?(b(r instanceof Rn,"Comparing on key with IN, but filter value not an ArrayValue"),b(r.internalValue.every(function(t){return t instanceof On}),"Comparing on key with IN, but an array value was not a RefValue"),new Gr(t,r)):(b(r instanceof On,"Comparing on key, but filter value not a RefValue"),b(n!==Hr.ARRAY_CONTAINS&&n!==Hr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Wr(t,n,r));if(r.isEqual(_n.INSTANCE)){if(n!==Hr.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Tn.NAN)){if(n!==Hr.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===Hr.ARRAY_CONTAINS?new Kr(t,r):n===Hr.IN?(b(r instanceof Rn,"IN filter has invalid value: "+r.toString()),new $r(t,r)):n===Hr.ARRAY_CONTAINS_ANY?(b(r instanceof Rn,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Yr(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Hr.LESS_THAN:return t<0;case Hr.LESS_THAN_OR_EQUAL:return t<=0;case Hr.EQUAL:return 0===t;case Hr.GREATER_THAN:return t>0;case Hr.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zr),Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ut.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(Qr),Gr=function(t){function e(e,n){var r=t.call(this,e,Hr.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(Qr),Kr=function(t){function e(e,n){return t.call(this,e,Hr.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Rn&&e.contains(this.value)},e}(Qr),$r=function(t){function e(e,n){var r=t.call(this,e,Hr.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(Qr),Yr=function(t){function e(e,n){var r=t.call(this,e,Hr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Rn&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(Qr),Zr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Xr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){b(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],s=this.position[r];if(i.field.isKeyField())b(s instanceof On,"Bound has a non-key value where the key path is being used."),n=ut.comparator(s.key,e.key);else{var o=e.field(i.field);b(void 0!==o,"Field should exist since document matched the orderBy already."),n=s.compareTo(o)}if(i.dir===Zr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),Jr=function(){function t(t,e){this.field=t,void 0===e&&(e=Zr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?pe.compareByKey(t,e):pe.compareByField(this.field,t,e);switch(this.dir){case Zr.ASCENDING:return n;case Zr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ti=new Jr(lt.keyField(),Zr.ASCENDING),ei=new Jr(lt.keyField(),Zr.DESCENDING),ni=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new kn(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ri=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rn(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),ii=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rn(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),si=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof Sn&&this.operand instanceof Sn?new Sn(n.internalValue+this.operand.internalValue):new Tn(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return b(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof Cn?t:new Sn(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function oi(t){return t instanceof Rn?t.internalValue.slice():[]}var ai,li,ui=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ci=((ai={})[Zr.ASCENDING.name]="ASCENDING",ai[Zr.DESCENDING.name]="DESCENDING",ai),hi=((li={})[Hr.LESS_THAN.name]="LESS_THAN",li[Hr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",li[Hr.GREATER_THAN.name]="GREATER_THAN",li[Hr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",li[Hr.EQUAL.name]="EQUAL",li[Hr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",li[Hr.IN.name]="IN",li[Hr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",li),di=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t,e){b(!sr(t),e+" is missing")}function pi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var mi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Cr(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return sr(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return sr(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);b(!!t,"Cannot deserialize null or undefined timestamp.");var e=pi(t.seconds||"0");return new Ct(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=di.exec(t);if(b(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),s=Math.floor(i.getTime()/1e3);return new Ct(s,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return b(!!t,"Trying to deserialize version that isn't set"),Et.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ot.fromString(t);return b(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return b(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),b(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ut(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ot.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ot(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ot(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return b(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof _n)return{nullValue:"NULL_VALUE"};if(t instanceof wn)return{booleanValue:t.value()};if(t instanceof Sn)return{integerValue:""+t.value()};if(t instanceof Tn){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof xn?{stringValue:t.value()}:t instanceof Nn?{mapValue:this.toMapValue(t)}:t instanceof Rn?{arrayValue:this.toArrayValue(t)}:t instanceof In?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Dn?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof An?{bytesValue:this.toBytes(t.value())}:t instanceof On?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return _n.INSTANCE;if("booleanValue"in t)return wn.of(t.booleanValue);if("integerValue"in t)return new Sn(pi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Tn.NAN;if("Infinity"===t.doubleValue)return Tn.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Tn.NEGATIVE_INFINITY}return new Tn(t.doubleValue)}if("stringValue"in t)return new xn(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return fi(t.arrayValue,"arrayValue"),new Rn((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return fi(t.timestampValue,"timestampValue"),new In(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return fi(t.geoPointValue,"geoPointValue"),new Dn(new Br(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){fi(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new An(n)}if("referenceValue"in t){fi(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new rt(r.get(1),r.get(3)),s=new ut(this.extractLocalPathFromResourceName(r));return new On(i,s)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return b(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new pe(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Nn.EMPTY;return I(t,function(t,r){n=n.set(new lt([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){b(!!t.found,"Tried to deserialize a found document from a missing document."),fi(t.found.name,"doc.found.name"),fi(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new pe(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){b(!!t.missing,"Tried to deserialize a missing document from a found document."),b(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new me(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Rr.Added:return"ADD";case Rr.Current:return"CURRENT";case Rr.NoChange:return"NO_CHANGE";case Rr.Removed:return"REMOVE";case Rr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Nr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Dr){var e;if(t.newDoc instanceof pe)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof me)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Pr){var n=void 0;return t.cause&&(n={code:Er(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e;if("targetChange"in t){fi(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,o=s&&this.fromRpcStatus(s);e=new Pr(n,r,i,o||null)}else if("documentChange"in t){fi(t.documentChange,"documentChange"),fi(t.documentChange.document,"documentChange.name"),fi(t.documentChange.document.name,"documentChange.document.name"),fi(t.documentChange.document.updateTime,"documentChange.document.updateTime");var a=t.documentChange,l=this.fromName(a.document.name),u=this.fromVersion(a.document.updateTime),c=this.fromFields(a.document.fields||{}),h=new pe(l,u,c,{},a.document);e=new Dr(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){fi(t.documentDelete,"documentDelete"),fi(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;l=this.fromName(d.document),u=d.readTime?this.fromVersion(d.readTime):Et.forDeletedDoc(),h=new me(l,u),e=new Dr([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){fi(t.documentRemove,"documentRemove"),fi(t.documentRemove.document,"documentRemove");var f=t.documentRemove;l=this.fromName(f.document),e=new Dr([],f.removedTargetIds||[],l,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));fi(t.filter,"filter"),fi(t.filter.targetId,"filter.targetId");var p=t.filter,m=new ui(p.count||0);e=new Nr(p.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Rr.NoChange:"ADD"===t?Rr.Added:"REMOVE"===t?Rr.Removed:"CURRENT"===t?Rr.Current:"RESET"===t?Rr.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Et.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Et.MIN:e.readTime?this.fromVersion(e.readTime):Et.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof qn)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof zn)e={delete:this.toName(t.key)};else if(t instanceof Bn)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Un))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Vn.NONE;if(t.update){fi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var s=this.fromDocumentMask(t.updateMask);return new Bn(r,i,s,n)}return new qn(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new zn(r,n);if(t.transform){r=this.fromName(t.transform.document);var o=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new Un(r,o)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return b(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Vn.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Vn.exists(t.exists):Vn.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new Ln(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(b(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ni)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof si)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=ni.instance;else if("appendMissingElements"in t)n=new ri((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new ii((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);b(r instanceof Cn,"NUMERIC_ADD transform requires a NumberValue"),n=new si(r)}else y("Unknown transform proto: "+JSON.stringify(t));var i=lt.fromServerFormat(t.fieldPath);return new Mn(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return b(1===e,"DocumentsTarget contained other than 1 document: "+e),Ur.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(b(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(b(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var s=this.toInt32Value(t.limit);return void 0!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r,"StructuredQuery.from with more than one collection is not supported.");var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Ur(e,i,a,o,l,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case $e.Listen:return null;case $e.ExistenceFilterMismatch:return"existence-filter-mismatch";case $e.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Qr?e.toUnaryOrFieldFilter(t):y("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Xr(r,n)},t.prototype.toDirection=function(t){return ci[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Zr.ASCENDING;case"DESCENDING":return Zr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return hi[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Hr.EQUAL;case"GREATER_THAN":return Hr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Hr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Hr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Hr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Hr.ARRAY_CONTAINS;case"IN":return Hr.IN;case"ARRAY_CONTAINS_ANY":return Hr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return lt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Jr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return Qr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===Hr.EQUAL){if(t.value.isEqual(Tn.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(_n.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return Qr.create(e,Hr.EQUAL,Tn.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return Qr.create(n,Hr.EQUAL,_n.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return lt.fromServerFormat(t)});return Pn.fromArray(e)},t}(),gi=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),yi=function(){function t(t){this.syncEngine=t,this.queries=new ye(function(t){return t.canonicalId()}),this.onlineState=yr.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new gi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(s){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var s=0,o=i.listeners;s<o.length;s++)o[s].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),bi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=yr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(b(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Tr.Metadata&&e.push(i)}t=new kr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==yr.Offline?(b(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===yr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=kr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),vi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Vt(),i=Vt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case Tr.Added:r=r.add(a.doc.key);break;case Tr.Removed:i=i.add(a.doc.key)}}return new t(e,r,i)},t}(),_i=function(){return function(t){this.key=t}}(),wi=function(){return function(t){this.key=t}}(),Ci=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Vt(),this.mutatedKeys=Vt(),this.documentSet=new Sr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ir,i=e?e.documentSet:this.documentSet,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var u=i.get(t),c=e instanceof pe?e:null;c&&(b(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!u&&n.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(r.track({type:Tr.Metadata,doc:c}),f=!0):n.shouldWaitForSyncedDocument(u,c)||(r.track({type:Tr.Modified,doc:c}),f=!0,l&&n.query.docComparator(c,l)>0&&(a=!0)):!u&&c?(r.track({type:Tr.Added,doc:c}),f=!0):u&&!c&&(r.track({type:Tr.Removed,doc:u}),f=!0,l&&(a=!0)),f&&(c?(o=o.add(c),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),this.query.hasLimit())for(;o.size>this.query.limit;){var u=o.last();o=o.delete(u.key),s=s.delete(u.key),r.track({type:Tr.Removed,doc:u})}return b(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;b(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var s=t.changeSet.getChanges();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Tr.Added:return 1;case Tr.Modified:case Tr.Metadata:return 2;case Tr.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var o=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?xr.Synced:xr.Local,l=a!==this.syncState;return this.syncState=a,0!==s.length||l?{snapshot:new kr(this.query,t.documentSet,i,s,t.mutatedKeys,a===xr.Local,l,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===yr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ir,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return b(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Vt(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new wi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new _i(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Vt();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return kr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===xr.Local)},t}(),Ei=5,Si=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=Ei,this.backoff=new cr(this.asyncQueue,ht.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return o.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!sr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wr(e)}return!1},t}(),Ti=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),xi=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),Ii=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new ye(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new St(ut.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Qn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Jt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=yr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){b(null!==t,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=o.sent(),s=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s,a,l,u,c;return o.__generator(this,function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(n=t.query)];case 1:return r=o.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return i=o.sent(),s=new Ci(n,i),a=s.computeDocChanges(r),l=Or.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==yr.Offline),b(0===(u=s.applyChanges(a,!0===this.isPrimary,l)).limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new Ti(n,t.targetId,s),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[t.targetId]=c,[2,u.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query)];case 1:return e=i.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return n=i.sent(),r=t.view.synchronizeWithPersistedState(e,n),this.isPrimary&&this.updateTrackedLimbos(t.targetId,r.limboChanges),[2,r]}})})},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(hn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new Si(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),I(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?b(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(b(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,hn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===br.RemoteStore||!this.isPrimary&&e===br.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);b(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s,a,l,u=this;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new St(ut.comparator)).insert(r,new me(r,Et.forDeletedDoc())),s=Vt().add(r),a=new Ar(Et.MIN,{},new kt(K),i,s),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return b(!!(l=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(l.query,!1).then(function(){return u.removeAndCleanupQuery(l)}).catch(hn)];case 2:o.sent(),this.syncEngineListener.onWatchError(l.query,e),o.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,hn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,hn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new C(w.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new St(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(b(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof _i?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof wi?(p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Ur.atPath(e.path);this.limboResolutionsByTarget[n]=new xi(e),this.remoteStore.listen(new Ye(r,n,$e.LimboResolution,it.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s=this;return o.__generator(this,function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(o,a){i.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?s.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var i=a.view.applyChanges(t,!0===s.isPrimary,e&&e.targetChanges[a.targetId]);if(s.updateTrackedLimbos(a.targetId,i.limboChanges),i.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=vi.fromSnapshot(a.targetId,i.snapshot);r.push(o)}}))}),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){b(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s,a,l=this;return o.__generator(this,function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=o.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),x(this.queryViewsByTarget,function(t,e){l.sharedClientState.isLocalQueryTarget(t)?s.push(t):a=a.then(function(){return l.unlisten(e.query)}),l.remoteStore.unlisten(e.targetId)}),[4,a]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;x(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new St(ut.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s,a,l,u,c;return o.__generator(this,function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(a=void 0,(l=this.queryViewsByTarget[s=i[r]])?[4,this.localStore.releaseQuery(l.query,!0)]:[3,5]):[3,11];case 2:return o.sent(),[4,this.localStore.allocateQuery(l.query)];case 3:return a=o.sent(),[4,this.synchronizeViewAndComputeSnapshot(l)];case 4:return(u=o.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return b(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(s)];case 6:return b(!!(c=o.sent()),"Query data for target "+s+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=o.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:o.sent(),o.label=9;case 9:e.push(a),o.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r,i,s,a,l;return o.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,11];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return o.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=o.sent(),i=Ar.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return o.sent(),[3,11];case 4:return(u=s=o.sent()).code!==w.DATA_LOSS||u.message!==ve?[3,6]:(a=[],x(this.queryViewsByTarget,function(t){return a.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]);case 5:return o.sent(),[3,7];case 6:throw s;case 7:return[3,8];case 8:return this.removeAndCleanupQuery(l=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(l.query,!0)];case 9:return o.sent(),this.syncEngineListener.onWatchError(l.query,n),[3,11];case 10:y("Unexpected target state: "+e),o.label=11;case 11:return[2]}var u})})},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s,a,l,u,c,h,d=this;return o.__generator(this,function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,f.label=1;case 1:return n<r.length?(b(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return b(!!(i=f.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return s=f.sent(),[4,this.initializeViewAndComputeSnapshot(s,!1)];case 4:f.sent(),this.remoteStore.listen(s),f.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return o.__generator(this,function(n){switch(n.label){case 0:return(e=l.queryViewsByTarget[t])?[4,l.localStore.releaseQuery(e.query,!1).then(function(){d.remoteStore.unlisten(t),d.removeAndCleanupQuery(e)}).catch(hn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},l=this,u=0,c=e,f.label=7;case 7:return u<c.length?[5,a(h=c[u])]:[3,10];case 8:f.sent(),f.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Vt().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Vt()},t}(),ki=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ai="SharedClientState",Oi="firestore_clients",Di="firestore_mutations",Ni="firestore_targets",Ri="firestore_online_state",Pi="firestore_sequence_number",Mi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,b(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new C(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(m(Ai,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Li=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,b(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new C(r.error.code,r.error.message)),i?new t(e,r.state,s):(m(Ai,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=qt(),o=0;i&&o<r.activeTargetIds.length;++o)i=or(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(m(Ai,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in yr&&"string"==typeof n.clientId?new t(n.clientId,yr[n.onlineState]):(m(Ai,"Failed to parse online state: "+e),null)},t}(),ji=function(){function t(){this.activeTargetIds=qt()}return t.prototype.addQueryTarget=function(t){b(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),qi=function(){function t(e,n,r,i,s){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=s,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Pi+"_"+r,this.activeClients[this.localClientId]=new ji,this.clientStateKeyRe=new RegExp("^"+Oi+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Di+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ni+"_"+o+"_(\\d+)$"),this.onlineStateKey=Ri+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,s,a,l,u,c,h=this;return o.__generator(this,function(o){switch(o.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(s=Fi.fromWebStorageEntry(r,i))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(l),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=qt();return I(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Li.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p(Ai,"READ",t,e),e},t.prototype.setItem=function(t,e){p(Ai,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p(Ai,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(p(Ai,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){var e,n,r,i,s,a;return o.__generator(this,function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(s=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(s)]}else t.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=it.INVALID;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(Ai,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==it.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Mi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:yr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Li(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return b(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Oi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ni+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Di+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return b(null!==n,"Cannot parse client state key '"+t+"'"),Fi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);b(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Mi.fromWebStorageEntry(new ki(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);b(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Li.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Vi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(p(Ai,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),s=[],a=[];return i.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return r.has(t)||s.push(t),[2]})})}),r.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(s,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Bi=function(){function t(){this.localState=new ji,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new ji,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ui=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return en.withCacheSize(this.cacheSizeBytes)},t}(),zi=function(){return function(){}}(),Hi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new ct,r=new ct,i=!1;return this.credentials.setChangeListener(function(s){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(s)}):(i=!0,e.initializePersistence(t,r,s).then(function(t){return e.initializeRest(s,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Ui?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=cn.buildStoragePrefix(this.databaseInfo),i=new mi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return o.__awaiter(n,void 0,void 0,function(){var n,s;return o.__generator(this,function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!qi.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return s=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new qi(this.asyncQueue,this.platform,r,this.clientId,t),[4,cn.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,s,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=o.sent(),[3,4];case 2:return this.sharedClientState=new Bi,[4,cn.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,s)];case 3:n=o.sent(),o.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Zn.createEagerPersistence(this.clientId),this.sharedClientState=new Bi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return o.__awaiter(n,void 0,void 0,function(){var n,i,s,a,l=this;return o.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Gn(this.persistence,t),e&&(this.lruScheduler=new nn(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),s=new mr(this.asyncQueue,r,this.credentials,i),a=function(t){return l.syncEngine.applyOnlineStateChange(t,br.SharedClientState)},this.remoteStore=new qr(this.localStore,s,this.asyncQueue,function(t){return l.syncEngine.applyOnlineStateChange(t,br.RemoteStore)},n),this.syncEngine=new Ii(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return o.__awaiter(l,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return o.__awaiter(l,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 4:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new ct;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new bi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof pe)return t;if(t instanceof me)return null;throw new C(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Vt(),r=new Ci(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),Qi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Wi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new C(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+W(1,"element")+".")}();for(var n=0;n<t.length;++n)if(R("FieldPath","string",n,t[n]),0===t[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(lt.keyField().canonicalString()),t}(),Gi=new RegExp("[~\\*/\\[\\]]"),Ki=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),$i=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(ki.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Yi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(w.ABORTED,"getToken aborted due to token change.");return n?(b("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Ki(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return b(null===t||"string"==typeof t,"Received invalid UID: "+t),new ki(t)},t}(),Zi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Xi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Zi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(ki.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ji(t){if(!t)return new $i;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Xi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function ts(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var es=function(){function t(t){this._methodName=t}return t.delete=function(){return A("FieldValue.delete",arguments),ns.instance},t.serverTimestamp=function(){return A("FieldValue.serverTimestamp",arguments),rs.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D("FieldValue.arrayUnion",arguments,1),new is(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D("FieldValue.arrayRemove",arguments,1),new ss(t)},t.increment=function(t){return R("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1),new os(t)},t.prototype.isEqual=function(t){return this===t},t}(),ns=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(es),rs=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(es),is=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(es),ss=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(es),os=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(es),as=E(es,"Use FieldValue.<field>() instead."),ls=/^__.*__$/,us=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new Bn(t,this.data,this.fieldMask,e):new qn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Un(t,this.fieldTransforms)),n},t}(),cs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Bn(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Un(t,this.fieldTransforms)),n},t}(),hs=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function ds(t){switch(t){case hs.Set:case hs.MergeSet:case hs.Update:return!0;case hs.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var fs=function(){function t(t,e,n,r,i,s){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=s||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ds(this.dataSource)&&ls.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ps=function(){return function(t,e){this.databaseId=t,this.key=e}}(),ms=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new fs(hs.Set,t,lt.EMPTY_PATH);ys("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new us(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new fs(hs.MergeSet,t,lt.EMPTY_PATH);ys("Data must be an object, but it was:",r,e);var i,s,o=this.parseData(e,r);if(n){for(var a=new kt(lt.comparator),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof Wi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=vs(t,c)}if(!r.contains(h))throw new C(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=Pn.fromSet(a),s=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=Pn.fromArray(r.fieldMask),s=r.fieldTransforms;return new us(o,i,s)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new fs(hs.Update,t,lt.EMPTY_PATH);ys("Data must be an object, but it was:",r,e);var i=new kt(lt.comparator),s=Nn.EMPTY;I(e,function(e,o){var a=vs(t,e),l=r.childContextForFieldPath(a);if((o=n.runPreConverter(o,l))instanceof ns)i=i.add(a);else{var u=n.parseData(o,l);null!=u&&(i=i.add(a),s=s.set(a,u))}});var o=Pn.fromSet(i);return new cs(s,o,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new fs(hs.Update,t,lt.EMPTY_PATH),s=[bs(t,e)],o=[n];if(r.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)s.push(bs(t,r[a])),o.push(r[a+1]);var l=new kt(lt.comparator),u=Nn.EMPTY;for(a=0;a<s.length;++a){var c=s[a],h=i.childContextForFieldPath(c),d=this.runPreConverter(o[a],h);if(d instanceof ns)l=l.add(c);else{var f=this.parseData(d,h);null!=f&&(l=l.add(c),u=u.set(c,f))}}var p=Pn.fromSet(l);return new cs(u,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new fs(hs.Argument,t,lt.EMPTY_PATH),r=this.parseData(e,n);return b(null!=r,"Parsed data should not be null."),b(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=_s(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(gs(t=this.runPreConverter(t,e)))return ys("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof es)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new St(K);return k(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):I(t,function(t,i){var s=n.parseData(i,e.childContextForField(t));null!=s&&(r=r.insert(t,s))}),new Nn(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=this.parseData(s[i],e.childContextForArray(r));null==o&&(o=_n.INSTANCE),n.push(o),r++}return new Rn(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!ds(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof ns){if(e.dataSource!==hs.MergeSet)throw e.dataSource===hs.Update?(b(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof rs)e.fieldTransforms.push(new Mn(e.path,ni.instance));else if(t instanceof is){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ri(n);e.fieldTransforms.push(new Mn(e.path,r))}else if(t instanceof ss){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ii(n);e.fieldTransforms.push(new Mn(e.path,i))}else if(t instanceof os){var s=this.parseQueryValue("FieldValue.increment",t._operand),o=new si(s);e.fieldTransforms.push(new Mn(e.path,o))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return _n.INSTANCE;if("number"==typeof t)return or(t)?new Sn(t):new Tn(t);if("boolean"==typeof t)return wn.of(t);if("string"==typeof t)return new xn(t);if(t instanceof Date)return new In(Ct.fromDate(t));if(t instanceof Ct)return new In(new Ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Br)return new Dn(t);if(t instanceof J)return new An(t);if(t instanceof ps)return new On(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new fs(hs.Argument,t,lt.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function gs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Br||t instanceof J||t instanceof ps||t instanceof es)}function ys(t,e,n){if(!gs(n)||!q(n)){var r=B(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function bs(t,e){if(e instanceof Wi)return e._internalPath;if("string"==typeof e)return vs(t,e);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function vs(t,e){try{return function(t){if(t.search(Gi)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Wi.bind.apply(Wi,[void 0].concat(t.split("."))))}catch(e){throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=_s(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function _s(t){return t instanceof Error?t.message:t.toString()}var ws="firestore.googleapis.com",Cs=!0,Es=!0,Ss=!1,Ts=en.COLLECTION_DISABLED,xs=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ws,this.ssl=Cs}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=T(t.ssl,Cs);if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(t.timestampsInSnapshots,Es),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=en.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Ts&&t.cacheSizeBytes<en.MINIMUM_CACHE_SIZE_BYTES)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+en.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Ss:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Is=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new ft,this.INTERNAL={delete:function(){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Yi(r)}else{var i=e;if(!i.projectId)throw new C(w.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new rt(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new $i}this._settings=new xs({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(O("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),S(t,"persistence"))throw new C(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new xs(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=Ji(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=T(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Ui(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=cn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ct;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return o.__awaiter(t,void 0,void 0,function(){var t;return o.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new C(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,cn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new zi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new et(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){b(!!this._settings.host,"FirestoreSettings.host is not set"),b(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Hi(v.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new ms(function(e){if(e instanceof Os){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new C(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ps(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ls(ot.fromString(t),this)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Os.forPath(ot.fromString(t),this)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ps(new Ur(ot.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ks(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new As(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(O("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":f(h.DEBUG);break;case"error":f(h.ERROR);break;case"silent":f(h.SILENT);break;default:throw new C(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),ks=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=qs("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof me)return new Ns(e._firestore,n._key,null,!1,!1);if(r instanceof pe)return new Ns(e._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=qs("Transaction.set",t,this._firestore),i=(n=Fs("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof Wi?(D("Transaction.update",arguments,3),r=qs("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,s)):(O("Transaction.update",arguments,2),r=qs("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=qs("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),As=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=qs("WriteBatch.set",t,this._firestore),i=(n=Fs("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Vn.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Wi?(D("WriteBatch.update",arguments,3),r=qs("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,s)):(O("WriteBatch.update",arguments,2),r=qs("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Vn.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=qs("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new zn(e._key,Vn.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Os=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ut(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ls(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new C(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ot.fromString(t);return new Ls(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2);var n=(e=Fs("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Vn.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Wi?(D("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(O("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Vn.exists(!0)))},t.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this._firestoreClient.write([new zn(this._key,Vn.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||ts(t[i])||(z("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var s={includeMetadataChanges:r.includeMetadataChanges};return ts(t[i])?n=t[i]:(R("DocumentReference.onSnapshot","function",i,t[i]),P("DocumentReference.onSnapshot","function",i+1,t[i+1]),P("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(s,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Qi({next:function(t){if(e.next){b(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Ns(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),s=this._firestoreClient.listen(Ur.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(s)}},t.prototype.get=function(t){var e=this;return N("DocumentReference.get",arguments,0,1),js("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Ns(e.firestore,e._key,t,!0,t instanceof pe&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new C(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Ds=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ns=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return N("DocumentSnapshot.data",arguments,0,1),t=Vs("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,bn.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(N("DocumentSnapshot.get",arguments,1,2),e=Vs("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(bs("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,bn.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Os(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ds(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Nn)return this.convertObject(t,e);if(t instanceof Rn)return this.convertArray(t,e);if(t instanceof On){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Os(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return b("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Ns),Ps=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){if(O("Query.where",arguments,3),U("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];V("Query.where",i,2,n)}var s,o=bs("Query.where",e),a=Hr.fromString(n);if(o.isKeyField()){if(a===Hr.ARRAY_CONTAINS||a===Hr.ARRAY_CONTAINS_ANY)throw new C(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===Hr.IN){this.validateDisjunctiveFilterElements(r,a);for(var l=[],u=0,c=r;u<c.length;u++){var h=c[u];l.push(this.parseDocumentIdValue(h))}s=new Rn(l)}else s=this.parseDocumentIdValue(r)}else a!==Hr.IN&&a!==Hr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),s=this.firestore._dataConverter.parseQueryValue("Query.where",r);var d=Qr.create(o,a,s);return this.validateNewFilter(d),new t(this._query.addFilter(d),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Zr.ASCENDING;else{if("desc"!==n)throw new C(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Zr.DESCENDING}if(null!==this._query.startAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=bs("Query.orderBy",e),s=new Jr(i,r);return this.validateNewOrderBy(s),new t(this._query.addOrderBy(s),this.firestore)},t.prototype.limit=function(e){if(O("Query.limit",arguments,1),R("Query.limit","number",1,e),e<=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof Ns){if(n.length>0)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new C(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var s=[e].concat(n);return this.boundFromFields(t,s,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,s=this._query.orderBy;i<s.length;i++){var o=s[i];if(o.field.isKeyField())r.push(new On(this.firestore._databaseId,e.key));else{var a=e.field(o.field);if(a instanceof kn)throw new C(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=o.field.canonicalString();throw new C(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Xr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],s=0;s<e.length;s++){var o=e[s];if(r[s].field.isKeyField()){if("string"!=typeof o)throw new C(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof o);if(!this._query.isCollectionGroupQuery()&&-1!==o.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+o+"' contains a slash.");var a=this._query.path.child(ot.fromString(o));if(!ut.isDocumentKey(a))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ut(a);i.push(new On(this.firestore._databaseId,l))}else{var u=this.firestore._dataConverter.parseQueryValue(t,o);i.push(u)}}return new Xr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||ts(t[i])||(z("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ts(t[i])?n=t[i]:(R("Query.onSnapshot","function",i,t[i]),P("Query.onSnapshot","function",i+1,t[i+1]),P("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Qi({next:function(t){e.next&&e.next(new Ms(n.firestore,n._query,t))},error:r}),s=this.firestore.ensureClientConfigured(),o=s.listen(this._query,i,t);return function(){i.mute(),s.unlisten(o)}},t.prototype.get=function(t){var e=this;return N("Query.get",arguments,0,1),js("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Ms(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(ot.fromString(t));if(!ut.isDocumentKey(e))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new On(this.firestore._databaseId,new ut(e))}if(t instanceof Os)return new On(this.firestore._databaseId,t._key);throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new C(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof Qr){var e=[Hr.ARRAY_CONTAINS,Hr.ARRAY_CONTAINS_ANY],n=[Hr.IN,Hr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var s=this._query.getInequalityFilterField();if(null!==s&&!s.isEqual(t.field))throw new C(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var o=this._query.getFirstOrderByField();null!==o&&this.validateOrderByAndInequalityMatch(t.field,o)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(e)),null!=a)throw new C(w.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ms=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ds(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ps(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var s=new Rs(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return b(e.type===Tr.Added,"Invalid event type for first snapshot"),b(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:i++}})}var s=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Tr.Metadata}).map(function(e){var r=new Rs(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,o=-1;return e.type!==Tr.Added&&(b((i=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),e.type!==Tr.Removed&&(o=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:Bs(e.type),doc:r,oldIndex:i,newIndex:o}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Rs(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Ms.prototype.docChanges,t,{get:function(){return function(){throw new C(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Ls=function(t){function e(e,n){var r=t.call(this,Ur.atPath(e),n)||this;if(e.length%2!=1)throw new C(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Os(new ut(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),R("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ot.fromString(t);return Os.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ps);function Fs(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+s+" was: "+B(r[s]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Wi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Vs(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function js(t,e){P(t,"object",1,e),e&&(z(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function qs(t,e,n){if(e instanceof Os){if(e.firestore!==n)throw new C(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function Bs(t){switch(t){case Tr.Added:return"added";case Tr.Modified:case Tr.Metadata:return"modified";case Tr.Removed:return"removed";default:return y("Unknown change type: "+t)}}var Us=E(Is,"Use firebase.firestore() instead."),zs=E(ks,"Use firebase.firestore().runTransaction() instead."),Hs=E(As,"Use firebase.firestore().batch() instead."),Qs=E(Os,"Use firebase.firestore().doc() instead."),Ws=E(Ns),Gs=E(Rs),Ks=E(Ps),$s=E(Ms),Ys=E(Ls,"Use firebase.firestore().collection() instead."),Zs={Firestore:Us,GeoPoint:Br,Timestamp:Ct,Blob:tt,Transaction:zs,WriteBatch:Hs,DocumentReference:Qs,DocumentSnapshot:Ws,Query:Ks,QueryDocumentSnapshot:Gs,QuerySnapshot:$s,CollectionReference:Ys,FieldPath:Wi,FieldValue:as,setLogLevel:Is.setLogLevel,CACHE_SIZE_UNLIMITED:Ts},Xs=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),Js=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),to=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),eo="Connection",no={BatchGetDocuments:"batchGet",Commit:"commit"},ro="gl-js/ fire/"+u,io=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ro},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(s,o){var a=new l.XhrIo;a.listenOnce(l.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var e=a.getResponseJson();p(eo,"XHR received:",JSON.stringify(e)),s(e);break;case l.ErrorCode.TIMEOUT:p(eo,'RPC "'+t+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p(eo,'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(u=r.status.toLowerCase().replace("_","-"),Object.values(w).indexOf(u)>=0?u:w.UNKNOWN);o(new C(i,r.message))}else o(new C(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else p(eo,'RPC "'+t+'" failed'),o(new C(w.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{p(eo,'RPC "'+t+'" completed.')}var u});var u=JSON.stringify(e);p(eo,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),a.send(i,"POST",u,c,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=l.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),a.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");p(eo,"Creating WebChannel: "+s+" "+i);var o=r.createWebChannel(s,i),u=!1,c=!1,h=new to({sendFn:function(t){c?p(eo,"Not sending because WebChannel is closed:",t):(u||(p(eo,"Opening WebChannel transport."),o.open(),u=!0),p(eo,"WebChannel sending:",t),o.send(t))},closeFn:function(){return o.close()}}),d=function(t,e){o.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return d(l.WebChannel.EventType.OPEN,function(){c||p(eo,"WebChannel transport opened.")}),d(l.WebChannel.EventType.CLOSE,function(){c||(c=!0,p(eo,"WebChannel transport closed"),h.callOnClose())}),d(l.WebChannel.EventType.ERROR,function(t){c||(c=!0,p(eo,"WebChannel transport errored:",t),h.callOnClose(new C(w.UNAVAILABLE,"The operation could not be completed")))}),d(l.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];b(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p(eo,"WebChannel received error:",n);var r=n.status,i=function(t){var e=_r[r];if(void 0!==e)return Cr(e)}(),s=n.message;void 0===i&&(i=w.INTERNAL,s="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(i,s)),o.close()}else p(eo,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=no[t];b(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();function so(t){t.INTERNAL.registerService("firestore",function(t){return new Is(t)},function(t){b(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Zs))}v.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new io(t))},t.prototype.newConnectivityMonitor=function(){return Js.isAvailable()?new Js:new Xs},t.prototype.newSerializer=function(t){return new mi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),so(i),e.registerFirestore=so},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class c extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"ib",function(){return kl}),n.d(e,"jb",function(){return Al}),n.d(e,"kb",function(){return Ol}),n.d(e,"lb",function(){return Dl}),n.d(e,"hb",function(){return fa}),n.d(e,"g",function(){return pl}),n.d(e,"Q",function(){return cl}),n.d(e,"w",function(){return ul}),n.d(e,"R",function(){return Te}),n.d(e,"V",function(){return Se}),n.d(e,"c",function(){return xa}),n.d(e,"A",function(){return Ia}),n.d(e,"z",function(){return ka}),n.d(e,"b",function(){return Aa}),n.d(e,"d",function(){return Sa}),n.d(e,"e",function(){return Ta}),n.d(e,"T",function(){return Tl}),n.d(e,"L",function(){return el}),n.d(e,"X",function(){return il}),n.d(e,"s",function(){return Da}),n.d(e,"f",function(){return Nl}),n.d(e,"m",function(){return wa}),n.d(e,"l",function(){return fn}),n.d(e,"F",function(){return $e}),n.d(e,"G",function(){return Ke}),n.d(e,"a",function(){return st}),n.d(e,"O",function(){return at}),n.d(e,"M",function(){return Xi}),n.d(e,"Lb",function(){return g}),n.d(e,"S",function(){return w}),n.d(e,"p",function(){return G}),n.d(e,"Mb",function(){return B}),n.d(e,"U",function(){return U}),n.d(e,"o",function(){return k}),n.d(e,"n",function(){return c}),n.d(e,"y",function(){return h}),n.d(e,"H",function(){return f}),n.d(e,"x",function(){return Ka}),n.d(e,"C",function(){return Yi}),n.d(e,"D",function(){return Ki}),n.d(e,"E",function(){return $i}),n.d(e,"i",function(){return ja}),n.d(e,"j",function(){return ji}),n.d(e,"k",function(){return Qi}),n.d(e,"t",function(){return zi}),n.d(e,"v",function(){return Ui}),n.d(e,"u",function(){return gl}),n.d(e,"B",function(){return Ea}),n.d(e,"I",function(){return vl}),n.d(e,"J",function(){return yl}),n.d(e,"K",function(){return ys}),n.d(e,"N",function(){return vs}),n.d(e,"h",function(){return ds}),n.d(e,"q",function(){return cs}),n.d(e,"r",function(){return hs}),n.d(e,"P",function(){return gi}),n.d(e,"W",function(){return Il}),n.d(e,"vb",function(){return yi}),n.d(e,"ab",function(){return Oa}),n.d(e,"Y",function(){return Q}),n.d(e,"Z",function(){return qi}),n.d(e,"db",function(){return We}),n.d(e,"eb",function(){return Xe}),n.d(e,"fb",function(){return Ae}),n.d(e,"tb",function(){return I}),n.d(e,"yb",function(){return pi}),n.d(e,"Gb",function(){return v}),n.d(e,"wb",function(){return Ni}),n.d(e,"xb",function(){return Di}),n.d(e,"sb",function(){return ba}),n.d(e,"rb",function(){return va}),n.d(e,"bb",function(){return pa}),n.d(e,"cb",function(){return ma}),n.d(e,"Kb",function(){return yt}),n.d(e,"Ob",function(){return Si}),n.d(e,"Nb",function(){return xi}),n.d(e,"Jb",function(){return Ii}),n.d(e,"Pb",function(){return ki}),n.d(e,"gb",function(){return Rl}),n.d(e,"mb",function(){return Io}),n.d(e,"nb",function(){return ec}),n.d(e,"ob",function(){return Fs}),n.d(e,"pb",function(){return Zo}),n.d(e,"qb",function(){return Pl}),n.d(e,"ub",function(){return co}),n.d(e,"zb",function(){return bo}),n.d(e,"Ab",function(){return yo}),n.d(e,"Bb",function(){return Hl}),n.d(e,"Cb",function(){return Vo}),n.d(e,"Eb",function(){return Xo}),n.d(e,"Db",function(){return Wl}),n.d(e,"Fb",function(){return jl}),n.d(e,"Hb",function(){return Gl}),n.d(e,"Ib",function(){return Yl});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");const l="__parameters__";function u(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const c=u("Inject",t=>({token:t})),h=u("Optional"),d=u("Self"),f=u("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){const e=t[b];return e&&e.token===t?e:null}const b=m({ngInjectableDef:m});function v(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const _=m({__forward_ref__:m});function w(t){return t.__forward_ref__=w,t.toString=function(){return v(this())},t}function C(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(_)&&e.__forward_ref__===w?e():t}const E="undefined"!=typeof globalThis&&globalThis,S="undefined"!=typeof window&&window,T="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,x="undefined"!=typeof global&&global,I=E||x||S||T;class k{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const A=new k("INJECTOR",-1),O=new Object,D="ngTempTokenPath",N="ngTokenPath",R=/\n/gm,P="\u0275",M="__source",L=m({provide:String,useValue:m});let F,V=void 0;function j(t){const e=V;return V=t,e}function q(t,e=p.Default){if(void 0===V)throw new Error("inject() must be called from an injection context");return null===V?function(t,e,n){const r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}(t,0,e):V.get(t,e&p.Optional?null:void 0,e)}function B(t,e=p.Default){return(F||q)(t,e)}const U=B;class z{get(t,e=O){if(e===O){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}function H(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==P?t.substr(2):t;let i=v(e);if(e instanceof Array)i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(R,"\n  ")}`}const Q=new k("The presence of this token marks an injector as being the root injector."),W=function(t,e,n){return new J(t,e,n)};let G=(()=>{class t{static create(t,e){return Array.isArray(t)?W(t,e,""):W(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=O,t.NULL=new z,t.ngInjectableDef=g({token:t,providedIn:"any",factory:()=>B(A)}),t.__NG_ELEMENT_ID__=-1,t})();const K=function(t){return t},$=[],Y=K,Z=function(){return Array.prototype.slice.call(arguments)},X="\u0275";class J{constructor(t,e=G.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(G,{token:G,fn:K,deps:$,value:this,useNew:!1}),r.set(A,{token:A,fn:K,deps:$,value:this,useNew:!1}),function t(e,n){if(n)if((n=C(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw et("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw et("Unexpected provider",n);{let t=C(n.provide);const r=function(t){const e=function(t){let e=$;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=C(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof h||n==h?r|=1:n instanceof f||n==f?r&=-3:n instanceof d||n==d?r&=-5:i=n instanceof c?n.token:C(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:C(t.useExisting),options:6}];else if(!(n||L in t))throw et("'deps' required",t);return e}(t);let n=K,r=$,i=!1,s=C(t.provide);if(L in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=C(t.useClass);else{if("function"!=typeof s)throw et("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Z)throw tt(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Z,value:$});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==Z)throw tt(t);e.set(t,r)}}}(r,t)}get(t,e,n=p.Default){const r=this._records.get(t);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let a;if(!n||o&p.SkipSelf)o&p.Self||(a=i.get(e,s,p.Default));else{if((a=n.value)==Y)throw Error(X+"Circular dependency");if(a===$){n.value=Y;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,u=$;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?r.get(n.token):void 0;u.push(t(n.token,o,r,o||4&s?i:G.NULL,1&s?null:G.THROW_IF_NOT_FOUND,p.Default))}}n.value=a=s?new o(...u):o.apply(e,u)}}return a}(e,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[D]=a[D]||[]).unshift(e),n&&n.value==Y&&(n.value=$),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[D];throw e[M]&&i.unshift(e[M]),t.message=H("\n"+t.message,i,"StaticInjectorError",r),t[N]=i,t[D]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(v(n))),`StaticInjector[${t.join(", ")}]`}}function tt(t){return et("Cannot mix multi providers and regular providers",t)}function et(t,e){return new Error(H(t,e,"StaticInjectorError"))}const nt="ngDebugContext",rt="ngOriginalError",it="ngErrorLogger",st=new k("AnalyzeForEntryComponents"),ot=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),at=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),lt={},ut=[],ct=m({ngComponentDef:m}),ht=m({ngDirectiveDef:m}),dt=m({ngPipeDef:m});let ft=0;function pt(t){return function(t){return t[ct]||null}(t)||function(t){return t[ht]||null}(t)}function mt(t){return function(t){return t[dt]||null}(t)}function gt(t,e){if(null==t)return lt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const yt=function(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||at.Emulated,id:"c",styles:t.styles||ut,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:()=>{const n=t.directives,s=t.features,o=t.pipes;i.id+=ft++,i.inputs=gt(t.inputs,r),i.outputs=gt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(pt):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(mt):null,e.hasOwnProperty(b)||(e[b]=g({token:e,factory:t.factory}))}},i},bt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(I))(),vt=0,_t=1,wt=2,Ct=3,Et=4,St=6,Tt=7,xt=9,It=11,kt=12,At=13,Ot=14,Dt=18,Nt=20,Rt=1,Pt=2,Mt=9,Lt="__ngContext__";function Ft(t){for(;Array.isArray(t);)t=t[vt];return t}function Vt(t){return Array.isArray(t)&&"object"==typeof t[Rt]}function jt(t){return Array.isArray(t)&&!0===t[Rt]}function qt(t){return Array.isArray(t)&&"number"==typeof t[Rt]}function Bt(t,e){return e[_t].data[t+Nt]}function Ut(t){const e=function(t){return t[Lt]}(t);return e?Array.isArray(e)?e:e.lView:null}function zt(t){t[Dt]=0}function Ht(t,e,n,r){n||Qt(t,e.preOrderHooks,e.preOrderCheckHooks,n,0,void 0!==r?r:null)}function Qt(t,e,n,r,i,s){if(r)return;const o=(3&t[wt])===i?e:n;o&&function(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[Dt]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[Dt]+=65536),(s<i||-1==i)&&(Wt(t,n,e,o),t[Dt]=(4294901760&t[Dt])+o+2),o++}(t,o,i,s),null==s&&(3&t[wt])===i&&3!==i&&(t[wt]&=1023,t[wt]+=1)}function Wt(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[wt]>>10<t[Dt]>>16&&(3&t[wt])===e&&(t[wt]+=1024,s.call(o)):s.call(o)}let Gt=null;function Kt(t){Gt=t}function $t(){return Jt}const Yt=1;let Zt,Xt,Jt,te=Yt,ee=0,ne=0;function re(t=null){be!==t&&(_e(null==t?-1:t),te=null==t?0:Yt,ee=0,ne=0)}function ie(){return te}function se(){return ee}function oe(){return Zt}function ae(t,e){Zt=t,Xt=e}function le(t=Jt){return 4==(4&t[wt])}let ue=null,ce=!1;function he(){return ce}let de=-1;function fe(t){de=t}let pe=0;function me(t){pe=t}function ge(t,e){const n=Jt;return t&&(de=t[_t].bindingStartIndex),Zt=e,Xt=!0,Jt=ue=t,n}function ye(t,e){const n=Jt[_t];if(le(Jt))Jt[wt]&=-5;else try{zt(Jt),e&&Qt(Jt,n.viewHooks,n.viewCheckHooks,ce,2,void 0)}finally{Jt[wt]&=-73,Jt[Tt]=n.bindingStartIndex}Kt(null),ge(t,null)}let be=-1;function ve(){return be}function _e(t){be=t,Kt(null)}let we=null,Ce=!0,Ee=!1;function Se(){return Ee=!0,Ce}function Te(){if(Ee)throw new Error("Cannot enable prod mode after platform setup.");Ce=!1}class xe{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ie=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ke=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ae(t){return(t=String(t)).match(Ie)||t.match(ke)?t:(Se()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Oe(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function De(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ne=Oe("area,br,col,hr,img,wbr"),Re=Oe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pe=Oe("rp,rt"),Me=De(Pe,Re),Le=De(Ne,De(Re,Oe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),De(Pe,Oe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Me),Fe=Oe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ve=Oe("srcset"),je=De(Fe,Ve,Oe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qe=Oe("script,style,template");class Be{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Le.hasOwnProperty(e))return this.sanitizedSomething=!0,!qe.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!je.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Fe[s]&&(o=Ae(o)),Ve[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Ae(t.trim())).join(", ")),this.buf.push(" ",e,'="',He(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Le.hasOwnProperty(e)&&!Ne.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(He(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ze=/([^\#-~ |!])/g;function He(t){return t.replace(/&/g,"&amp;").replace(Ue,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ze,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qe;function We(t,e){let n=null;try{Qe=Qe||new xe(t);let r=e?String(e):"";n=Qe.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Qe.getInertBodyElement(r)}while(r!==s);const o=new Be,a=o.sanitizeChildren(Ge(n)||n);return Se()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ge(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Ge(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ke=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class $e{}const Ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ze=/^url\(([^)]+)\)$/;function Xe(t){if(!(t=String(t).trim()))return"";const e=t.match(Ze);return e&&Ae(e[1])===e[1]||t.match(Ye)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Se()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}const Je=9,tn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function en(t){return!!t.listen}class nn{constructor(){this._players=[]}flushPlayers(){for(let t=0;t<this._players.length;t++){const e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0}queuePlayer(t){this._players.push(t)}}const rn=0;function sn(t,e,n,r){const i=[t||null,0,[],n||[null,null],r||[null,null],[0,0],[0],[0],null,null];return on(i,rn),i}function on(t,e,n=-1,r){const i=t[2],s=2*e,o=s+2;for(let l=i.length;l<o;l+=2)i.push(-1,null);const a=s+0;n>=0&&-1===i[a]&&(i[a]=n,i[s+1]=r||null)}function an(t,e,n,r,i,s){return s=s||n,i?t[i]=r:t.push(r),!!r&&(r.addEventListener(200,()=>{const e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new nn)).queuePlayer(r,s),!0)}function ln(t){const e=t[Ct];return jt(e)?e[Ct]:e}function un(t){return function(t){let e=Vt(t)?t:Ut(t);for(;e&&!(512&e[wt]);)e=ln(e);return e}(t)[xt]}function cn(t){return t[nt]}function hn(t){return t[rt]}function dn(t,...e){t.error(...e)}class fn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[it]||dn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?cn(t)?cn(t):this._findContext(hn(t)):null}_findOriginalError(t){let e=hn(t);for(;e&&hn(e);)e=hn(e);return e}}const pn=/([A-Z])/g;function mn(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}const gn={};function yn(t,e,n,r){const i=t[8];if(null!=i){const t=function(t,e){for(let n=1;n<t.length;n+=3)if(t[n+0]>e)return n;return t.length}(i,e);i.splice(t,0,e,n,r)}}class bn{constructor(t,e){this.fn=t,this.value=e}}function vn(t,e,n,r){for(let i=n;i<r;i+=4)if(zn(t,i)===e)return i;return-1}function _n(t,e,n=0){Cn(t,e,!0,n)}function wn(t,e,n=0){Cn(t,e,!1,n)}function Cn(t,e,n,r=0){if(function(t,e,n,r){return!t[e?6:7][1+4*n+0]&&(r===gn||ir(t,e,n)===r)}(t,n,r,e))return;const i=(e=e===gn?ir(t,n,r):e)instanceof bn?new Xn(e,t[0],n?1:2):null,s=i?e.value:e,o=n?1:3;let a,l,u,c=i?o:0,h=!1;(function(t,e,n){const r=t[9];if(i){if(!r||0===o)return!0}else if(!r)return!1;return r[o]!==i})(t)&&(function(t,e,n){let r=t[9]||(t[9]=[5,null,null,null,null]);n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2)}(t,i,o),h=!0);let d=!1;n?("string"==typeof s?(u=s.split(/\s+/),d=!0):u=s?Object.keys(s):ut,a=Rn(t),l=t.length):(a=Pn(t),l=Rn(t),u=s?Object.keys(s):ut),function(t,e,n,r,i,s,o,l,u){let c=!1;const h=1+4*e,d=t[u?6:7],f=d[h+1],p=d[h+3];let m=1===d[h+0]||!(d[h+2]||!l),g=0,y=0;const b=!0===o;let v=a,_=s.length;for(;v<f;){const r=zn(t,v);if(_)for(let i=0;i<s.length;i++){const a=s[i],l=a?u?a:sr(a):null;if(l&&r===l){const r=Un(t,v),a=Jn(t,v),u=!!b||o[l],h=Bn(t,v);Zn(h,r,u)&&nr(r,u,a,e)&&(Ln(t,v,u),Fn(t,v,n,e),Yn(t,h,u)&&(Tn(t,v,!0),c=!0)),s[i]=null,_--;break}}v+=4}if(_){const r=u?null:er(t,e);t:for(let a=0;a<s.length;a++){const l=s[a];if(!l)continue;const h=!!b||o[l],d=u?l:sr(l),p=v>=f;for(let r=v;r<i;r+=4)if(zn(t,r)===d){const i=Jn(t,r),s=Vn(t,r),o=Un(t,r),a=Bn(t,r);nr(o,h,i,e)&&(p&&(Wn(t,v,r),g++),Zn(a,o,h)&&((null===h||void 0===h&&h!==o)&&(m=!0),Ln(t,v,h),(null!==o||Yn(t,a,h))&&(Tn(t,v,!0),c=!0)),i===e&&n===s||Fn(t,v,n,e)),v+=4;continue t}null!=h&&(m=!0,g++,Gn(t,p?v:f+4*y,u,d,1|$n(t,d,u,r),h,e,n),y++,i+=4,v+=4,c=!0)}}for(;v<i;){m=!0;const r=Un(t,v),i=Bn(t,v);Jn(t,v),null!=r&&(m=!0),Zn(i,r,null)&&(Ln(t,v,null),Yn(t,i,r)&&(Tn(t,v,!0),c=!0),Fn(t,v,n,e)),v+=4}(function(t,e,n,r,i,s,o,a){const l=t[n?6:7],u=1+4*e;if(a){const t=i+4*o;for(let e=u+4;e<l.length;e+=4)l[e+1]=t,l[e+0]=1}l[u+0]=0,l[u+1]=i,l[u+2]=r,l[u+3]=o;let c=o;for(let h=1;h<u;h+=4)c+=l[h+3];if(!n){const e=t[6],n=s-e[2];for(let t=1;t<e.length;t+=4)e[t+1]+=n}l[0]=c})(t,e,u,l,f,i,g,m=m||p!==g),c&&Hn(t,!0)}(t,r,c,0,l,u,d||s||lt,e,n),h&&Qn(t,!0)}function En(t,e,n,r,i,s,o){n=i&&n?i(e,n,3):n,s||o?(s&&s.setValue(e,n),o&&o.setValue(e,n)):n?(n=n.toString(),en(r)?r.setStyle(t,e,n,tn.DashCase):t.style.setProperty(e,n)):en(r)?r.removeStyle(t,e,tn.DashCase):t.style.removeProperty(e)}function Sn(t,e,n,r,i,s){i||s?(i&&i.setValue(e,n),s&&s.setValue(e,n)):""!==e&&(n?en(r)?r.addClass(t,e):t.classList.add(e):en(r)?r.removeClass(t,e):t.classList.remove(e))}function Tn(t,e,n){const r=e>=10?e+0:e;n?t[r]|=1:t[r]&=-2}function xn(t,e){return 1==(1&t[e>=10?e+0:e])}function In(t,e){return 2==(2&t[e>=10?e+0:e])}function kn(t,e){return 4==(4&t[e>=10?e+0:e])}function An(t,e,n){return 31&t|e<<5|n<<19}function On(t,e){const n=Dn(e);return(2&e?t[4]:t[3])[n]}function Dn(t){return t>>5&16383}function Nn(t){const e=t>>19&16383;return e>=10?e:-1}function Rn(t){return t[6][2]}function Pn(t){return t[7][2]}function Mn(t,e,n){t[e+1]=n}function Ln(t,e,n){t[e+2]=n}function Fn(t,e,n,r){const i=function(t,e){return n<<16|t}(r);t[e+3]=i}function Vn(t,e){return t[e+3]>>16&65535}function jn(t,e){const n=Vn(t,e);if(n){const e=t[9];if(e)return e[n]}return null}function qn(t,e,n){t[1===e?e:e+0]=n}function Bn(t,e){return t[1===e?e:e+0]}function Un(t,e){return t[e+2]}function zn(t,e){return t[e+1]}function Hn(t,e){Tn(t,1,e)}function Qn(t,e){e?t[1]|=8:t[1]&=-9}function Wn(t,e,n){if(e===n)return;const r=Un(t,e),i=zn(t,e),s=Bn(t,e),o=Vn(t,e),a=Jn(t,e);let l=s,u=Bn(t,n);const c=Nn(l);if(c>=0){const e=Bn(t,c);qn(t,c,An(e,Dn(e),n))}const h=Nn(u);if(h>=0){const n=Bn(t,h);qn(t,h,An(n,Dn(n),e))}Ln(t,e,Un(t,n)),Mn(t,e,zn(t,n)),qn(t,e,Bn(t,n)),Fn(t,e,Vn(t,n),Jn(t,n)),Ln(t,n,r),Mn(t,n,i),qn(t,n,s),Fn(t,n,o,a)}function Gn(t,e,n,r,i,s,o,a){const l=e<t.length;t.splice(e,0,1|i|(n?2:0),r,s,0),Fn(t,e,a,o),l&&function(t,n){for(let r=e+4;r<t.length;r+=4){const e=Nn(Bn(t,r));if(e>0){const n=Dn(Bn(t,e));qn(t,e,An((xn(t,e)?1:0)|(In(t,e)?2:0)|(kn(t,e)?4:0),n,r))}}}(t)}function Kn(t,e){return null!==t}function $n(t,e,n,r){let i,s=r&&r(e,null,1)?4:0;return n?(s|=2,i=tr(t[4],e)):i=tr(t[3],e),An(s,i=i>0?i+1:0,0)}function Yn(t,e,n){const r=On(t,e);return!r||Zn(e,r,n)}function Zn(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}class Xn{constructor(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}setValue(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)}buildPlayer(t,e){if(this._dirty){const n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}}}function Jn(t,e){return 65535&t[e+3]}function tr(t,e){for(let n=2;n<t.length;n+=3)if(t[n]===e)return n;return-1}function er(t,e){const n=t[2];return n[2*e+1]||n[1]||null}function nr(t,e,n,r){return null==t||(null!=e?r<=n:n===r)}function rr(t){const e=t[4];let n=e[1];if(null===n){n="";for(let t=2;t<e.length;t+=3)e[t+1]&&(n+=(n.length?" ":"")+e[t]);e[1]=n}return n}function ir(t,e,n){return t[e?6:7][1+4*n+2]||null}function sr(t){return t.replace(/[a-z][A-Z]/g,t=>`${t.charAt(0)}-${t.charAt(1).toLowerCase()}`)}function or(t,e,n,r,i=0){const s=t[n?6:7];if(e>0){const t=1+4*e;for(;s.length<t;)s.push(0,r,null,0)}s.push(0,r,null,i)}let ar,lr=0;function ur(){return lr>0}function cr(t){ar=t}function hr(){return ar}const dr="--MAP--";function fr(t,e){t[1]=e}function pr(t){return t[0]}function mr(t,e){return t[e+2]}function gr(t,e){return 1&t[e+0]}function yr(t,e){return(1&gr(t,e))>0}function br(t,e){return t[e+0]>>1}function vr(t,e,n){const r=gr(t,e);t[e+0]=r|n<<1}function _r(t,e){return t[e+1]}function wr(t,e,n){return t[e+3+n]}function Cr(t,e){return e===t[1]}function Er(t){!function(t,e){t[0]=e}(t,1|pr(t))}function Sr(t){return(1&pr(t))>0}function Tr(t){return 5+t[3]}function xr(t,e){return(Array.isArray(t)?t[0]:t)!==(Array.isArray(e)?e[0]:e)}function Ir(t){return null!=t&&""!==t}function kr(t){const e=hr()||t[At];return e&&"function"!=typeof e?(cr(e),Ar):e}const Ar=(t,e,n)=>{const r=hr();return r?!(2&n)||r.sanitize(Ke.STYLE,e):e},Or=null,Dr=1,Nr=1,Rr=0,Pr=1;let Mr=Pr,Lr=Pr,Fr=0,Vr=0,jr=[];function qr(t,e,n,r,i,s,o,a,l){Sr(t)||(o?function(t,e,n,r,i){jr.unshift(t,e,n,r,i)}(t,n,r,i,l):(jr.length&&Br(),Ur(t,n,r,i,l)));const u=a||xr(e[i],s);return u&&(e[i]=s),u}function Br(){let t=0;for(;t<jr.length;)Ur(jr[t++],jr[t++],jr[t++],jr[t++],jr[t++]);jr.length=0}function Ur(t,e,n,r,i){if(n){let s=!1,o=Tr(t);for(;o<t.length;){const a=_r(t,o),l=mr(t,o);if(s=n<=l){n<l&&zr(t,o,n,i),Hr(t,!1,o,r,e);break}o+=3+a}s||(zr(t,t.length,n,i),Hr(t,!1,o,r,e))}else Hr(t,!0,2,r,e)}function zr(t,e,n,r){t.splice(e,0,r?1:0,Dr,n,Or),vr(t,e,Nr)}function Hr(t,e,n,r,i){let s=n+3+_r(t,n);e||s--,"number"==typeof r?(t.splice(s,0,r),t[n+1]++,vr(t,n,br(t,n)|1<<i)):"string"==typeof r&&null==t[s]&&(t[s]=r)}function Qr(t,e,n,r,i,s,o){jr.length&&Br();const a=!0===(l=i)?-1:!1===l?0:l;var l;const u=Wr,c=(a&br(t,2))>0?1:0;let h=Tr(t);for(;h<t.length;){const i=_r(t,h);if(a&br(t,h)){let a=!1;const l=mr(t,h),d=i-1,f=wr(t,h,d);for(let i=0;i<d;i++){const u=wr(t,h,i),c=r[u];if(Ir(c)){s(e,n,l,o&&yr(t,h)?o(l,c,2):c,u),a=!0;break}}if(u){const i=u(t,e,n,r,s,o,c|(a?4:2),l,f);a=a||i}a||s(e,n,l,f)}h+=3+i}u&&u(t,e,n,r,s,o,c)}let Wr=null;const Gr=(t,e,n,r)=>{r?(r=r.toString(),t&&en(t)?t.setStyle(e,n,r,tn.DashCase):e.style.setProperty(n,r)):t&&en(t)?t.removeStyle(e,n,tn.DashCase):e.style.removeProperty(n)},Kr=(t,e,n,r)=>{""!==n&&(r?t&&en(t)?t.addClass(e,n):e.classList.add(n):t&&en(t)?t.removeClass(e,n):e.classList.remove(n))},$r=(t,e,n,r,i,s,o,a,l)=>{let u=!1;if(_r(t,2)){let c=!0;const h=!a;h&&-2&o&&(c=!1,u=!0),c&&(u=function t(e,n,r,i,s,o,a,l,u,c){let h=!1;if(u<_r(e,2)){const d=wr(e,2,u),f=i[d];let p=function(t){return t>=Xr.length&&Xr.push(1),Xr[t]}(u);for(;p<f.length;){const m=Jr(f,p),g=l&&m>l,y=!g&&m===l,b=f[p+1],v=Ir(b);let _=t(e,n,r,i,s,o,g?a:Yr(a,v,y),g?l:m,u+1,c);if(g)break;if(!_&&Zr(a,y)){const t=y&&!v,e=t?c:b,i=t?d:null;s(n,r,m,o?o(m,e,3):e,i),_=!0}h=_&&y,p+=2}Xr[u]=p}return h}(t,e,n,r,i,s,o,a||null,0,l||null)),h&&function(){for(let t=0;t<Xr.length;t++)Xr[t]=1}()}return u};function Yr(t,e,n){let r=t;return e||!n||4&t?(r|=4,r&=-3):(r|=2,r&=-5),r}function Zr(t,e){let n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const Xr=[];function Jr(t,e){return t[e+0]}function ti(t,e,n){t[e+1]=n}const ei=(()=>Promise.resolve(null))();function ni(t){const e=t[_t],n=le(t);if(e.firstTemplatePass=!1,t[Tt]=e.bindingStartIndex,!n){const n=he();Ht(t,e,n,void 0),function(t){for(let e=t[Ot];null!==e;e=e[Et])if(-1===e[Pt]&&jt(e))for(let t=Mt;t<e.length;t++){const n=e[t];ii(n,n[_t],n[xt])}}(t),ri(e,t),zt(t),Qt(t,e.contentHooks,e.contentCheckHooks,n,1,void 0),function(t,e){const n=ve();try{if(t.expandoInstructions){let n=e[Tt]=t.expandoStartIndex;fe(n);let r=-1,i=-1;for(let s=0;s<t.expandoInstructions.length;s++){const o=t.expandoInstructions[s];if("number"==typeof o){if(o<=0){re(i=-o);const e=t.expandoInstructions[++s];r=n+=Je+e}else n+=o;fe(n)}else null!==o&&(e[Tt]=n,o(2,Ft(e[r]),i),te+=1+ne,ee=0,ne=0),r++}}}finally{re(n)}}(e,t)}n&&e.staticContentQueries&&ri(e,t),function(t){if(null!=t)for(let e=0;e<t.length;e++)li(t[e])}(e.components)}function ri(t,e){if(null!=t.contentQueries){me(0);for(let n=0;n<t.contentQueries.length;n++){const r=t.contentQueries[n];t.data[r].contentQueries(2,e[r],r)}}}function ii(t,e,n){const r=Xt,i=oe();let s;if(512&t[wt])ui(un(t));else{let o=!1;try{ae(null,!0),s=ge(t,t[St]),zt(t),oi(t,e.template,ai(t),n),t[_t].firstTemplatePass=!1,ni(t),o=!0}finally{ye(s,o),ae(i,r)}}}function si(t,e,n){const r=t[It],i=ge(t,t[St]),s=!he(),o=le(t);let a=!1;try{s&&!o&&r.begin&&r.begin(),o&&(n&&oi(t,n,1,e),ni(t),t[wt]&=-5),zt(t),n&&oi(t,n,2,e),ni(t),a=!0}finally{s&&!o&&r.end&&r.end(),ye(i,a)}}function oi(t,e,n,r){we=null;const i=ve();try{re(null),2&n&&function(t,e){Ht(t,t[_t],he(),0),_e(0)}(t),e(n,r)}finally{_e(i)}}function ai(t){return le(t)?1:2}function li(t){const e=$t(),n=function(n,r){const i=e[t];return Vt(i)?i:i[vt]}();(128==(128&n[wt])||le(e))&&80&n[wt]&&(function(t){const e=t[_t];for(let n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),function(t,e){const n=t[_t],r=ge(t,t[St]),i=n.template,s=le(t);let o=!1;try{zt(t),s&&ci(1,n,e),oi(t,i,ai(t),e),ni(t),s&&!n.staticViewQueries||ci(2,n,e),o=!0}finally{ye(r,o)}}(n,n[xt]))}function ui(t){for(let e=0;e<t.components.length;e++){const n=t.components[e];si(Ut(n),n)}}function ci(t,e,n){const r=e.viewQuery;r&&(me(e.viewQueryStartIndex),r(t,n))}function hi(t,e,n){const r=t[_t];for(let i=0;i<e.length;){const s=e[i++],o=e[i++],a=e[i++],l=t[s],u=r.data[s];u.setInput?u.setInput(l,n,o,a):l[a]=n}}let di=null;function fi(){if(!di){const t=I.Symbol;if(t&&t.iterator)di=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(di=n)}}}return di}function pi(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function mi(t,e){const n=yi(t),r=yi(e);if(n&&r)return function(t,e,n){const r=t[fi()](),i=e[fi()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,mi);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||pi(t,e)}}class gi{constructor(t){this.wrapped=t}static wrap(t){return new gi(t)}static unwrap(t){return gi.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof gi}}function yi(t){return!!bi(t)&&(Array.isArray(t)||!(t instanceof Map)&&fi()in t)}function bi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vi(t,e){Wr=$r;const n=ve(),r=$t(),i=r[Tt]++;if(t!==gn){const s=Bt(n,r),o=ne>0,a=r[i],l=xr(a,t),u=function(t,e){const n=Array.isArray(t)?t:[null];n[0]=e||null;for(let o=1;o<n.length;o+=2)ti(n,o,null);let r,i=null,s=!1;if("string"==typeof e?e.length&&(i=e.split(/\s+/),s=!0):(i=e?Object.keys(e):null,r=e),i)t:for(let o=0;o<i.length;o++){const t=i[o],e=!!s||r[t];for(let r=1;r<n.length;r+=2){const i=Jr(n,r);if(t<=i){i===t?ti(n,r,e):n.splice(r,0,t,e);continue t}}n.push(t,e)}return n}(a,t);if(e)!function(t,e,n,i,s,a,l){const c=Rr;(qr(t,r,c,null,i,u,o,l,!1)||l)&&(Vr|=1<<c)}(Ci(s),0,0,i,0,0,l);else{kr(r);!function(t,e,n,i,s,a,l,c){const h=Rr;(qr(t,r,h,null,i,u,o,c,!0)||c)&&(Fr|=1<<h)}(wi(s),0,0,i,0,0,0,l)}}}function _i(){return ie()+se()}function wi(t){return Ei(t,!1)}function Ci(t){return Ei(t,!0)}function Ei(t,e){let n=e?t.newClasses:t.newStyles;return n||(n=[0,0,1,0,dr],e?t.newClasses=n:t.newStyles=n),n}function Si(t,e,n){const r=oe();r.stylingTemplate||(r.stylingTemplate=sn());const i=Ai();i?(ur()&&function(){const t=$t();var e,n;e=Bt(ve(),t),n=_i(),fr(Ci(e),n),fr(wi(e),n)}(),on(r.stylingTemplate,i),(r.onElementCreationFns=r.onElementCreationFns||[]).push(()=>{Ti(r,t,e,n,i),function(t,e){let n=t[8];n||(n=t[8]=[rn]),n[0]=e}(r.stylingTemplate,i)})):Ti(r,t,e,n,rn)}function Ti(t,e,n,r,i){!function(t,e,n,r,i){if(16&t[1])return;if(!function(t,e,n,r){const i=t[2],s=2*e;return!(s<i.length&&i[s+0]>=0||(on(t,e,t[5].length,r),0))}(t,e,0,i))return;r&&(r=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(sr(t[n]));return e}(r));const s=t[5],o=s[1],a=s[0],l=t[6],u=t[7],c=4*a;let h=10+c,d=h+4*o,f=d+c;const p=s.length;s.push(r?r.length:0,n?n.length:0);let m=0;const g=[];if(r&&r.length)for(let D=0;D<r.length;D++){const e=r[D];let n=vn(t,e,10,h);-1==n&&(n=h+m,m+=4,g.push(e)),s.push(n)}const y=[];if(n&&n.length)for(let D=0;D<n.length;D++){const e=n[D];let r=vn(t,e,h,d);-1==r?(r=d+m,m+=4,y.push(e)):r+=4*g.length,s.push(r)}let b=2;if(g.length)for(;b<p;){const t=s[b+0],e=s[b+1];if(e){const n=b+2+t;for(let t=n;t<n+e;t++)s[t]+=4*g.length}b+=2+(t+e)}const v=y.length+g.length;for(let D=10;D<t.length;D+=4){const e=D>=d,n=D>=(e?f:h),r=Bn(t,D),i=Dn(r);let s=Nn(r);qn(t,D,An(r,i,s+=e?n?4*g.length:0:4*v+4*(n?g.length:0)))}for(let D=0;D<4*g.length;D++)t.splice(f,0,null),t.splice(h,0,null),h++,d++,f+=2;for(let D=0;D<4*y.length;D++)t.splice(d,0,null),t.push(null),d++,f++;const _=t[4],w=t[3];for(let D=0;D<v;D++){const n=D>=g.length,r=n?D-g.length:D,s=n?y[r]:g[r];let l,u;n?(l=f+4*(o+r),u=h+4*(o+r)):(l=d+4*(a+r),u=10+4*(a+r));let c=n?_:w,p=tr(c,s);-1===p?(E=c,S=s,T=!n&&null,x=e,null===(C=null)&&(C=E.length,E.push(null,null,null),E[C+0]=S),E[C+1]=T,E[C+2]=x,p=C+1):p+=1;const m=$n(t,s,n,i||null);qn(t,u,An(m,p,l)),Mn(t,u,s),Ln(t,u,null),Fn(t,u,0,e),qn(t,l,An(m,p,u)),Mn(t,l,s),Ln(t,l,null),Fn(t,l,0,e)}var C,E,S,T,x;s[1]=o+y.length,s[0]=a+g.length,l[0]+=y.length,u[0]+=g.length;const I=4*g.length,k=4*y.length,A=u.length;or(t,e,!1,d+4*a,g.length);for(let D=1;D<A;D+=4)u[D+1]+=k+I;const O=l.length;or(t,e,!0,f+4*o,y.length);for(let D=1;D<O;D+=4)l[D+1]+=2*I+k;qn(t,1,An(0,0,d))}(t.stylingTemplate,i,e,n,r)}function xi(t){const e=ve(),n=$t(),r=Oi(e,n),i=Ai();if(i)yn(r,i,wn,[r,t,i]);else{const i=Bt(e,n);if(function(t){return 0!=(16&t.flags)}(i)&&t!==gn){const e=rr(r),s=(e.length?e+" ":"")+function(t){let e="";if(t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];e+=(r?";":"")+`${i}:${t[i]}`}}return e}(t);hi(n,i.inputs.style,s),t=gn}wn(r,t)}ur()&&function(t){vi(t,!1)}(t)}function Ii(t){const e=ve(),n=$t(),r=Oi(e,n),i=Ai();if(i)yn(r,i,_n,[r,t,i]);else{const i=Bt(e,n);if(function(t){return 0!=(8&t.flags)}(i)&&t!==gn){const e=rr(r),s=(e.length?e+" ":"")+function(t){return t&&"string"!=typeof t&&(t=Object.keys(t).join(" ")),t||""}(t);hi(n,i.inputs.class,s),t=gn}_n(r,t)}ur()&&function(t){vi(t,!0)}(t)}function ki(){const t=ve(),e=Ai()||rn,n=$t(),r=3===Bt(t,n).type?n[kt]:null,i=0!=(8&n[wt]),s=Oi(t,n);lr<2&&function(t,e,n,r,i,s,o=0){let a=0;if(function(t,e){const n=t[8];return!n||n[0]===e}(t,o)&&(function(t){const e=t[8];if(e){for(let t=1;t<e.length;t+=3)e[t+1].apply(this,e[t+2]);e.length=1}}(t),function(t){return xn(t,1)}(t))){const i=t[0],s=8&t[1],o=Pn(t);for(let n=10;n<t.length;n+=4)if(xn(t,n)){const s=Bn(t,n),a=Jn(t,n),l=zn(t,n),u=Un(t,n),c=4&s?er(t,a):null,h=jn(t,n),d=!!(2&s);let f=u;n<o&&!Kn(f)&&(f=Un(t,Nn(s))),Kn(f)||(f=On(t,s)),e&&(!r||f)&&(d?Sn(i,l,!!f,e,null,h):En(i,l,f,e,c,null,h)),Tn(t,n,!1)}if(s){const e=Array.isArray(n)?un(n):n,s=t[9],o=s[0];for(let t=1;t<o;t+=2){const n=s[t],o=t+1,l=s[o];if(n){const t=n.buildPlayer(l,r);void 0!==t&&(null!=t&&an(s,e,i,t,o)&&a++,l&&l.destroy())}else l&&l.destroy()}Qn(t,!1)}Hn(t,!1)}return a}(s,r,n,i,0,0,e)>0&&function(t,e){const n=0===t.flags;if(t.flags|=2,n&&t.clean==ei){let e;t.clean=new Promise(t=>e=t),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,ui(t)),2&t.flags){t.flags&=-3;const e=t.playerHandler;e&&e.flushPlayers()}t.clean=ei,e(null)})}}(un(n)),Kt(null),ur()&&function(){const t=ve(),e=$t(),n=Bt(t,e),r=function(t,e){return 3===t.type?e[kt]:null}(n,e),i=function(t,n){let r=e[t+Nt],i=e;for(;Array.isArray(r);)i=r,r=r[vt];return qt(i)?i[0]:r}(t),s=_i();!function(t,e,n,r,i){let s=!1;Cr(n,i)&&(!Sr(n)&&Er(n),Vr&&(Qr(n,t,r,e,Vr,Kr,null),Vr=0,!0),Lr=Pr)}(r,e,Ci(n),i,s);const o=kr(e);!function(t,e,n,r,i,s){let o=!1;Cr(n,i)&&(!Sr(n)&&Er(n),Fr&&(Qr(n,t,r,e,Fr,Gr,s),Fr=0,!0),Mr=Pr)}(r,e,wi(n),i,s,o),cr(null)}()}function Ai(){return ie()+se()}function Oi(t,e){let n=Gt;return n||Kt(n=function(t,e){let n=t,r=e[n],i=e;for(;Array.isArray(r);)i=r,r=r[vt];if(qt(i))return i;{const s=Bt(t-Nt,e).stylingTemplate;return i!==e&&(n=vt),i[n]=s?function(t,e){const n=e.slice();for(let r=0;r<10;r++){const t=e[r];Array.isArray(t)&&(n[r]=t.slice())}return n[0]=t,n[1]|=16,n}(r,s):sn(r)}}(t+Nt,e)),n}function Di(t){return!!t&&"function"==typeof t.then}function Ni(t){return!!t&&"function"==typeof t.subscribe}class Ri{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Pi{}class Mi{}function Li(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e[Fi]=t,e}const Fi="ngComponent";class Vi{resolveComponentFactory(t){throw Li(t)}}let ji=(()=>{class t{}return t.NULL=new Vi,t})();class qi{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Li(t);return new Bi(e,this._ngModule)}}class Bi extends Mi{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class Ui{}class zi{}function Hi(...t){}let Qi=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Wi(t),t})();const Wi=Hi;class Gi{}class Ki{}const $i=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Yi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zi(),t})();const Zi=Hi;class Xi{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ji=new Xi("8.1.3");class ts{constructor(){}supports(t){return yi(t)}create(t){return new ns(t)}}const es=(t,e)=>e;class ns{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||es}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<os(n,r,i)?e:n,o=os(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!yi(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&pi(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),pi(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[fi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&pi(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),pi(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(pi(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(pi(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new rs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ss),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ss),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class is{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&pi(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ss{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new is,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function os(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class as{constructor(){}supports(t){return t instanceof Map||bi(t)}create(){return new ls}}class ls{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||bi(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new us(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){pi(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class us{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let cs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=g({token:t,providedIn:"root",factory:()=>new t([new ts])}),t})(),hs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=g({token:t,providedIn:"root",factory:()=>new t([new as])}),t})(),ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fs(),t})();const fs=(...t)=>{},ps=[new as],ms=new cs([new ts]),gs=new hs(ps);let ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>bs(t,Qi),t})();const bs=Hi;let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_s(t,Qi),t})();const _s=Hi;function ws(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Cs(n,e),n}(i,t)}function Cs(t,e){t[nt]=e,t[it]=e.logError.bind(e)}function Es(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Ss(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Ts(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function xs(t,e){return t.nodes[e]}function Is(t,e){return t.nodes[e]}function ks(t,e){return t.nodes[e]}function As(t,e){return t.nodes[e]}function Os(t,e){return t.nodes[e]}const Ds={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ns=()=>{},Rs=new Map;function Ps(t){let e=Rs.get(t);return e||(e=v(t)+"_"+Rs.size,Rs.set(t,e)),e}const Ms="$$undefined",Ls="$$empty";function Fs(t){return{id:Ms,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Vs=0;function js(t,e,n,r){return!(!(2&t.state)&&pi(t.oldValues[e.bindingIndex+n],r))}function qs(t,e,n,r){return!!js(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Bs(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!mi(i,r)){const s=e.bindings[n].name;throw ws(Ds.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function Us(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function zs(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Hs(t,e,n,r){try{return Us(33554432&t.def.nodes[e].flags?Is(t,e).componentView:t),Ds.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Qs(t){return t.parent?Is(t.parent,t.parentNodeDef.nodeIndex):null}function Ws(t){return t.parent?t.parentNodeDef.parent:null}function Gs(t,e){switch(201347067&e.flags){case 1:return Is(t,e.nodeIndex).renderElement;case 2:return xs(t,e.nodeIndex).renderText}}function Ks(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function $s(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ys(t){return 1<<t%32}function Zs(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Ys(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Xs(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,M,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Ps(n)}})}function Js(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===at.Native?Is(t,n.renderParent.nodeIndex).renderElement:void 0:e}const to=new WeakMap;function eo(t){let e=to.get(t);return e||((e=t(()=>Ns)).factory=t,to.set(t,e)),e}function no(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Gs(t,t.def.lastRenderRootNode))),ro(t,e,0,t.def.nodes.length-1,n,r,i)}function ro(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&so(t,n,e,i,s,o),a+=n.childCount}}function io(t,e,n,r,i,s){let o=t;for(;o&&!Ks(o);)o=o.parent;const a=o.parent,l=Ws(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&so(a,t,n,r,i,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)oo(t,o[e],n,r,i,s)}}function so(t,e,n,r,i,s){if(8&e.flags)io(t,e.ngContent.index,n,r,i,s);else{const o=Gs(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&oo(t,o,n,r,i,s),32&e.bindingFlags&&oo(Is(t,e.nodeIndex).componentView,o,n,r,i,s)):oo(t,o,n,r,i,s),16777216&e.flags){const o=Is(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)no(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&ro(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function oo(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const ao=/^:([^:]+):(.+)$/;function lo(t){if(":"===t[0]){const e=t.match(ao);return[e[1],e[2]]}return["",t]}function uo(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function co(t,e,n,r,i,s,o,a,l,u,c,h,d,f,p,m,g,y,b,v){switch(t){case 1:return e+ho(n)+r;case 2:return e+ho(n)+r+ho(i)+s;case 3:return e+ho(n)+r+ho(i)+s+ho(o)+a;case 4:return e+ho(n)+r+ho(i)+s+ho(o)+a+ho(l)+u;case 5:return e+ho(n)+r+ho(i)+s+ho(o)+a+ho(l)+u+ho(c)+h;case 6:return e+ho(n)+r+ho(i)+s+ho(o)+a+ho(l)+u+ho(c)+h+ho(d)+f;case 7:return e+ho(n)+r+ho(i)+s+ho(o)+a+ho(l)+u+ho(c)+h+ho(d)+f+ho(p)+m;case 8:return e+ho(n)+r+ho(i)+s+ho(o)+a+ho(l)+u+ho(c)+h+ho(d)+f+ho(p)+m+ho(g)+y;case 9:return e+ho(n)+r+ho(i)+s+ho(o)+a+ho(l)+u+ho(c)+h+ho(d)+f+ho(p)+m+ho(g)+y+ho(b)+v;default:throw new Error("Does not support more than 9 expressions")}}function ho(t){return null!=t?t.toString():""}const fo=new Object,po=Ps(G),mo=Ps(A),go=Ps(Ui);function yo(t,e,n,r){return n=C(n),{index:-1,deps:Xs(r,v(e)),flags:t,token:e,value:n}}function bo(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const s=t[i];s.token===Q&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,e[Ps(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function vo(t,e,n=G.THROW_IF_NOT_FOUND){const r=j(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case po:case mo:case go:return t}const a=t._def.providersByKey[o];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=_o(t,a)),e===fo?void 0:e}if((l=y(e.token))&&(i=t,null!=(s=l).providedIn&&(function(t,e){return t._def.modules.indexOf(s.providedIn)>-1}(i)||"root"===s.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=fo,t._providers[n]=_o(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{j(r)}var i,s}function _o(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(vo(t,n[0]));case 2:return new e(vo(t,n[0]),vo(t,n[1]));case 3:return new e(vo(t,n[0]),vo(t,n[1]),vo(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=vo(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(vo(t,n[0]));case 2:return e(vo(t,n[0]),vo(t,n[1]));case 3:return e(vo(t,n[0]),vo(t,n[1]),vo(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=vo(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=vo(t,e.deps[0]);break;case 256:n=e.value}return n===fo||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?fo:n}function wo(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,To(n,e),Ds.dirtyParentQueries(r),Eo(r),r}function Co(t,e,n){const r=e?Gs(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);no(n,2,i,s,void 0)}function Eo(t){no(t,3,null,null,void 0)}function So(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function To(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const xo=new Object;function Io(t,e,n,r,i,s){return new ko(t,e,n,r,i,s)}class ko extends Mi{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=eo(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=Ds.createRootView(t,e||[],n,i,r,xo),a=ks(o,s).instance;return n&&o.renderer.setAttribute(Is(o,0).renderElement,"ng-version",Ji.full),new Ao(o,new Ro(o),a)}}class Ao extends Pi{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Qi(Is(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Fo(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Oo(t,e,n){return new Do(t,e,n)}class Do{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Qi(this._data.renderElement)}get injector(){return new Fo(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Ws(t),t=t.parent;return t?new Fo(t,e):new Fo(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=wo(this._data,t);Ds.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Ro(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof Bi||(i=s.get(Ui));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,So(i,n,r),function(t,e){const n=Qs(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,e.parentNodeDef)}(e,r),Ds.dirtyParentQueries(r),Co(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,s=i[n];To(i,n),null==r&&(r=i.length),So(i,r,s),Ds.dirtyParentQueries(s),Eo(s),Co(t,r>0?i[r-1]:null,s)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=wo(this._data,t);e&&Ds.destroyView(e)}detach(t){const e=wo(this._data,t);return e?new Ro(e):null}}function No(t){return new Ro(t)}class Ro{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return no(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Us(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ds.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Ds.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ds.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Eo(this._view),Ds.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Po(t,e){return new Mo(t,e)}class Mo extends ys{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Ro(Ds.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Qi(Is(this._parentView,this._def.nodeIndex).renderElement)}}function Lo(t,e){return new Fo(t,e)}class Fo{constructor(t,e){this.view=t,this.elDef=e}get(t,e=G.THROW_IF_NOT_FOUND){return Ds.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Ps(t)},e)}}function Vo(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Is(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return xs(t,n.nodeIndex).renderText;if(20240&n.flags)return ks(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function jo(t){return new qo(t.renderer)}class qo{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=lo(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=lo(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Bo(t,e,n,r){return new Uo(t,e,n,r)}class Uo{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=_o(t,i))}}(this)}get(t,e=G.THROW_IF_NOT_FOUND,n=p.Default){let r=0;return n&p.SkipSelf?r|=1:n&p.Self&&(r|=4),vo(this,{token:t,tokenKey:Ps(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ji)}destroy(){if(this._destroyed)throw new Error(`The ng module ${v(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==fo){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const zo=Ps(Gi),Ho=Ps(Yi),Qo=Ps(Qi),Wo=Ps(vs),Go=Ps(ys),Ko=Ps(ds),$o=Ps(G),Yo=Ps(A);function Zo(t,e,n,r,i,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return Jo(t,e|=16384,n,r,i,i,s,l,u)}function Xo(t,e,n,r,i){return Jo(-1,t,e,0,n,r,i)}function Jo(t,e,n,r,i,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Zs(n);l||(l=[]),a||(a=[]),s=C(s);const d=Xs(o,v(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:uo(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function ta(t,e){return ia(t,e)}function ea(t,e){let n=t;for(;n.parent&&!Ks(n);)n=n.parent;return sa(n.parent,Ws(n),!0,e.provider.value,e.provider.deps)}function na(t,e){const n=sa(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!Ni(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(ra(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ra(t,e,n){return r=>Hs(t,e,n,r)}function ia(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return sa(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(aa(t,e,n,i[0]));case 2:return r(aa(t,e,n,i[0]),aa(t,e,n,i[1]));case 3:return r(aa(t,e,n,i[0]),aa(t,e,n,i[1]),aa(t,e,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=aa(t,e,n,i[r]);return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return aa(t,e.parent,n,r.deps[0]);case 256:return r.value}}function sa(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(aa(t,e,n,i[0]));case 2:return new r(aa(t,e,n,i[0]),aa(t,e,n,i[1]));case 3:return new r(aa(t,e,n,i[0]),aa(t,e,n,i[1]),aa(t,e,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=aa(t,e,n,i[r]);return new r(...o)}}const oa={};function aa(t,e,n,r,i=G.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===Ko&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case zo:return jo(la(a,e,n));case Ho:return la(a,e,n).renderer;case Qo:return new Qi(Is(a,e.nodeIndex).renderElement);case Wo:return Is(a,e.nodeIndex).viewContainer;case Go:if(e.element.template)return Is(a,e.nodeIndex).template;break;case Ko:return No(la(a,e,n));case $o:case Yo:return Lo(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=ks(a,t.nodeIndex);return e||(e={instance:ia(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Ks(a),e=Ws(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,oa);return l!==oa||i===oa?l:s.root.ngModule.injector.get(r.token,i)}function la(t,e,n){let r;if(n)r=Is(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Ks(r);)r=r.parent;return r}function ua(t,e,n,r,i,s){if(32768&n.flags){const e=Is(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=gi.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new Ri(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function ca(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&da(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=ha(t,o,e,r)),o=o.parent}}function ha(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&da(t,i,e.flags&n,r++),i+=e.childCount}return r}function da(t,e,n,r){const i=ks(t,e);if(!i)return;const s=i.instance;s&&(Ds.setCurrentNode(t,e),1048576&n&&Ts(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Ts(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const fa=new k("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bt}),pa={},ma=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),ga=void 0;var ya=["en",[["a","p"],["AM","PM"],ga],[["AM","PM"],ga,ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ga,"{1} 'at' {0}",ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function ba(t){return va(t)[ma.PluralCase]}function va(t){const e=t.toLowerCase().replace(/_/g,"-");let n=pa[e];if(n)return n;const r=e.split("-")[0];if(n=pa[r])return n;if("en"===r)return ya;throw new Error(`Missing locale data for the locale "${t}".`)}let _a="en-US";class wa extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function Ca(){return this._results[fi()]()}class Ea{constructor(){this.dirty=!0,this._results=[],this.changes=new wa,this.length=0;const t=fi(),e=Ea.prototype;e[t]||(e[t]=Ca)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Sa=new k("Application Initializer");let Ta=(()=>(class{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Di(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}))();const xa=new k("AppId"),Ia=new k("Platform Initializer"),ka=new k("Platform ID"),Aa=new k("appBootstrapListener");let Oa=(()=>(class{log(t){console.log(t)}warn(t){console.warn(t)}}))();const Da=new k("LocaleId");function Na(){throw new Error("Runtime compiler is not loaded")}const Ra=Na,Pa=Na,Ma=Na,La=Na;let Fa,Va,ja=(()=>(class{constructor(){this.compileModuleSync=Ra,this.compileModuleAsync=Pa,this.compileModuleAndAllComponentsSync=Ma,this.compileModuleAndAllComponentsAsync=La}clearCache(){}clearCacheFor(t){}getModuleId(t){}}))();class qa{}function Ba(){const t=I.wtf;return!(!t||!(Fa=t.trace)||(Va=Fa.events,0))}const Ua=Ba();function za(t,e){return null}const Ha=Ua?function(t,e=null){return Va.createScope(t,e)}:(t,e)=>za,Qa=Ua?function(t,e){return Fa.leaveScope(t,e),e}:(t,e)=>e,Wa=(()=>Promise.resolve(0))();function Ga(t){"undefined"==typeof Zone?Wa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ka{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wa(!1),this.onMicrotaskEmpty=new wa(!1),this.onStable=new wa(!1),this.onError=new wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,s,o)=>{try{return Xa(e),t.invokeTask(r,i,s,o)}finally{Ja(e)}},onInvoke:(t,n,r,i,s,o,a)=>{try{return Xa(e),t.invoke(r,i,s,o,a)}finally{Ja(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Za(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ka.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ka.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ya,$a,$a);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $a(){}const Ya={};function Za(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ja(t){t._nesting--,Za(t)}class tl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wa,this.onMicrotaskEmpty=new wa,this.onStable=new wa,this.onError=new wa}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}let el=(()=>(class{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ka.assertNotInAngularZone(),Ga(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ga(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}))(),nl=(()=>{class t{constructor(){this._applications=new Map,ol.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ol.findTestabilityInTree(this,t,e)}}return t.ctorParameters=()=>[],t})();class rl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function il(t){ol=t}let sl,ol=new rl,al=function(t){return t instanceof Bi};const ll=new k("AllowMultipleToken");class ul{constructor(t,e){this.name=t,this.token=e}}function cl(t,e,n=[]){const r=`Platform: ${e}`,i=new k(r);return(e=[])=>{let s=hl();if(!s||s.injector.get(ll,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(sl&&!sl.destroyed&&!sl.injector.get(ll,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sl=t.get(dl);const e=t.get(Ia,null);e&&e.forEach(t=>t())}(G.create({providers:t,name:r}))}return function(t){const e=hl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function hl(){return sl&&!sl.destroyed?sl:null}let dl=(()=>(class{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new tl:("zone.js"===i?void 0:i)||new Ka({enableLongStackTrace:Se()}),r=[{provide:Ka,useValue:n}];var i;return n.run(()=>{const e=G.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(fn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return function(t){_a=t.toLowerCase().replace(/_/g,"-")}(i.injector.get(Da,"en-US")),i.onDestroy(()=>ml(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Di(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ta);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=fl({},e);return function(t,e,n){return t.get(qa).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(pl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function fl(t,e){return Array.isArray(e)?e.reduce(fl,t):Object.assign({},t,e)}let pl=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Se(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ka.assertNotInAngularZone(),Ga(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ka.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Mi?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=al(n)?null:this._injector.get(Ui),i=n.create(G.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(el,null);return s&&i.injector.get(nl).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Se()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Qa(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ml(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Aa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ml(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Ha("ApplicationRef#tick()"),t})();function ml(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gl{}class yl{}const bl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let vl=(()=>(class{constructor(t,e){this._compiler=t,this._config=e||bl}load(t){return this._compiler instanceof ja?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>_l(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>_l(t,e,r))}}))();function _l(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class wl{constructor(t,e){this.name=t,this.callback=e}}class Cl{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof El&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class El extends Cl{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof El&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof El&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof El&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof El)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Sl=new Map,Tl=function(t){return Sl.get(t)||null};function xl(t){Sl.set(t.nativeNode,t)}const Il=cl(null,"core",[{provide:ka,useValue:"unknown"},{provide:dl,deps:[G]},{provide:nl,deps:[]},{provide:Oa,deps:[]}]);function kl(){return ms}function Al(){return gs}function Ol(t){return t||"en-US"}function Dl(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}let Nl=(()=>(class{constructor(t){}}))();function Rl(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Zs(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?eo(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Ns},provider:null,text:null,query:null,ngContent:null}}function Pl(t,e,n,r,i,s,o=[],a,l,u,c,h){u||(u=Ns);const{matchedQueries:d,references:f,matchedQueryIds:p}=Zs(n);let m=null,g=null;s&&([m,g]=lo(s)),a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=lo(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const b=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e]=l[_];b[_]={type:0,target:t,eventName:e,propName:null}}const v=(o=o||[]).map(([t,e])=>{const[n,r]=lo(t);return[n,r,e]});return h=function(t){if(t&&t.id===Ms){const e=null!=t.encapsulation&&t.encapsulation!==at.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Vs++}`:Ls}return t&&t.id===Ls&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:uo(y),outputs:b,element:{ns:m,name:g,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Ns},provider:null,text:null,query:null,ngContent:null}}function Ml(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Js(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===at.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function Ll(t,e,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=Fl(t,n.nodeIndex,(s=a.eventName,(i=a.target)?`${i}:${s}`:s));let u=a.target,c=t;"component"===a.target&&(u=null,c=e);const h=c.renderer.listen(u||r,a.eventName,l);t.disposables[n.outputIndex+o]=h}var i,s}function Fl(t,e,n){return r=>Hs(t,e,n,r)}function Vl(t,e,n,r){if(!qs(t,e,n,r))return!1;const i=e.bindings[n],s=Is(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Ke.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function jl(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ys(e),bindings:r},ngContent:null}}function ql(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&$s(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Os(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Os(t,n).setDirty(),n+=e.childCount}}function Bl(t,e){const n=Os(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Ul(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=ks(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Ul(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function Ul(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(zl(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Is(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Ul(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=Qs(s);o&&o===n&&Ul(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Ul(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function zl(t,e,n){if(null!=n)switch(n){case 1:return Is(t,e.nodeIndex).renderElement;case 0:return new Qi(Is(t,e.nodeIndex).renderElement);case 2:return Is(t,e.nodeIndex).template;case 3:return Is(t,e.nodeIndex).viewContainer;case 4:return ks(t,e.nodeIndex).instance}}function Hl(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ql(t,e,n){const r=Js(t,e,n);r&&io(t,n.ngContent.index,1,r,null,void 0)}function Wl(t,e){return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:32,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:uo(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,new Array(e))}function Gl(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Kl(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=Js(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function $l(t,e){return(null!=t?t.toString():"")+e.suffix}function Yl(t,e,n,r){let i=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Xl(u,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Ps(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Ps(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Zl(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Zl(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Ns,updateRenderer:r||Ns,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:f}}function Zl(t){return 0!=(1&t.flags)&&null===t.element.name}function Xl(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Jl(t,e,n,r){const i=nu(t.root,t.renderer,t,e,n);return ru(i,t.component,r),iu(i),i}function tu(t,e,n){const r=nu(t,t.renderer,null,null,e);return ru(r,n,n),iu(r),r}function eu(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,nu(t.root,s,t,e.element.componentProvider,n)}function nu(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function ru(t,e,n){t.component=e,t.context=n}function iu(t){let e;Ks(t)&&(e=Is(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(Ds.setCurrentNode(t,i),201347067&s.flags){case 1:const n=Ml(t,e,s);let a=void 0;if(33554432&s.flags){const e=eo(s.element.componentView);a=Ds.createComponentView(t,s,e,n)}Ll(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?Po(t,s):void 0},16777216&s.flags&&(o.viewContainer=Oo(t,s,o));break;case 2:o=Kl(t,e,s);break;case 512:case 1024:case 2048:case 256:(o=r[i])||4096&s.flags||(o={instance:ta(t,s)});break;case 16:o={instance:ea(t,s)};break;case 16384:(o=r[i])||(o={instance:na(t,s)}),32768&s.flags&&ru(Is(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ea;break;case 8:Ql(t,e,s),o=void 0}r[i]=o}fu(t,du.CreateViewNodes),yu(t,201326592,268435456,0)}function su(t){lu(t),Ds.updateDirectives(t,1),pu(t,du.CheckNoChanges),Ds.updateRenderer(t,1),fu(t,du.CheckNoChanges),t.state&=-97}function ou(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ss(t,0,256),lu(t),Ds.updateDirectives(t,0),pu(t,du.CheckAndUpdate),yu(t,67108864,536870912,0);let e=Ss(t,256,512);ca(t,2097152|(e?1048576:0)),Ds.updateRenderer(t,0),fu(t,du.CheckAndUpdate),yu(t,134217728,536870912,0),ca(t,8388608|((e=Ss(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ss(t,768,1024)}function au(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&Vl(t,e,0,n)&&(f=!0),d>1&&Vl(t,e,1,r)&&(f=!0),d>2&&Vl(t,e,2,i)&&(f=!0),d>3&&Vl(t,e,3,s)&&(f=!0),d>4&&Vl(t,e,4,o)&&(f=!0),d>5&&Vl(t,e,5,a)&&(f=!0),d>6&&Vl(t,e,6,l)&&(f=!0),d>7&&Vl(t,e,7,u)&&(f=!0),d>8&&Vl(t,e,8,c)&&(f=!0),d>9&&Vl(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,s,o,a,l,u,c,h);case 2:return function(t,e,n,r,i,s,o,a,l,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&qs(t,e,0,n)&&(d=!0),p>1&&qs(t,e,1,r)&&(d=!0),p>2&&qs(t,e,2,i)&&(d=!0),p>3&&qs(t,e,3,s)&&(d=!0),p>4&&qs(t,e,4,o)&&(d=!0),p>5&&qs(t,e,5,a)&&(d=!0),p>6&&qs(t,e,6,l)&&(d=!0),p>7&&qs(t,e,7,u)&&(d=!0),p>8&&qs(t,e,8,c)&&(d=!0),p>9&&qs(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=$l(n,f[0])),p>1&&(d+=$l(r,f[1])),p>2&&(d+=$l(i,f[2])),p>3&&(d+=$l(s,f[3])),p>4&&(d+=$l(o,f[4])),p>5&&(d+=$l(a,f[5])),p>6&&(d+=$l(l,f[6])),p>7&&(d+=$l(u,f[7])),p>8&&(d+=$l(c,f[8])),p>9&&(d+=$l(h,f[9]));const m=xs(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,r,i,s,o,a,l,u,c,h);case 16384:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=ks(t,e.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&js(t,e,0,n)&&(p=!0,m=ua(t,d,e,0,n,m)),g>1&&js(t,e,1,r)&&(p=!0,m=ua(t,d,e,1,r,m)),g>2&&js(t,e,2,i)&&(p=!0,m=ua(t,d,e,2,i,m)),g>3&&js(t,e,3,s)&&(p=!0,m=ua(t,d,e,3,s,m)),g>4&&js(t,e,4,o)&&(p=!0,m=ua(t,d,e,4,o,m)),g>5&&js(t,e,5,a)&&(p=!0,m=ua(t,d,e,5,a,m)),g>6&&js(t,e,6,l)&&(p=!0,m=ua(t,d,e,6,l,m)),g>7&&js(t,e,7,u)&&(p=!0,m=ua(t,d,e,7,u,m)),g>8&&js(t,e,8,c)&&(p=!0,m=ua(t,d,e,8,c,m)),g>9&&js(t,e,9,h)&&(p=!0,m=ua(t,d,e,9,h,m)),m&&f.ngOnChanges(m),65536&e.flags&&Ts(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&qs(t,e,0,n)&&(f=!0),p>1&&qs(t,e,1,r)&&(f=!0),p>2&&qs(t,e,2,i)&&(f=!0),p>3&&qs(t,e,3,s)&&(f=!0),p>4&&qs(t,e,4,o)&&(f=!0),p>5&&qs(t,e,5,a)&&(f=!0),p>6&&qs(t,e,6,l)&&(f=!0),p>7&&qs(t,e,7,u)&&(f=!0),p>8&&qs(t,e,8,c)&&(f=!0),p>9&&qs(t,e,9,h)&&(f=!0),f){const f=As(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=s),p>4&&(m[4]=o),p>5&&(m[5]=a),p>6&&(m[6]=l),p>7&&(m[7]=u),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=s),p>4&&(m[d[4].name]=o),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=l),p>7&&(m[d[7].name]=u),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,s);break;case 5:m=t.transform(r,i,s,o);break;case 6:m=t.transform(r,i,s,o,a);break;case 7:m=t.transform(r,i,s,o,a,l);break;case 8:m=t.transform(r,i,s,o,a,l,u);break;case 9:m=t.transform(r,i,s,o,a,l,u,c);break;case 10:m=t.transform(r,i,s,o,a,l,u,c,h)}}f.value=m}return f}(t,e,n,r,i,s,o,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Vl(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)qs(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=$l(n[t],r[t]);i=e.text.prefix+i;const s=xs(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=ks(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)js(t,e,a,n[a])&&(s=!0,o=ua(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&Ts(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)qs(t,e,s,n[s])&&(i=!0);if(i){const i=As(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);s=t.transform(...i)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function lu(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Is(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,zs(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function uu(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;d>0&&Bs(t,e,0,n),d>1&&Bs(t,e,1,r),d>2&&Bs(t,e,2,i),d>3&&Bs(t,e,3,s),d>4&&Bs(t,e,4,o),d>5&&Bs(t,e,5,a),d>6&&Bs(t,e,6,l),d>7&&Bs(t,e,7,u),d>8&&Bs(t,e,8,c),d>9&&Bs(t,e,9,h)}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Bs(t,e,r,n[r])}(t,e,r),!1}function cu(t,e){if(Os(t,e.nodeIndex).dirty)throw ws(Ds.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function hu(t){if(!(128&t.state)){if(pu(t,du.Destroy),fu(t,du.Destroy),ca(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Qs(t);if(e){const n=e.template._projectedViews;n&&(To(n,n.indexOf(t)),Ds.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Is(t,n).renderElement):2&e.flags?t.renderer.destroyNode(xs(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Os(t,n).destroy()}}(t),Ks(t)&&t.renderer.destroy(),t.state|=128}}const du=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function fu(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?mu(Is(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function pu(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Is(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)mu(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function mu(t,e){const n=t.state;switch(e){case du.CheckNoChanges:0==(128&n)&&(12==(12&n)?su(t):64&n&&gu(t,du.CheckNoChangesProjectedViews));break;case du.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?su(t):64&n&&gu(t,e));break;case du.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ou(t):64&n&&gu(t,du.CheckAndUpdateProjectedViews));break;case du.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ou(t):64&n&&gu(t,e));break;case du.Destroy:hu(t);break;case du.CreateViewNodes:iu(t)}}function gu(t,e){pu(t,e),fu(t,e)}function yu(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(Ds.setCurrentNode(t,i.nodeIndex),r){case 0:Bl(t,i);break;case 1:cu(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let bu=!1;function vu(t,e,n,r,i,s){const o=i.injector.get(Ki);return tu(wu(t,i,o,e,n),r,s)}function _u(t,e,n,r,i,s){const o=i.injector.get(Ki),a=wu(t,i,new Ju(o),e,n),l=Du(r);return Zu(Fu.create,tu,null,[a,l,s])}function wu(t,e,n,r,i){const s=e.injector.get($e),o=e.injector.get(fn),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function Cu(t,e,n,r){const i=Du(n);return Zu(Fu.create,Jl,null,[t,e,i,r])}function Eu(t,e,n,r){return n=Iu.get(e.element.componentProvider.provider.token)||Du(n),Zu(Fu.create,eu,null,[t,e,n,r])}function Su(t,e,n,r){return Bo(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Tu.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Tu.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{xu.forEach((r,i)=>{y(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Tu.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Xs(i.deps),r.value=i.value)}if(xu.size>0){let e=new Set(t.modules);xu.forEach((r,i)=>{if(e.has(y(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Xs(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Ps(i)]=e}})}}(t=t.factory(()=>Ns)),t):t}(r))}const Tu=new Map,xu=new Map,Iu=new Map;function ku(t){let e;Tu.set(t.token,t),"function"==typeof t.token&&(e=y(t.token))&&"function"==typeof e.providedIn&&xu.set(t.token,t)}function Au(t,e){const n=eo(e.viewDefFactory),r=eo(n.nodes[0].element.componentView);Iu.set(t,r)}function Ou(){Tu.clear(),xu.clear(),Iu.clear()}function Du(t){if(0===Tu.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Tu.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Ns);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Tu.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Xs(n.deps),t.value=n.value)}}}}function Nu(t,e,n,r,i,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return au(t,f,n,r,i,s,o,a,l,u,c,h,d),224&f.flags?As(t,e).value:void 0}function Ru(t,e,n,r,i,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return uu(t,f,n,r,i,s,o,a,l,u,c,h,d),224&f.flags?As(t,e).value:void 0}function Pu(t){return Zu(Fu.detectChanges,ou,null,[t])}function Mu(t){return Zu(Fu.checkNoChanges,su,null,[t])}function Lu(t){return Zu(Fu.destroy,hu,null,[t])}const Fu=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Vu,ju,qu;function Bu(t,e){ju=t,qu=e}function Uu(t,e,n,r){return Bu(t,e),Zu(Fu.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function zu(t,e){if(128&t.state)throw Es(Fu[Vu]);return Bu(t,Gu(t,0)),t.def.updateDirectives(function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?Qu(t,s,r,i):Wu(t,s,r,i),16384&s.flags&&Bu(t,Gu(t,n)),224&s.flags?As(t,s.nodeIndex).value:void 0},t)}function Hu(t,e){if(128&t.state)throw Es(Fu[Vu]);return Bu(t,Ku(t,0)),t.def.updateRenderer(function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?Qu(t,s,r,i):Wu(t,s,r,i),3&s.flags&&Bu(t,Ku(t,n)),224&s.flags?As(t,s.nodeIndex).value:void 0},t)}function Qu(t,e,n,r){if(au(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,s=void 0,s=i.replace(/[$@]/g,"_"),`ng-reflect-${i=s.replace(pn,(...t)=>"-"+t[1].toLowerCase())}`)]=mn(a))}const r=e.parent,a=Is(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,s}function Wu(t,e,n,r){uu(t,e,n,...r)}function Gu(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ku(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class $u{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ws(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Is(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Lo(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Yu(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Yu(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Ks(t);)t=t.parent;return t.parent?Is(t.parent,Ws(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Gs(this.view,this.nodeDef):Gs(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>++s===i?t.error.bind(t,...e):Ns),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Yu(t,e,n){for(let r in e.references)n[r]=zl(t,e,e.references[r])}function Zu(t,e,n,r){const i=Vu,s=ju,o=qu;try{Vu=t;const l=e.apply(n,r);return ju=s,qu=o,Vu=i,l}catch(a){if(cn(a)||!ju)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Cs(t,e),t}(a,Xu())}}function Xu(){return ju?new $u(ju,qu):null}class Ju{constructor(t){this.delegate=t}createRenderer(t,e){return new tc(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class tc{constructor(t){this.delegate=t,this.debugContextFactory=Xu,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){Sl.delete(t.nativeNode)}(Tl(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new El(n,null,r);e.name=t,xl(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&xl(new Cl(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&xl(new Cl(e,null,n)),e}appendChild(t,e){const n=Tl(t),r=Tl(e);n&&r&&n instanceof El&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Tl(t),i=Tl(e),s=Tl(n);r&&i&&r instanceof El&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Tl(t),r=Tl(e);n&&r&&n instanceof El&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Xu();return r&&xl(new El(n,null,r)),n}setAttribute(t,e,n,r){const i=Tl(t);i&&i instanceof El&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Tl(t);r&&r instanceof El&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Tl(t);n&&n instanceof El&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Tl(t);n&&n instanceof El&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Tl(t);i&&i instanceof El&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Tl(t);r&&r instanceof El&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Tl(t);r&&r instanceof El&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Tl(t);r&&r.listeners.push(new wl(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ec(t,e,n){return new nc(t,e,n)}class nc extends zi{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(bu)return;bu=!0;const t=Se()?{setCurrentNode:Bu,createRootView:_u,createEmbeddedView:Cu,createComponentView:Eu,createNgModuleRef:Su,overrideProvider:ku,overrideComponentView:Au,clearOverrides:Ou,checkAndUpdateView:Pu,checkNoChangesView:Mu,destroyView:Lu,createDebugContext:(t,e)=>new $u(t,e),handleEvent:Uu,updateDirectives:zu,updateRenderer:Hu}:{setCurrentNode:()=>{},createRootView:vu,createEmbeddedView:Jl,createComponentView:eu,createNgModuleRef:Bo,overrideProvider:Ns,overrideComponentView:Ns,clearOverrides:Ns,checkAndUpdateView:ou,checkNoChangesView:su,destroyView:hu,createDebugContext:(t,e)=>new $u(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Nu:Ru,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Nu:Ru,t)};Ds.setCurrentNode=t.setCurrentNode,Ds.createRootView=t.createRootView,Ds.createEmbeddedView=t.createEmbeddedView,Ds.createComponentView=t.createComponentView,Ds.createNgModuleRef=t.createNgModuleRef,Ds.overrideProvider=t.overrideProvider,Ds.overrideComponentView=t.overrideComponentView,Ds.clearOverrides=t.clearOverrides,Ds.checkAndUpdateView=t.checkAndUpdateView,Ds.checkNoChangesView=t.checkNoChangesView,Ds.destroyView=t.destroyView,Ds.resolveDep=aa,Ds.createDebugContext=t.createDebugContext,Ds.handleEvent=t.handleEvent,Ds.updateDirectives=t.updateDirectives,Ds.updateRenderer=t.updateRenderer,Ds.dirtyParentQueries=ql}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(eo(this._ngModuleDefFactory));return Ds.createNgModuleRef(this.moduleType,t||G.NULL,this._bootstrapComponents,e)}}},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);const i=r},CRDf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("kJWO");const i=t=>e=>{const n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),s=n("I55L"),o=n("kJWO"),a=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),f=n("SeVD");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(f.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(e?n=>{const r=new u.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:Object(d.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?n=>{const r=new u.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:Object(c.a)(t))}(t,e);if(Object(s.a)(t))return Object(l.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?n=>{const r=new u.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const s=i.next();t=s.value,e=s.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},CqG3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("g+7Q"))},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),l=n("2fFW");n.d(e,"a",function(){return u});let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",function(){return i});class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),s=n("EY2u"),o=n("XUOw");function a(...t){let e=t[t.length-1];switch(Object(r.a)(e)?t.pop():e=void 0,t.length){case 0:return Object(s.b)(e);case 1:return e?Object(i.a)(t,e):Object(o.a)(t[0]);default:return Object(i.a)(t,e)}}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t})}n.d(e,"a",function(){return r})},SVse:function(t,e,n){"use strict";n.d(e,"z",function(){return p}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return m}),n.d(e,"A",function(){return y}),n.d(e,"b",function(){return M}),n.d(e,"h",function(){return w}),n.d(e,"i",function(){return E}),n.d(e,"j",function(){return T}),n.d(e,"m",function(){return P}),n.d(e,"n",function(){return A}),n.d(e,"o",function(){return O}),n.d(e,"c",function(){return L}),n.d(e,"y",function(){return F}),n.d(e,"s",function(){return j}),n.d(e,"t",function(){return q}),n.d(e,"r",function(){return B}),n.d(e,"v",function(){return v}),n.d(e,"u",function(){return b}),n.d(e,"x",function(){return N}),n.d(e,"w",function(){return D}),n.d(e,"q",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"p",function(){return h}),n.d(e,"f",function(){return l});var r=n("8Y7J");class i{}const s=new r.o("Location Initialized");class o{}const a=new r.o("appBaseHref");let l=(()=>{class t{constructor(e,n){this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(u(i)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+t.normalizeQueryParams(n))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,u(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(e,n="",r=null){this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}replaceState(e,n="",r=null){this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}return t})();function u(t){return t.replace(/\/index.html$/,"")}let c=(()=>(class extends o{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),h=(()=>(class extends o{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return l.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))();const d=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),f=r.sb,p=new r.o("UseV4Plurals");class m{}let g=(()=>(class extends m{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):f(e||this.locale)(t)){case d.Zero:return"zero";case d.One:return"one";case d.Two:return"two";case d.Few:return"few";case d.Many:return"many";default:return"other"}}}))();function y(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class b{}let v=(()=>(class{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.vb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.Gb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}))(),_=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})(),w=(()=>(class extends _{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}))();class C{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let E=(()=>(class{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new C(null,this._ngForOf,-1,-1),r),i=new S(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new S(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}))();class S{constructor(t,e){this.record=t,this.view=e}}let T=(()=>(class{constructor(t,e){this._viewContainer=t,this._context=new x,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){I("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){I("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}))();class x{constructor(){this.$implicit=null,this.ngIf=null}}function I(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Gb)(e)}'.`)}class k{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let A=(()=>(class{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}))(),O=(()=>(class{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new k(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}))();class D{}let N=(()=>(class{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}))(),R=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})(),P=(()=>(class extends R{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}))(),M=(()=>(class{}))();const L=new r.o("DocumentToken"),F="browser",V="server";function j(t){return t===F}function q(t){return t===V}let B=(()=>{class t{}return t.ngInjectableDef=Object(r.Lb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Mb)(L),window,Object(r.Mb)(r.l))}),t})();class U{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("ngJS"),s=n("a7t3"),o=n("pLzU"),a=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const f=t=>{if(t instanceof r.a)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[d.a])return Object(a.a)(t);if(Object(l.a)(t))return Object(i.a)(t);if(Object(u.a)(t))return Object(s.a)(t);if(t&&"function"==typeof t[h.a])return Object(o.a)(t);{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XUOw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t){const e=new r.a(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Xr7G:function(t,e,n){"use strict";n.d(e,"c",function(){return p}),n.d(e,"e",function(){return m}),n.d(e,"d",function(){return g}),n.d(e,"b",function(){return b}),n.d(e,"f",function(){return v}),n.d(e,"a",function(){return _}),n("mrSG");var r=n("8Y7J"),i=n("Cfvw"),s=n("LRne"),o=n("bMVn"),a=n("m+Ru"),l=n("fKx8"),u=n("1XSQ"),c=n("yA/v"),h=n("SVse"),d=n("Wcq6"),f=n.n(d);const p=new r.o("angularfire2.enableFirestorePersistence"),m=new r.o("angularfire2.firestore.persistenceSettings"),g=new r.o("angularfire2.firestore.settings"),y=parseInt(f.a.SDK_VERSION.split(".")[0]),b=y<5||5==y&&parseInt(f.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function v(t,e=(t=>t)){return{query:e(t),ref:t}}let _=(()=>(class{constructor(t,e,n,r,o,a,l){this.scheduler=new u.a(a,o),this.firestore=a.runOutsideAngular(()=>{const n=Object(c.e)(t,e).firestore();return n.settings(r||b),n}),this.persistenceEnabled$=n&&!Object(h.t)(o)?a.runOutsideAngular(()=>{try{return Object(i.a)(this.firestore.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(t){return Object(s.a)(!1)}}):Object(s.a)(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=v(n,e);return new a.a(r,i,this)}collectionGroup(t,e){if(y<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new l.a(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new o.a(e,this)}createId(){return this.firestore.collection("_").doc().id}}))()},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("51Dv"),i=n("SeVD");function s(t,e,n,s,o=new r.a(t,n,s)){if(!o.closed)return Object(i.a)(e)(o)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("NJ4a");const i=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r.a),e)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bMVn:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Cfvw"),i=n("cNHj"),s=n("lJxs"),o=n("Xr7G"),a=n("m+Ru"),l=n("1XSQ");class u{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Object(o.f)(n,e);return new a.a(r,i,this.afs)}snapshotChanges(){const t=Object(i.b)(this.ref),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(Object(s.a)(t=>t.payload.data()))}get(t){return Object(r.a)(this.ref.get(t)).pipe(Object(l.b)(this.afs.scheduler.zone))}}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},cNHj:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("w1tV"),s=n("lJxs");function o(t){return function(t){return new r.a(e=>({unsubscribe:t.onSnapshot(e)}))}(t).pipe(Object(i.a)())}function a(t){return o(t).pipe(Object(s.a)(t=>({payload:t,type:"value"})))}function l(t){return o(t).pipe(Object(s.a)(t=>({payload:t,type:"query"})))}},fKx8:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("Cfvw"),i=n("cNHj"),s=n("lJxs"),o=n("pLZG"),a=n("Kqap"),l=n("m+Ru"),u=n("iKj2"),c=n("1XSQ");class h{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(u.c)(this.query))).pipe(Object(s.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(o.a)(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(u.c)(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(Object(a.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Object(l.b)(t),n=Object(u.d)(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const t=Object(i.a)(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(s.a)(t=>t.payload.docs.map(t=>t.data())))}get(t){return Object(r.a)(this.query.get(t)).pipe(Object(c.b)(this.afs.scheduler.zone))}}},"g+7Q":function(t,e,n){"use strict";n.r(e);var r,i=n("Xr7G");n("mrSG"),n("6Joi");let s=(()=>r=class{static enablePersistence(t){return{ngModule:r,providers:[{provide:i.c,useValue:!0},{provide:i.e,useValue:t}]}}})();var o=n("m+Ru"),a=n("fKx8"),l=n("bMVn"),u=n("iKj2"),c=n("cNHj");n.d(e,"EnablePersistenceToken",function(){return i.c}),n.d(e,"PersistenceSettingsToken",function(){return i.e}),n.d(e,"FirestoreSettingsToken",function(){return i.d}),n.d(e,"DefaultFirestoreSettings",function(){return i.b}),n.d(e,"associateQuery",function(){return i.f}),n.d(e,"AngularFirestore",function(){return i.a}),n.d(e,"AngularFirestoreModule",function(){return s}),n.d(e,"validateEventsArray",function(){return o.b}),n.d(e,"AngularFirestoreCollection",function(){return o.a}),n.d(e,"AngularFirestoreCollectionGroup",function(){return a.a}),n.d(e,"AngularFirestoreDocument",function(){return l.a}),n.d(e,"docChanges",function(){return u.c}),n.d(e,"sortedChanges",function(){return u.d}),n.d(e,"combineChanges",function(){return u.b}),n.d(e,"combineChange",function(){return u.a}),n.d(e,"fromRef",function(){return c.c}),n.d(e,"fromDocRef",function(){return c.b}),n.d(e,"fromCollectionRef",function(){return c.a})},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},iKj2:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var r=n("cNHj"),i=n("lJxs"),s=n("Kqap");function o(t){return Object(r.a)(t).pipe(Object(i.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function a(t,e){return Object(r.a)(t).pipe(Object(i.a)(t=>t.payload.docChanges()),Object(s.a)((t,n)=>l(t,n,e),[]),Object(i.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function l(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=u(t,e))}),t}function u(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},"m+Ru":function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d});var r=n("Cfvw"),i=n("cNHj"),s=n("lJxs"),o=n("pLZG"),a=n("Kqap"),l=n("iKj2"),u=n("bMVn"),c=n("1XSQ");function h(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class d{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(l.c)(this.query))).pipe(Object(s.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(o.a)(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(l.c)(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(Object(a.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=h(t),n=Object(l.d)(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(t={}){const e=Object(i.a)(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(s.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return Object(r.a)(this.query.get(t)).pipe(Object(c.b)(this.afs.scheduler.zone))}add(t){return this.ref.add(t)}doc(t){return new u.a(this.ref.doc(t),this.afs)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("KqfI");function i(...t){return s(t)}function s(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r.a}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return b}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(r){c(s[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pLzU:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Lhse");const i=t=>e=>{const n=t[r.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return a}),n.d(e,"setLogLevel",function(){return l});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=i.INFO,o=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=o,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function l(t){r.forEach(function(e){e.logLevel=t})}},qgXg:function(t,e,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}n.d(e,"a",function(){return a});const a=new o(i)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");function o(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}o.prototype=Object.create(Error.prototype);const a=o;n.d(e,"a",function(){return l});let l=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:o,_unsubscribe:l,_subscriptions:c}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,d=o?o.length:0;for(;n;)n.remove(this),n=++h<d&&o[h]||null;if(Object(s.a)(l))try{l.call(this)}catch(f){e=!0,t=f instanceof a?u(f.errors):[f]}if(Object(r.a)(c))for(h=-1,d=c.length;++h<d;){const n=c[h];if(Object(i.a)(n))try{n.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof a?t=t.concat(u(f.errors)):t.push(f)}}if(e)throw new a(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof a?e.errors:e),[])}},w1tV:function(t,e,n){"use strict";var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new l(t))}}class l{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const c=class extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new o.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=o.a.EMPTY):this._connection=t),t}refCount(){return a()(this)}}.prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>a()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,h);return r.source=e,r.subjectFactory=n,r}}(f)(t))}n.d(e,"a",function(){return p})},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),s=n("zVF4"),o=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new s.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){c.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){c=c.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],s=0,o=Object.keys(t.services_[i]);s<o.length;s++)e.push(t.services_[i][o[s]]);return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=u),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;s.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(c.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),c=[])},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new o.Logger("@firebase/app");if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var f=self.firebase.SDK_VERSION;f&&f.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=u);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var h=new t(n,o,i);return e[a]=h,c(h,"create"),h},app:o,apps:null,SDK_VERSION:"6.4.1",INTERNAL:{registerService:function(e,u,c,h,f){if(void 0===f&&(f=!1),n[e])return d.debug("There were multiple attempts to register service "+e+"."),i[e];function p(t){if(void 0===t&&(t=o()),"function"!=typeof t[e])throw l.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=u,h&&(r[e]=h,a().forEach(function(t){h("create",t)})),void 0!==c&&s.deepExtend(p,c),i[e]=p,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,f?t:[])},p},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:h}};function o(t){if(!s.contains(e,t=t||u))throw l.create("no-app",{appName:t});return e[t]}function a(){return Object.keys(e).map(function(t){return e[t]})}function c(t,e){for(var i=0,s=Object.keys(n);i<s.length;i++){var o=h(0,s[i]);if(null===o)return;r[o]&&r[o](e,t)}}function h(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:a}),o.App=t,i}(h);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var g=p;e.default=g,e.firebase=g},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return ar}),n.d(e,"EventType",function(){return lr}),n.d(e,"WebChannel",function(){return ur}),n.d(e,"XhrIo",function(){return cr}),n.d(e,"createWebChannelTransport",function(){return or});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},o=i;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function x(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var A,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var R=o.navigator;if(R){var P=R.userAgent;if(P){A=P;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<F.length;s++)n=F[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var q,B,U=D(A,"Opera"),z=D(A,"Trident")||D(A,"MSIE"),H=D(A,"Edge"),Q=H||z,W=D(A,"Gecko")&&!(D(A.toLowerCase(),"webkit")&&!D(A,"Edge"))&&!(D(A,"Trident")||D(A,"MSIE"))&&!D(A,"Edge"),G=D(A.toLowerCase(),"webkit")&&!D(A,"Edge");function K(){var t=o.document;return t?t.documentMode:void 0}t:{var $="",Y=(B=A,W?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):G?/WebKit\/(\S+)/.exec(B):U?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&($=Y?Y[1]:""),z){var Z=K();if(null!=Z&&Z>parseFloat($)){q=String(Z);break t}}q=$}var X,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=O(String(q)).split("."),r=O(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=N(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==o[2].length,0==a[2].length)||N(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var et=o.document;X=et&&z?K()||("CSS1Compat"==et.compatMode?parseInt(q,10):5):void 0;var nt=!z||9<=Number(X),rt=z&&!tt("9"),it=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",c,e),o.removeEventListener("test",c,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function ot(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.Ja=!1},C(ot,st);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=S(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.X&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=pt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ct(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(d(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=St(r),e&&e[lt]?e.Ba(n,r,p(i)?!!i.capture:!!i,s):bt(e,n,r,!0,i,s)}(t,e,n,r,i);if(d(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,r,i);return null}return n=St(n),t&&t[lt]?t.Aa(e,n,p(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=p(i)?!!i.capture:!!i;if(o&&!nt)return null;var a=Ct(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(ft(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function _t(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&vt(t),n.call(r,e)}(t,nt?new ot(e,this):e=new ot(e||u("window.event"),this))}function Ct(t){return(t=t[mt])instanceof dt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Tt(){E.call(this),this.c=new dt(this),this.J=this,this.B=null}function xt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.X&&o.capture==n){var a=o.listener,l=o.da||o.src;o.Z&&ft(t.c,o),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Ja}C(Tt,E),Tt.prototype[lt]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(d(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=p(i)?!!i.capture:!!i,r=St(r),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(o=e.a[n],r,i,s))&&(ht(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,s)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;V(t=new st(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=xt(o,r,!0,t)&&i}if(i=xt(o=t.a=n,r,!0,t)&&i,i=xt(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=xt(o=t.a=e[s],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=o.JSON.stringify;function kt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}kt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Ot,Dt=new kt(function(){return new Rt},function(t){t.reset()});function Nt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Pt(t){o.setTimeout(function(){throw t},0)}function Mt(t,e){Ot||function(){var t=o.Promise.resolve(void 0);Ot=function(){t.then(Vt)}}(),Lt||(Ot(),Lt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new At;function Vt(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function jt(t,e){Tt.call(this),this.b=t||1,this.a=e||o,this.f=v(this.gb,this),this.g=w()}function qt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function Ut(t,e,n){E.call(this),this.f=null!=n?v(t,n):t,this.c=e,this.b=v(this.ab,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){E.call(this),this.b=t,this.a={}}C(jt,Tt),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(qt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),qt(this),delete this.a},C(Ut,E),(r=Ut.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){Ut.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Ht,E);var Qt=[];function Wt(t,e,n,r){d(n)||(n&&(Qt[0]=n.toString()),n=Qt);for(var i=0;i<n.length;i++){var s=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Gt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&vt(t)},t),t.a={}}function Kt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=new Tt;function Yt(t){st.call(this,"serverreachability",t)}function Zt(t){$t.dispatchEvent(new Yt($t,t))}function Xt(t){st.call(this,"statevent",t)}function Jt(t){$t.dispatchEvent(new Xt($t,t))}function te(t){st.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){t()},e)}C(Yt,st),C(Xt,st),C(te,st);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function se(){}ie.prototype.a=null;var oe,ae={OPEN:"a",ib:"b",Na:"c",rb:"d"};function le(){st.call(this,"d")}function ue(){st.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=de,this.P=new jt(t=Q?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(le,st),C(ue,st),C(ce,ie),oe=new ce;var de=45e3,fe={},pe={};function me(t,e,n){t.F=1,t.f=qe(Re(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,r){t.F=1,t.f=qe(Re(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),_e(t),t.D=Re(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Ut(v(t.Ka,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Zt(1)}function be(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=ve(t,n);if(i==pe){4==e&&(t.c=4,Jt(14),r=!1);break}if(i==fe){t.c=4,Jt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Jt(16),r=!1),t.b=t.b&&r,r||(Se(t),Ee(t))}function ve(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(v(t.bb,t),e)}function Ce(t){t.i&&(o.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Da()||t.m||t.g.na(t)}function Se(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,qt(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Ga(t,e),Zt(4)}catch(n){}}function xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(f(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t,e){Oe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Oe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Oe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!Q&&!this.a.aa())){this.m||4!=e||7==n||Zt(8==n||0>=r?3:2),Ce(this);var i=this.a.T();this.o=i;var s=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var o=Pn(this.a,"X-HTTP-Initial-Response");if(o&&!k(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,Jt(12),Se(this),Ee(this);break t}this.s=!0,Te(this,a)}this.H?(be(this,e,s),Q&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.cb),this.P.start())):Te(this,s),4==e&&Se(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),Se(this),Ee(this)}}}catch(l){}},r.cb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),be(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Se(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Zt(3),Jt(17)),Se(this),this.c=2,Ee(this)):we(this,this.R-t)},(r=Ie.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return Oe(this.b,t)?this.b[t]:e},r.set=function(t,e){Oe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var De=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ne?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new $e(null,this.h))}function Re(t){return new Ne(t)}function Pe(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof $e?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),Je(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=Ue(e,Ge)),t.c=new $e(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function je(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function qe(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?We:Qe,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ue(n,Ke)),t.join("")},Ne.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Qe=/[#\?:]/g,We=/[#\?]/g,Ge=/[#\?@]/g,Ke=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ze(t,e){Ye(t),e=en(t,e),Oe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke(t.a,e))}function Xe(t,e){return Ye(t),e=en(t,e),Oe(t.a.b,e)}function Je(t,e,n){Ze(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new $e;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Wn(t.a,t,!1)):(Jt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Zn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),je(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),ge(t.b,e,!1,t.f)}}function sn(){this.a=this.b=null}function on(){this.a=new Ie}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=o.PerformanceNavigationTiming?0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(o.ka&&o.ka.Ea&&o.ka.Ea()&&o.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new on),this.b=null,this.c=[]}(r=$e.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Xe(this,t)&&(e=x(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=x(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Xe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")},C(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void $n(e,2)}this.f=r[0]}else(e=this.a).m=this.c,$n(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!z||10<=Number(X))&&(this.c=200,this.b.cancel(),Jt(11),Wn(this.a,this,!0))):(Jt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Wn(this.a,this,!0)):(Jt(10),Wn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,$n(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},on.prototype.add=function(t){this.a.set(an(t),t)},on.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new on,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function fn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Oe(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Oe(t.a.a.b,n)),n&&ke(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),function(t){e=e.concat(t.j)}),e}return I(t.c)}function bn(){}function vn(){this.a=new bn}function _n(t,e,n){var r=n||"";try{xe(t,function(t,n){var i=t;p(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(t){t.cancel()}),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},bn.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},bn.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var Cn=o.JSON.parse;function En(t){Tt.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}C(En,Tt);var Sn="",Tn=/^https?$/i,xn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function kn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),Dn(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function On(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))Bt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",An(t))}finally{Dn(t)}}}function Dn(t,e){if(t.a){Nn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Ln(t){this.f=[],this.F=new sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new vn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Vn(t),3==t.u){var e=t.P++,n=Re(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Un(t,n),(e=new he(t,e,void 0)).F=2,e.f=qe(Re(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(e.f.toString(),"")),!n&&o.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Yn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(o.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(l(t.h)&&o.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new ln(t.Ra++,e)),3==t.u&&qn(t)}function qn(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),Un(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function Un(t,e){t.c&&xe({},function(t,n){Ve(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?v(t.c.Ta,t.c,t):null;t:for(var i=t.f,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=s))s=Math.max(0,i[l].b-100),a=!1;else try{_n(c,o,"req"+u+"_")}catch(h){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Qn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(v(t.Ha,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Zn(t,null,t.ha),qn(t)}function Gn(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function $n(t,e){if(2==e){var n=null;t.c&&(n=null);var r=v(t.fb,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Pe(n,"https"),qe(n)),function(t,e){var n=new Kt;if(o.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Vn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Zn(t,e,n){var r=function(t){return t instanceof Ne?Re(t):new Ne(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=o.location;r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&Pe(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,function(t,e){Ve(r,e,t)}),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),Un(t,r),r}function Xn(){}function Jn(){if(z&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=En.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=v(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(s){return void kn(this,s)}t=n||"";var i=new Ie(this.headers);r&&xe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=In,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=o.FormData&&t instanceof o.FormData,!(0<=S(xn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.Ca,this)):this.m=Bt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){kn(this,s)}},r.Ca=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),En.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?On(this):this.$a())},r.$a=function(){On(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(B){return-1}},r.za=function(){try{return 2<Rn(this)?this.a.statusText:""}catch(B){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var s=this.f[i];if(void 0===(s="__data__"in s.a&&a(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(i=Re(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),Un(this,i),this.g&&r&&Mn(i,this.g,r),mn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},r.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),Un(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(s){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}Qn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(v(this.Za,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(s){}this.fa=void 0}}else $n(this,11)}else if((t.s||this.a==t)&&Gn(this),!k(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ce(r),_e(r)),this.a=r):Hn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||$n(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?$n(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Qn(this),Jt(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,$t.dispatchEvent(new te($t,t.l?t.l.length:0,e,this.A)),qn(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(fn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(v(t.Ia,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Qn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},r.fb=function(t){Jt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Xn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Jn.prototype.a=function(t,e){return new tr(t,e)},C(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Jt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Zn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=It(t),jn(this.a,e)):jn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},C(er,le),C(nr,ue),C(rr,Xn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Jn);Jn.prototype.createWebChannel=Jn.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",se.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.Aa,En.prototype.listenOnce=En.prototype.Ba,En.prototype.getLastError=En.prototype.Ya,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getStatusText=En.prototype.za,En.prototype.getResponseJson=En.prototype.Va,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var sr={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:se,XhrIo:En},or=sr.createWebChannelTransport,ar=sr.ErrorCode,lr=sr.EventType,ur=sr.WebChannel,cr=sr.XhrIo;e.default=sr},"yA/v":function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return h}),n("mrSG");var r,i=n("8Y7J"),s=n("Wcq6"),o=n.n(s);const a=new i.o("angularfire2.app.options"),l=new i.o("angularfire2.app.nameOrConfig");class u{}function c(t,e){const n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",o.a.apps.filter(t=>t&&t.name===n.name)[0]||o.a.initializeApp(t,n)}let h=(()=>r=class{static initializeApp(t,e){return{ngModule:r,providers:[{provide:a,useValue:t},{provide:l,useValue:e}]}}})()},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY"),s=n("ngJS");function o(t,e){return new r.a(e?n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(s.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");class i{}class s{}var o=n("SVse"),a=n("LRne"),l=n("Cfvw"),u=n("XNiG"),c=n("9ppp");class h extends u.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.a;return this._value}next(t){super.next(this._value=t)}}var d=n("HDdC");function f(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}f.prototype=Object.create(Error.prototype);const p=f;var m=n("z+Ro"),g=n("DH7j"),y=n("l7GE"),b=n("ZUHj"),v=n("yCtX");const _={};class w{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new C(t,this.resultSelector))}}class C extends y.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(_),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(b.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===_?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var E=n("EY2u");function S(t){return new d.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(l.a)(n):Object(E.b)()).subscribe(e)})}var T=n("lJxs"),x=n("bHdf");function I(){return Object(x.a)(1)}var k=n("pLZG"),A=n("7o/Q");function O(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}O.prototype=Object.create(Error.prototype);const D=O;function N(t){return function(e){return 0===t?Object(E.b)():e.lift(new R(t))}}class R{constructor(t){if(this.total=t,this.total<0)throw new D}call(t,e){return e.subscribe(new P(t,this.total))}}class P extends A.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var M=n("KqfI"),L=n("n6bG");function F(t,e,n){return function(r){return r.lift(new V(t,e,n))}}class V{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new j(t,this.nextOrObserver,this.error,this.complete))}}class j extends A.a{constructor(t,e,n,r){super(t),this._tapNext=M.a,this._tapError=M.a,this._tapComplete=M.a,this._tapError=n||M.a,this._tapComplete=r||M.a,Object(L.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||M.a,this._tapError=e.error||M.a,this._tapComplete=e.complete||M.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const q=(t=B)=>F({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function B(){return new p}function U(t=null){return e=>e.lift(new z(t))}class z{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new H(t,this.defaultValue))}}class H extends A.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Q=n("SpAZ");function W(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(k.a)((e,n)=>t(e,n,r)):Q.a,N(1),n?U(e):q(()=>new p))}var G=n("51Dv");function K(t){return function(e){const n=new $(t),r=e.lift(n);return n.caught=r}}class ${constructor(t){this.selector=t}call(t,e){return e.subscribe(new Y(t,this.selector,this.caught))}}class Y extends y.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new G.a(this,void 0,void 0);this.add(r),Object(b.a)(this,n,void 0,void 0,r)}}}function Z(t){return e=>0===t?Object(E.b)():e.lift(new X(t))}class X{constructor(t){if(this.total=t,this.total<0)throw new D}call(t,e){return e.subscribe(new J(t,this.total))}}class J extends A.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function tt(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(k.a)((e,n)=>t(e,n,r)):Q.a,Z(1),n?U(e):q(()=>new p))}var et=n("5+tZ");class nt{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new rt(t,this.predicate,this.thisArg,this.source))}}class rt extends A.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function it(t,e){return"function"==typeof e?n=>n.pipe(it((n,r)=>Object(l.a)(t(n,r)).pipe(Object(T.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new st(t))}class st{constructor(t){this.project=t}call(t,e){return e.subscribe(new ot(t,this.project))}}class ot extends y.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new G.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(b.a)(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var at=n("XUOw");function lt(...t){return e=>{let n=t[t.length-1];Object(m.a)(n)?t.pop():n=null;const r=t.length;return function(...t){return I()(Object(a.a)(...t))}(1!==r||n?r>0?Object(v.a)(t,n):Object(E.b)(n):Object(at.a)(t[0]),e)}}var ut=n("Kqap");function ct(t,e){return Object(et.a)(t,e,1)}var ht=n("mCNh"),dt=n("quSY");function ft(t){return e=>e.lift(new pt(t))}class pt{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mt(t,this.callback))}}class mt extends A.a{constructor(t,e){super(t),this.add(new dt.a(e))}}let gt=null;function yt(){return gt}class bt{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class vt extends bt{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const _t={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},wt=3,Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},St=(()=>{if(r.tb.Node)return r.tb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Tt extends vt{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Tt,gt||(gt=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return _t}contains(t,e){return St.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===wt&&Et.hasOwnProperty(e)&&(e=Et[e]))}return Ct[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=It||(It=document.querySelector("base"))?It.getAttribute("href"):null;return null==e?null:(n=e,xt||(xt=document.createElement("a")),xt.setAttribute("href",n),"/"===xt.pathname.charAt(0)?xt.pathname:"/"+xt.pathname);var n}resetBaseElement(){It=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(o.A)(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let xt,It=null;function kt(){return!!window.history.pushState}let At=(()=>{class t extends o.q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=yt().getLocation(),this._history=yt().getHistory()}getBaseHrefFromDOM(){return yt().getBaseHref(this._doc)}onPopState(t){yt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){yt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){kt()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){kt()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=()=>[{type:void 0,decorators:[{type:r.n,args:[o.c]}]}],t})();const Ot=new r.o("TRANSITION_ID");function Dt(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=yt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}}const Nt=[{provide:r.d,useFactory:Dt,deps:[Ot,o.c,r.p],multi:!0}];class Rt{static init(){Object(r.X)(new Rt)}addToWindow(t){r.tb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.tb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.tb.getAllAngularRootElements=()=>t.getAllRootElements(),r.tb.frameworkStabilizers||(r.tb.frameworkStabilizers=[]),r.tb.frameworkStabilizers.push(t=>{const e=r.tb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?yt().isShadowRoot(e)?this.findTestabilityInTree(t,yt().getHost(e),!0):this.findTestabilityInTree(t,yt().parentElement(e),!0):null}}function Pt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.tb.ng=r.tb.ng||{})[t]=e)}const Mt=(()=>({ApplicationRef:r.g,NgZone:r.x}))();function Lt(t){return Object(r.T)(t)}const Ft=new r.o("EventManagerPlugins");let Vt=(()=>(class{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}))();class jt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=yt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let qt=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}))(),Bt=(()=>(class extends qt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>yt().remove(t))}}))();const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zt=/%COMP%/g,Ht="_nghost-%COMP%",Qt="_ngcontent-%COMP%";function Wt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Wt(t,i,n):(i=i.replace(zt,t),n.push(i))}return n}function Gt(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Kt=(()=>(class{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $t(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.O.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Xt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.O.Native:case r.O.ShadowDom:return new Jt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Wt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class $t{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ut[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ut[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ut[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.E.DashCase?t.style.setProperty(e,n,i&r.E.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.E.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Zt(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Zt(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gt(n)):this.eventManager.addEventListener(t,e,Gt(n))}}const Yt=(()=>"@".charCodeAt(0))();function Zt(t,e){if(t.charCodeAt(0)===Yt)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Xt extends $t{constructor(t,e,n,r){super(t),this.component=n;const i=Wt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=Qt.replace(zt,r+"-"+n.id),this.hostAttr=Ht.replace(zt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Jt extends $t{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.O.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Wt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const te=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),ee=te("addEventListener"),ne=te("removeEventListener"),re={},ie="__zone_symbol__propagationStopped",se=(()=>{const t="undefined"!=typeof Zone&&Zone[te("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),oe=function(t){return!!se&&se.hasOwnProperty(t)},ae=function(t){const e=re[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[ie];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};let le=(()=>(class extends jt{constructor(t,e,n){super(t),this.ngZone=e,n&&Object(o.t)(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ie]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[ee]||r.x.isInAngularZone()&&!oe(e))t.addEventListener(e,i,!1);else{let n=re[e];n||(n=re[e]=te("ANGULAR"+e+"FALSE"));let r=t[n];const s=r&&r.length>0;r||(r=t[n]=[]);const o=oe(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:o,handler:i})}s||t[ee](e,ae,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let r=t[ne];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=re[e],s=i&&t[i];if(!s)return t.removeEventListener.apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(t,[e,ae,!1]):t.removeEventListener.apply(t,[e,n,!1])}}))();const ue={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ce=new r.o("HammerGestureConfig"),he=new r.o("HammerLoader");let de=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}))(),fe=(()=>(class extends jt{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!ue.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}))();const pe=["alt","control","meta","shift"],me={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ge=(()=>{class t extends jt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yt().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(pe.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=yt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),pe.forEach(r=>{r!=n&&(0,me[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t})();class ye{}let be=(()=>(class extends ye{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.G.NONE:return e;case r.G.HTML:return e instanceof _e?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r.db)(this._doc,String(e)));case r.G.STYLE:return e instanceof we?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r.eb)(e));case r.G.SCRIPT:if(e instanceof Ce)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.G.URL:return e instanceof Se||e instanceof Ee?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r.fb)(String(e)));case r.G.RESOURCE_URL:if(e instanceof Se)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof ve)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new _e(t)}bypassSecurityTrustStyle(t){return new we(t)}bypassSecurityTrustScript(t){return new Ce(t)}bypassSecurityTrustUrl(t){return new Ee(t)}bypassSecurityTrustResourceUrl(t){return new Se(t)}}))();class ve{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class _e extends ve{getTypeName(){return"HTML"}}class we extends ve{getTypeName(){return"Style"}}class Ce extends ve{getTypeName(){return"Script"}}class Ee extends ve{getTypeName(){return"URL"}}class Se extends ve{getTypeName(){return"ResourceURL"}}const Te=[{provide:r.z,useValue:o.y},{provide:r.A,useValue:function(){Tt.makeCurrent(),Rt.init()},multi:!0},{provide:o.q,useClass:At,deps:[o.c]},{provide:o.c,useFactory:function(){return document},deps:[]}],xe=Object(r.Q)(r.W,"browser",Te);function Ie(){return new r.l}let ke=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Ot,useExisting:r.c},Nt]}}}return t})();function Ae(){return new Oe(Object(r.Mb)(o.c))}let Oe=(()=>{class t{constructor(t){this._doc=t,this._dom=yt()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._dom.querySelector(this._doc,`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._dom.querySelectorAll(this._doc,`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(t,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>this._dom.setAttribute(e,n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>this._dom.getAttribute(e,n)===t[n])}}return t.ngInjectableDef=Object(r.Lb)({factory:Ae,token:t,providedIn:"root"}),t})();function De(){return new Ne(Object(r.Mb)(o.c))}let Ne=(()=>{class t{constructor(t){this._doc=t}getTitle(){return yt().getTitle(this._doc)}setTitle(t){yt().setTitle(this._doc,t)}}return t.ngInjectableDef=Object(r.Lb)({factory:De,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;class Re{constructor(t,e){this.id=t,this.url=e}}class Pe extends Re{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Me extends Re{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Le extends Re{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fe extends Re{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ve extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Re{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Be extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends Re{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class He{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ye=(()=>(class{}))();const Ze="primary";class Xe{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Je(t){return new Xe(t)}const tn="ngNavigationCancelingError";function en(t){const e=Error("NavigationCancelingError: "+t);return e[tn]=!0,e}function nn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class rn{constructor(t,e){this.routes=t,this.module=e}}function sn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];on(r,an(e,r))}}function on(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ze)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&sn(t.children,e)}function an(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ln(t){const e=t.children&&t.children.map(ln),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=Ye),n}function un(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(t[i=n[s]]!==e[i])return!1;return!0}function cn(t){return Array.prototype.concat.apply([],t)}function hn(t){return t.length>0?t[t.length-1]:null}function dn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function fn(t){return Object(r.wb)(t)?t:Object(r.xb)(t)?Object(l.a)(Promise.resolve(t)):Object(a.a)(t)}function pn(t,e,n){return n?function(t,e){return un(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!bn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!bn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!bn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!bn(n.segments,t)&&!!n.children[Ze]&&e(n.children[Ze],r,s)}}(e,n,n.segments)}(t.root,e.root)}class mn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class gn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,dn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return En(this)}}class yn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Je(this.parameters)),this._parameterMap}toString(){return An(this)}}function bn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function vn(t,e){let n=[];return dn(t.children,(t,r)=>{r===Ze&&(n=n.concat(e(t,r)))}),dn(t.children,(t,r)=>{r!==Ze&&(n=n.concat(e(t,r)))}),n}class _n{}class wn{parse(t){const e=new Pn(t);return new mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return En(e);if(n){const n=e.children[Ze]?t(e.children[Ze],!1):"",r=[];return dn(e.children,(e,n)=>{n!==Ze&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=vn(e,(n,r)=>r===Ze?[t(e.children[Ze],!1)]:[`${r}:${t(n,!1)}`]);return`${En(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Tn(e)}=${Tn(t)}`).join("&"):`${Tn(e)}=${Tn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Cn=new wn;function En(t){return t.segments.map(t=>An(t)).join("/")}function Sn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tn(t){return Sn(t).replace(/%3B/gi,";")}function xn(t){return Sn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function In(t){return decodeURIComponent(t)}function kn(t){return In(t.replace(/\+/g,"%20"))}function An(t){return`${xn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${xn(t)}=${xn(e[t])}`).join("")}`;var e}const On=/^[^\/()?;=#]+/;function Dn(t){const e=t.match(On);return e?e[0]:""}const Nn=/^[^=?&#]+/,Rn=/^[^?&#]+/;class Pn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ze]=new gn(t,e)),n}parseSegment(){const t=Dn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yn(In(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Dn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Dn(this.remaining);t&&this.capture(n=t)}t[In(e)]=In(n)}parseQueryParam(t){const e=function(t){const e=t.match(Nn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Rn);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=kn(e),i=kn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Dn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ze);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Ze]:new gn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ln(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ln(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fn(t,this._root).map(t=>t.value)}}function Ln(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ln(t,n);if(e)return e}return null}function Fn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fn(t,n);if(r.length)return r.unshift(e),r}return[]}class Vn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qn extends Mn{constructor(t,e){super(t),this.snapshot=e,Wn(this,t)}toString(){return this.snapshot.toString()}}function Bn(t,e){const n=function(t,e){const n=new Hn([],{},{},"",{},Ze,e,null,t.root,-1,{});return new Qn("",new Vn(n,[]))}(t,e),r=new h([new yn("",{})]),i=new h({}),s=new h({}),o=new h({}),a=new h(""),l=new Un(r,i,o,a,s,Ze,e,n.root);return l.snapshot=n.root,new qn(new Vn(l,[]),n)}class Un{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(T.a)(t=>Je(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(T.a)(t=>Je(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Hn{constructor(t,e,n,r,i,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Je(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qn extends Mn{constructor(t,e){super(e),this.url=t,Wn(this,e)}toString(){return Gn(this._root)}}function Wn(t,e){e.value._routerState=t,e.children.forEach(e=>Wn(t,e))}function Gn(t){const e=t.children.length>0?` { ${t.children.map(Gn).join(", ")} } `:"";return`${t.value}${e}`}function Kn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),un(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),un(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $n(t,e){var n,r;return un(t.params,e.params)&&bn(n=t.url,r=e.url)&&n.every((t,e)=>un(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||$n(t.parent,e.parent))}function Yn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zn(t,e,n,r,i){let s={};return r&&dn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new mn(n.root===t?e:function t(e,n,r){const i={};return dn(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new gn(e.segments,i)}(n.root,t,e),s,i)}class Xn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Yn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==hn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function tr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ze]:`${t}`}function er(t,e,n){if(t||(t=new gn([],{})),0===t.segments.length&&t.hasChildren())return nr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=tr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!or(o,a,e))return s;r+=2}else{if(!or(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new gn(t.segments.slice(0,r.pathIndex),{});return e.children[Ze]=new gn(t.segments.slice(r.pathIndex),t.children),nr(e,0,i)}return r.match&&0===i.length?new gn(t.segments,{}):r.match&&!t.hasChildren()?rr(t,e,n):r.match?nr(t,0,i):rr(t,e,n)}function nr(t,e,n){if(0===n.length)return new gn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[Ze]:t}:void 0===t[0].outlets?{[Ze]:t}:t[0].outlets}(n),i={};return dn(r,(n,r)=>{null!==n&&(i[r]=er(t.children[r],e,n))}),dn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new gn(t.segments,i)}}function rr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=ir(n[i].outlets);return new gn(r,t)}if(0===i&&Yn(n[0])){r.push(new yn(t.segments[e].path,n[0])),i++;continue}const s=tr(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Yn(o)?(r.push(new yn(s,sr(o))),i+=2):(r.push(new yn(s,{})),i++)}return new gn(r,{})}function ir(t){const e={};return dn(t,(t,n)=>{null!==t&&(e[n]=rr(new gn([],{}),0,t))}),e}function sr(t){const e={};return dn(t,(t,n)=>e[n]=`${t}`),e}function or(t,e,n){return t==n.path&&un(e,n.parameters)}const ar=(t,e,n)=>Object(T.a)(r=>(new lr(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class lr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),dn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=jn(t),i=t.value.component?n.children:e;dn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ke(t.value.snapshot))}),t.children.length&&this.forwardEvent(new We(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Kn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ur(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ur(t){Kn(t.value),t.children.forEach(ur)}function cr(t){return"function"==typeof t}function hr(t){return t instanceof mn}class dr{constructor(t){this.segmentGroup=t||null}}class fr{constructor(t){this.urlTree=t}}function pr(t){return new d.a(e=>e.error(new dr(t)))}function mr(t){return new d.a(e=>e.error(new fr(t)))}function gr(t){return new d.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.v)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ze).pipe(Object(T.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(K(t=>{if(t instanceof fr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof dr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ze).pipe(Object(T.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(K(t=>{if(t instanceof dr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new gn([],{[Ze]:t}):t;return new mn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(T.a)(t=>new gn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(a.a)({});const n=[],r=[],i={};return dn(t,(t,s)=>{const o=e(s,t).pipe(Object(T.a)(t=>i[s]=t));s===Ze?n.push(o):r.push(o)}),a.a.apply(null,n.concat(r)).pipe(I(),W(),Object(T.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(a.a)(...n).pipe(Object(T.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(K(t=>{if(t instanceof dr)return Object(a.a)(null);throw t}))),I(),tt(t=>!!t),K((t,n)=>{if(t instanceof p||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(a.a)(new gn([],{}));throw new dr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return wr(r)!==s?pr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):pr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mr(i):this.lineralizeSegments(n,i).pipe(Object(et.a)(n=>{const i=new gn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=br(e,r,i);if(!o)return pr(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?mr(c):this.lineralizeSegments(r,c).pipe(Object(et.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(T.a)(t=>(n._loadedConfig=t,new gn(r,{})))):Object(a.a)(new gn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=br(e,n,r);if(!i)return pr(e);const l=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(et.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>_r(t,e,n)&&wr(n)!==Ze)}(t,n)?{segmentGroup:vr(new gn(e,function(t,e){const n={};n[Ze]=e;for(const r of t)""===r.path&&wr(r)!==Ze&&(n[wr(r)]=new gn([],{}));return n}(r,new gn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>_r(t,e,n))}(t,n)?{segmentGroup:vr(new gn(t.segments,function(t,e,n,r){const i={};for(const s of n)_r(t,e,s)&&!r[wr(s)]&&(i[wr(s)]=new gn([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(T.a)(t=>new gn(s,t))):0===r.length&&0===o.length?Object(a.a)(new gn(s,{})):this.expandSegment(n,i,r,o,Ze,!0).pipe(Object(T.a)(t=>new gn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(a.a)(new rn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(l.a)(r).pipe(Object(T.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&cr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!cr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return fn(s)})).pipe(I(),(i=t=>!0===t,t=>t.lift(new nt(i,void 0,t)))):Object(a.a)(!0);var i}(t.injector,e,n).pipe(Object(et.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(T.a)(t=>(e._loadedConfig=t,t))):function(t){return new d.a(e=>e.error(en(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(a.a)(new rn([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(a.a)(n);if(r.numberOfChildren>1||!r.children[Ze])return gr(t.redirectTo);r=r.children[Ze]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new mn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return dn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return dn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new gn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function br(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||nn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function vr(t){if(1===t.numberOfChildren&&t.children[Ze]){const e=t.children[Ze];return new gn(t.segments.concat(e.segments),e.children)}return t}function _r(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function wr(t){return t.outlet||Ze}class Cr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Er{constructor(t,e){this.component=t,this.route=e}}function Sr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=jn(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bn(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!$n(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new Cr(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:r,i,s),u&&s.canDeactivateChecks.push(new Er(l&&l.outlet&&l.outlet.component||null,a))}else a&&xr(n,l,s),s.canActivateChecks.push(new Cr(i)),t(e,null,o.component?l?l.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),dn(o,(t,e)=>xr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Tr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xr(t,e,n){const r=jn(t),i=t.value;dn(r,(t,r)=>{xr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Er(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Ir=Symbol("INITIAL_VALUE");function kr(){return it(t=>(function(...t){let e=null,n=null;return Object(m.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(g.a)(t[0])&&(t=t[0]),Object(v.a)(t,n).lift(new w(e))})(...t.map(t=>t.pipe(Z(1),lt(Ir)))).pipe(Object(ut.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ir)return t;if(r===Ir&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||hr(r))return r}return t},t)},Ir),Object(k.a)(t=>t!==Ir),Object(T.a)(t=>hr(t)?t:!0===t),Z(1)))}function Ar(t,e){return null!==t&&e&&e(new Ge(t)),Object(a.a)(!0)}function Or(t,e){return null!==t&&e&&e(new Qe(t)),Object(a.a)(!0)}function Dr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(a.a)(!0);const i=r.map(r=>S(()=>{const i=Tr(r,e,n);let s;if(function(t){return t&&cr(t.canActivate)}(i))s=fn(i.canActivate(e,t));else{if(!cr(i))throw new Error("Invalid CanActivate guard");s=fn(i(e,t))}return s.pipe(tt())}));return Object(a.a)(i).pipe(kr())}function Nr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>S(()=>{const i=e.guards.map(i=>{const s=Tr(i,e.node,n);let o;if(function(t){return t&&cr(t.canActivateChild)}(s))o=fn(s.canActivateChild(r,t));else{if(!cr(s))throw new Error("Invalid CanActivateChild guard");o=fn(s(r,t))}return o.pipe(tt())});return Object(a.a)(i).pipe(kr())}));return Object(a.a)(i).pipe(kr())}class Rr{}class Pr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=Fr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Ze),r=new Hn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ze,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Vn(r,n),s=new Qn(this.url,i);return this.inheritParamsAndData(s._root),Object(a.a)(s)}catch(t){return new d.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=zn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=vn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Ze?-1:e.value.outlet===Ze?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Rr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Rr;if((t.outlet||Ze)!==r)throw new Rr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?hn(n).parameters:{};i=new Hn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Mr(e),Lr(e)+n.length,Br(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||nn)(n,t,e);if(!r)throw new Rr;const i={};dn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Hn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Mr(e),Lr(e)+s.length,Br(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=Fr(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Vn(i,t)]}if(0===a.length&&0===u.length)return[new Vn(i,[])];const c=this.processSegment(a,l,u,Ze);return[new Vn(i,c)]}}function Mr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Fr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>Vr(t,e,n)&&jr(n)!==Ze)}(t,n)){const i=new gn(e,function(t,e,n,r){const i={};i[Ze]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&jr(s)!==Ze){const n=new gn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[jr(s)]=n}return i}(t,e,r,new gn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>Vr(t,e,n))}(t,n)){const s=new gn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Vr(t,n,a)&&!i[jr(a)]){const n=new gn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[jr(a)]=n}return Object.assign({},i,o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new gn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function jr(t){return t.outlet||Ze}function qr(t){return t.data||{}}function Br(t){return t.resolve||{}}function Ur(t,e,n,r){const i=Tr(t,e,r);return fn(i.resolve?i.resolve(e,n):i(e,n))}function zr(t){return function(e){return e.pipe(it(e=>{const n=t(e);return n?Object(l.a)(n).pipe(Object(T.a)(()=>e)):Object(l.a)([e])}))}}class Hr{}class Qr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Wr=new r.o("ROUTES");class Gr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(T.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new rn(cn(r.injector.get(Wr)).map(ln),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(l.a)(this.loader.load(t)):fn(t()).pipe(Object(et.a)(t=>t instanceof r.t?Object(a.a)(t):Object(l.a)(this.compiler.compileModuleAsync(t))))}}class Kr{}class $r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Yr(t){throw t}function Zr(t,e,n){return e.parse("/")}function Xr(t,e){return Object(a.a)(null)}class Jr{constructor(t,e,n,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new u.a,this.errorHandler=Yr,this.malformedUriErrorHandler=Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xr,afterPreactivation:Xr},this.urlHandlingStrategy=new $r,this.routeReuseStrategy=new Qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.v),this.console=s.get(r.ab);const c=s.get(r.x);this.isNgZoneEnabled=c instanceof r.x,this.resetConfig(l),this.currentUrlTree=new mn(new gn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gr(o,a,t=>this.triggerEvent(new ze(t)),t=>this.triggerEvent(new He(t))),this.routerState=Bn(this.currentUrlTree,this.rootComponentType),this.transitions=new h({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(k.a)(t=>0!==t.id),Object(T.a)(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),it(t=>{let n=!1,r=!1;return Object(a.a)(t).pipe(F(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),it(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(it(t=>{const n=this.transitions.getValue();return e.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?E.a:[t]}),it(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(it(i=>(function(t,e,n,r,s){return new yr(t,e,n,i.extractedUrl,s).apply()})(t,e,n,0,r).pipe(Object(T.a)(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),F(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(et.a)(s=>(function(t,e,n,r,i="emptyOnly",s="legacy"){return new Pr(t,e,n,r,i,s).recognize()})(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(T.a)(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),F(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),F(t=>{const n=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,l=new Pe(n,this.serializeUrl(r),i,s);e.next(l);const u=Bn(r,this.rootComponentType).snapshot;return Object(a.a)(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),E.a}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),F(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(T.a)(t=>Object.assign({},t,{guards:Sr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(et.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(a.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(l.a)(t).pipe(Object(et.a)(t=>(function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(a.a)(!0);const o=s.map(s=>{const o=Tr(s,e,i);let a;if(function(t){return t&&cr(t.canDeactivate)}(o))a=fn(o.canDeactivate(t,e,n,r));else{if(!cr(o))throw new Error("Invalid CanDeactivate guard");a=fn(o(t,e,n,r))}return a.pipe(tt())});return Object(a.a)(o).pipe(kr())})(t.component,t.route,n,e,r)),tt(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(et.a)(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,r){return Object(l.a)(e).pipe(ct(e=>Object(l.a)([Or(e.route.parent,r),Ar(e.route,r),Nr(t,e.path,n),Dr(t,e.route,n)]).pipe(I(),tt(t=>!0!==t,!0))),tt(t=>!0!==t,!0))}(r,s,t,e):Object(a.a)(n)),Object(T.a)(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),F(t=>{if(hr(t.guardsResult)){const e=en(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),F(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(k.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Le(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zr(t=>{if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(F(t=>{const e=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(Object(et.a)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?Object(l.a)(i).pipe(ct(n=>(function(t,e,n,i){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(a.a)({});if(1===i.length){const s=i[0];return Ur(t[s],e,n,r).pipe(Object(T.a)(t=>({[s]:t})))}const s={};return Object(l.a)(i).pipe(Object(et.a)(i=>Ur(t[i],e,n,r).pipe(Object(T.a)(t=>(s[i]=t,t))))).pipe(W(),Object(T.a)(()=>s))}(t._resolve,t,r,i).pipe(Object(T.a)(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,zn(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(n){return Object(ht.a)(Object(ut.a)(t,e),N(1),U(e))(n)}:function(e){return Object(ht.a)(Object(ut.a)((e,n,r)=>t(e,n,r+1)),N(1))(e)}}((t,e)=>t),Object(T.a)(t=>n)):Object(a.a)(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),F(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(T.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Vn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Un(new h((i=n.value).url),new h(i.params),new h(i.queryParams),new h(i.fragment),new h(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Vn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new qn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),F(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),ar(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),F({next(){n=!0},complete(){n=!0}}),ft(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Le(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),K(n=>{if(r=!0,function(t){return n&&n[tn]}()){const r=hr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Le(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Fe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return E.a}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sn(t),this.config=t.map(ln),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:l}=e;Object(r.V)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Zn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return dn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Xn(n,e,r)}(n);if(s.toRoot())return Zn(e.root,new gn([],{}),e,r,i);const o=function(t,n,r){if(t.isAbsolute)return new Jn(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Jn(r.snapshot._urlSegment,!0,0);const i=Yn(t.commands[0])?0:1;return function(e,n,s){let o=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new Jn(o,!1,a-l)}()}(s,0,t),a=o.processChildren?nr(o.segmentGroup,o.index,s.commands):er(o.segmentGroup,o.index,s.commands);return Zn(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.V)()&&this.isNgZoneEnabled&&!r.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=hr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(hr(t))return pn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return pn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}let ti=(()=>(class{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ei(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}))();function ei(t){return""===t||!!t}class ni{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ri,this.attachRef=null}}class ri{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ni,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let ii=(()=>(class{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=i||Ze,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new si(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class si{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Un?this.route:t===ri?this.childContexts:this.parent.get(t,e)}}class oi{}class ai{preload(t,e){return e().pipe(K(()=>Object(a.a)(null)))}}class li{preload(t,e){return Object(a.a)(null)}}let ui=(()=>(class{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Gr(e,n,e=>t.triggerEvent(new ze(e)),e=>t.triggerEvent(new He(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(k.a)(t=>t instanceof Me),ct(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.v);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(l.a)(n).pipe(Object(x.a)(),Object(T.a)(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(et.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}))();class ci{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Me&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $e&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new $e(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const hi=new r.o("ROUTER_CONFIGURATION"),di=new r.o("ROUTER_FORROOT_GUARD"),fi=[o.f,{provide:_n,useClass:wn},{provide:Jr,useFactory:_i,deps:[r.g,_n,ri,o.f,r.p,r.u,r.i,Wr,hi,[Kr,new r.y],[Hr,new r.y]]},ri,{provide:Un,useFactory:wi,deps:[Jr]},{provide:r.u,useClass:r.I},ui,li,ai,{provide:hi,useValue:{enableTracing:!1}}];function pi(){return new r.w("Router",Jr)}let mi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[fi,vi(e),{provide:di,useFactory:bi,deps:[[Jr,new r.y,new r.H]]},{provide:hi,useValue:n||{}},{provide:o.g,useFactory:yi,deps:[o.q,[new r.n(o.a),new r.y],hi]},{provide:ci,useFactory:gi,deps:[Jr,o.r,hi]},{provide:oi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:li},{provide:r.w,multi:!0,useFactory:pi},[Ci,{provide:r.d,multi:!0,useFactory:Ei,deps:[Ci]},{provide:Ti,useFactory:Si,deps:[Ci]},{provide:r.b,multi:!0,useExisting:Ti}]]}}static forChild(e){return{ngModule:t,providers:[vi(e)]}}}return t})();function gi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ci(t,e,n)}function yi(t,e,n={}){return n.useHash?new o.d(t,e):new o.p(t,e)}function bi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Wr,multi:!0,useValue:t}]}function _i(t,e,n,r,i,s,o,a,l={},u,c){const h=new Jr(null,e,n,r,i,s,o,cn(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=yt();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function wi(t){return t.routerState.root}let Ci=(()=>(class{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new u.a}appInitializer(){return this.injector.get(o.e,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jr),r=this.injector.get(hi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(a.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(hi),n=this.injector.get(ui),i=this.injector.get(ci),s=this.injector.get(Jr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}))();function Ei(t){return t.appInitializer.bind(t)}function Si(t){return t.bootstrapListener.bind(t)}const Ti=new r.o("Router Initializer");var xi=r.ob({encapsulation:2,styles:[],data:{}});function Ii(t){return r.Ib(0,[(t()(),r.qb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(1,212992,null,0,ii,[ri,r.N,r.j,[8,null],r.h],null,null)],function(t,e){t(e,1,0)},null)}function ki(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"ng-component",[],null,null,null,Ii,xi)),r.pb(1,49152,null,0,Ye,[],null,null)],null,null)}var Ai=r.mb("ng-component",Ye,ki,{},{},[]),Oi=n("VRyK"),Di=n("3N8a");function Ni(t,e,n,r){return Object(L.a)(n)&&(r=n,n=void 0),r?Ni(t,e,n).pipe(Object(T.a)(t=>Object(g.a)(t)?r(...t):r(t))):new d.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}const Ri=new(n("IjjT").a)(Di.a);function Pi(t,e=Ri){return n=>n.lift(new Mi(t,e))}class Mi{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Li(t,this.dueTime,this.scheduler))}}class Li extends A.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Fi,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Fi(t){t.debouncedNext()}function Vi(t){return e=>e.lift(new ji(t))}class ji{constructor(t){this.notifier=t}call(t,e){const n=new qi(t),r=Object(b.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class qi extends y.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}let Bi=(()=>(class{}))();class Ui{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new Ui(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let zi=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Hi={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Qi=new r.o("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Hi}),Wi=new r.o("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Gi=new r.o("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Ki(t,e){return t=t?t.clone():new Ui,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const $i="inline",Yi=["row","column","row-reverse","column-reverse"];function Zi(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}class Xi{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new u.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return Yi.find(t=>t===e)||(e=Yi[0]),n===$i&&(n=r!==$i?r:"",r=$i),[e,Zi(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.addStyles(t)}}const Ji=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],ts="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",es="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",ns="(orientation: portrait) and (min-width: 840px)",rs="(orientation: landscape) and (min-width: 1280px)",is={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${ts} , ${es}`,WEB:`${ns}, ${rs} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${ts} `,WEB_PORTRAIT:`${ns}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:`${es}`,WEB_LANDSCAPE:`${rs}`},ss=[{alias:"handset",priority:2e3,mediaQuery:is.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:is.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:is.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:is.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:is.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:is.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:is.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:is.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:is.WEB_PORTRAIT,overlapping:!0}],os=/(\.|-|_)/g;function as(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const ls=new r.o("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(r.U)(Gi),e=Object(r.U)(Qi),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(e){return t.alias.replace(os,"|").split("|").map(as).join("")}(),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:Ji).concat(e.addOrientationBps?ss:[]),n)}});function us(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function cs(t,e){return(t.priority||0)-(e.priority||0)}let hs=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(cs)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(ls))},token:t,providedIn:"root"}),t})(),ds=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new h(new Ui(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return!!e&&e.matches}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Object(k.a)(n=>!e||t.indexOf(n.mediaQuery)>-1)),r=new d.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(Oi.a)(r,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!fs[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>fs[t]=i)}catch(r){console.error(r)}}}(e,this._document),e.forEach(t=>{let e=this.registry.get(t);e||((e=this.buildMQL(t)).addListener(e=>{this._zone.run(()=>this.source.next(new Ui(e.matches,t)))}),this.registry.set(t,e)),e.matches&&n.push(new Ui(!0,t))}),n}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}(t,Object(o.s)(this._platformId))}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(r.x),Object(r.Mb)(r.z),Object(r.Mb)(o.c))},token:t,providedIn:"root"}),t})();const fs={},ps="print",ms={alias:ps,mediaQuery:ps,priority:1e3};let gs=(()=>{class t{constructor(t,e){this.breakpoints=t,this.layoutConfig=e,this.isPrinting=!1,this.queue=new ys,this.deactivations=[]}withPrintQuery(t){return[...t,ps]}isPrintEvent(t){return t.mediaQuery.startsWith(ps)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(us)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),Ki(t,e)}interceptEvents(t){return e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):!e.matches&&this.isPrinting&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting)if(t.matches)this.deactivations=[];else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(us))}}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(hs),Object(r.Mb)(Qi))},token:t,providedIn:"root"}),t})();class ys{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(ms),t.sort(us),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(ps)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function bs(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":t["-webkit-flex-direction"]=n=n||"row",t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let vs=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:bs(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:bs(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||Object(o.t)(this._platformId)&&this._serverModuleLoaded?e:""]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return Object(o.s)(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(Object(o.s)(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",Object(o.s)(this._platformId)||!this._serverModuleLoaded?Object(o.s)(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${r}`);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(zi,8),Object(r.Mb)(Wi,8),Object(r.Mb)(r.z),Object(r.Mb)(Qi))},token:t,providedIn:"root"}),t})();class _s{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function ws(t,e="1",n="1"){let r=[e,n,t],i=t.indexOf("calc");if(i>0){r[2]=Cs(t.substring(i).trim());let e=t.substr(0,i).trim().split(" ");2==e.length&&(r[0]=e[0],r[1]=e[1])}else if(0==i)r[2]=Cs(t.trim());else{let i=t.split(" ");r=3===i.length?i:[e,n,t]}return r}function Cs(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Es=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new u.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=Ki(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(us),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(us),this.updateStyles()))}init(t,e,n,r,i=[]){Ss(this.updateMap,t,e,n),Ss(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const s=(i.get(r)||new Map).set(e,n);i.set(r,s),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const s=this.getValue(t,e);void 0!==s&&this.updateElement(t,e,s)}trackValue(t,e){return this.subject.asObservable().pipe(Object(k.a)(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n)){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Object(Oi.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(F(this.hook.interceptEvents(this)),Object(k.a)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(ds),Object(r.Mb)(hs),Object(r.Mb)(gs))},token:t,providedIn:"root"}),t})();function Ss(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}const Ts="inline",xs=["row","column","row-reverse","column-reverse"];function Is(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return xs.find(t=>t===e)||(e=xs[0]),n===Ts&&(n=r!==Ts?r:"",r=Ts),[e,As(n),!!r]}function ks(t){let[e]=Is(t);return e.indexOf("row")>-1}function As(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let Os=(()=>{class t extends _s{buildStyles(t){return function(t){let[e,n,r]=Is(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Ds=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Ns=(()=>(class extends Xi{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout",this.styleCache=Ps,this.init()}}))(),Rs=(()=>(class extends Ns{constructor(){super(...arguments),this.inputs=Ds}}))();const Ps=new Map;function Ms(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}let Ls=(()=>{class t extends _s{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,r,...i]=t.split(" "),s=i.join(" ");const o=e.direction.indexOf("column")>-1?"column":"row",a=ks(o)?"max-width":"max-height",l=ks(o)?"min-width":"min-height",u=String(s).indexOf("calc")>-1,c=u||"auto"===s,h=String(s).indexOf("%")>-1&&!u,d=String(s).indexOf("px")>-1||String(s).indexOf("rem")>-1||String(s).indexOf("em")>-1||String(s).indexOf("vw")>-1||String(s).indexOf("vh")>-1;let f=u||d;r="0"==r?0:r;const p=!(n="0"==n?0:n)&&!r;let m={};const g={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(s||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;s="row"===o?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,s="auto";break;case"grow":s="100%";break;case"noshrink":r=0,s="auto";break;case"auto":break;case"none":n=0,r=0,s="auto";break;default:f||h||isNaN(s)||(s+="%"),"0%"===s&&(f=!0),"0px"===s&&(s="0%"),m=Ms(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":f?s:"100%"}:{flex:`${n} ${r} ${f?s:"100%"}`})}return m.flex||m["flex-grow"]||(m=Ms(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":s}:{flex:`${n} ${r} ${s}`})),"0%"!==s&&"0px"!==s&&"0.000000001px"!==s&&"auto"!==s&&(m[l]=p||f&&n?s:null,m[a]=p||!c&&r?s:null),m[l]||m[a]?e.hasWrap&&(m[u?"flex-basis":"flex"]=m[a]?u?m[a]:`${n} ${r} ${m[a]}`:u?m[l]:`${n} ${r} ${m[l]}`):m=Ms(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":s}:{flex:`${n} ${r} ${s}`}),Ms(m,{"box-sizing":"border-box"})}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(Qi))},token:t,providedIn:"root"}),t})();const Fs=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Vs=(()=>(class extends Xi{constructor(t,e,n,r,i){super(t,r,e,i),this.elRef=t,this.styleUtils=e,this.layoutConfig=n,this.styleBuilder=r,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Vi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Vi(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const e=this.direction,n=e.startsWith("row"),r=this.wrap;n&&r?this.styleCache=Us:n&&!r?this.styleCache=qs:!n&&r?this.styleCache=zs:n||r||(this.styleCache=Bs);const i=ws(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:e,hasWrap:r})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=ws(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}))(),js=(()=>(class extends Vs{constructor(){super(...arguments),this.inputs=Fs}}))();const qs=new Map,Bs=new Map,Us=new Map,zs=new Map;let Hs=(()=>{class t extends _s{buildStyles(t,e){const n={},[r,i]=t.split(" ");switch(r){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(i){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return Ms(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===i?ks(e.layout)?null:"100%":null,"max-height":"stretch"===i&&ks(e.layout)?"100%":null})}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Qs=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Ws=(()=>(class extends Xi{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Vi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=Xs:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=to:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=Js:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=eo:"column-reverse"!==e||n||(this.styleCache=Zs):this.styleCache=$s:this.styleCache=Ys:this.styleCache=Ks,this.addStyles(t,{layout:e,inline:n})}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],this.inline=t.value.includes("inline"),xs.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}}))(),Gs=(()=>(class extends Ws{constructor(){super(...arguments),this.inputs=Qs}}))();const Ks=new Map,$s=new Map,Ys=new Map,Zs=new Map,Xs=new Map,Js=new Map,to=new Map,eo=new Map;let no=(()=>(class{}))();class ro{constructor(){}ngOnInit(){}}var io=r.ob({encapsulation:0,styles:[[".title[_ngcontent-%COMP%]{font-size:3rem;font-family:Overlock,cursive}"]],data:{}});function so(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,2,"h1",[["class","title"],["fxLayoutAlign","center"]],null,null,null,null,null)),r.pb(2,671744,null,0,Gs,[r.k,vs,[2,Hs],Es],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),r.Hb(-1,null,["NG CMS"]))],function(t,e){t(e,2,0,"center")},null)}let oo=(()=>(class{}))(),ao=(()=>(class{}))(),lo=(()=>(class{}))(),uo=(()=>(class{constructor(t){this._animationMode=t}}))(),co=(()=>(class{}))(),ho=(()=>(class{}))();const fo=new r.o("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.U)(o.c)}});let po=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.m,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(fo,8))},token:t,providedIn:"root"}),t})(),mo=(()=>(class{}))();const go=new r.M("8.1.4");function yo(t){return null!=t&&"false"!==`${t}`}function bo(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function vo(t){return Array.isArray(t)?t:[t]}function _o(t){return null==t?"":"string"==typeof t?t:`${t}px`}function wo(t){return t instanceof r.k?t.nativeElement:t}let Co;try{Co="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Vm){Co=!1}let Eo,So=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(o.s)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Co)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(r.z,8))},token:t,providedIn:"root"}),t})(),To=(()=>(class{}))();const xo=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Io(){if(Eo)return Eo;if("object"!=typeof document||!document)return Eo=new Set(xo);let t=document.createElement("input");return Eo=new Set(xo.filter(e=>(t.setAttribute("type",e),t.type===e)))}let ko;function Ao(t){return function(){if(null==ko&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ko=!0}))}finally{ko=ko||!1}return ko}()?t:!!t.capture}const Oo=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let Do;function No(){if("object"!=typeof document||!document)return Oo.NORMAL;if(!Do){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Do=Oo.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Do=0===t.scrollLeft?Oo.NEGATED:Oo.INVERTED),t.parentNode.removeChild(t)}return Do}let Ro=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Vm){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Mo(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Mo(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Po(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(So))},token:t,providedIn:"root"}),t})();function Po(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Mo(t){if(!Po(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Lo{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.V)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Z(1)).subscribe(t)}}let Fo=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Lo(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(Ro),Object(r.Mb)(r.x),Object(r.Mb)(o.c))},token:t,providedIn:"root"}),t})();const Vo=650,jo=Ao({passive:!0,capture:!0});let qo=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Vo)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(a.a)(null);const n=wo(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new u.a};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),s=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",s,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",s,!0)},r.subject.asObservable()}stopMonitoring(t){const e=wo(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=wo(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,jo),document.addEventListener("mousedown",this._documentMousedownListener,jo),document.addEventListener("touchstart",this._documentTouchstartListener,jo),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,jo),document.removeEventListener("mousedown",this._documentMousedownListener,jo),document.removeEventListener("touchstart",this._documentTouchstartListener,jo),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(r.x),Object(r.Mb)(So))},token:t,providedIn:"root"}),t})();const Bo=new r.M("8.1.4"),Uo=new r.o("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let zo,Ho=(()=>(class{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Object(r.V)()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){Bo.full!==go.full&&console.warn("The Angular Material version ("+Bo.full+") does not match the Angular CDK version ("+go.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}))();function Qo(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=yo(t)}}}function Wo(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function Go(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=yo(t)}}}function Ko(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new u.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{zo="undefined"!=typeof Intl}catch(Vm){zo=!1}let $o=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();function Yo(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let Zo=(()=>(class{}))();const Xo=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class Jo{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Xo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const ta={enterDuration:450,exitDuration:400},ea=800,na=Ao({passive:!0});class ra{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ea;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===Xo.VISIBLE||t.config.terminateOnPointerUp&&t.state===Xo.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},ta,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${o-s}px`,u.style.top=`${a-s}px`,u.style.height=`${2*s}px`,u.style.width=`${2*s}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new Jo(this,u,n);return c.state=Xo.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=Xo.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},ta,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=Xo.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=Xo.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>{t.addEventListener(n,e,na)})}),this._triggerElement=t)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,na)})}}const ia=new r.o("mat-ripple-global-options");let sa=(()=>(class{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ra(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}))(),oa=(()=>(class{}))(),aa=(()=>(class{}))(),la=(()=>(class{}))();const ua=new r.o("mat-label-global-options");class ca{}class ha{}const da="*";function fa(t,e=null){return{type:2,steps:t,options:e}}function pa(t){return{type:6,styles:t,offset:null}}function ma(t){Promise.resolve(null).then(t)}class ga{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ma(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ya{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ma(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const ba="!";function va(){return"undefined"!=typeof process}function _a(t){switch(t.length){case 0:return new ga;case 1:return t[0];default:return new ya(t)}}function wa(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case ba:a=i[n];break;case da:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),u=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ca(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ea(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ea(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ea(n,"destroy",t)))}}function Ea(t,e,n){const r=n.totalTime,i=Sa(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Sa(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ta(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function xa(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ia=(t,e)=>!1,ka=(t,e)=>!1,Aa=(t,e,n)=>[];const Oa=va();(Oa||"undefined"!=typeof Element)&&(Ia=(t,e)=>t.contains(e),ka=(()=>{if(Oa||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ka}})(),Aa=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Da=null,Na=!1;function Ra(t){Da||(Da=("undefined"!=typeof document?document.body:null)||{},Na=!!Da.style&&"WebkitAppearance"in Da.style);let e=!0;return Da.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Da.style)&&Na&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Da.style),e}const Pa=ka,Ma=Ia,La=Aa;function Fa(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Va=(()=>(class{validateStyleProperty(t){return Ra(t)}matchesElement(t,e){return Pa(t,e)}containsElement(t,e){return Ma(t,e)}query(t,e,n){return La(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new ga(n,r)}}))(),ja=(()=>{class t{}return t.NOOP=new Va,t})();const qa=1e3,Ba="{{",Ua="ng-enter",za="ng-leave",Ha="ng-trigger",Qa=".ng-trigger",Wa="ng-animating",Ga=".ng-animating";function Ka(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$a(parseFloat(e[1]),e[2])}function $a(t,e){switch(e){case"s":return t*qa;default:return t}}function Ya(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=$a(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=$a(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Za(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Xa(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Za(t,n);return n}function Ja(t,e,n){return n?e+":"+n+";":""}function tl(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ja(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ja(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function el(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ul(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),va()&&tl(t))}function nl(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ul(e);t.style[n]=""}),va()&&tl(t))}function rl(t){return Array.isArray(t)?1==t.length?t[0]:fa(t):t}const il=new RegExp(`${Ba}\\s*(.+?)\\s*}}`,"g");function sl(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=il.exec(n);)e.push(r[1]);il.lastIndex=0}return e}function ol(t,e,n){const r=t.toString(),i=r.replace(il,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function al(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ll=/-+([a-z0-9])/g;function ul(t){return t.replace(ll,(...t)=>t[1].toUpperCase())}function cl(t,e){return 0===t||0===e}function hl(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=fl(t,e)})}}return e}function dl(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function fl(t,e){return window.getComputedStyle(t)[e]}const pl="*";function ml(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(bl(i,o)),"<"!=s[0]||i==pl&&o==pl||e.push(bl(o,i))})(t,n,e)):n.push(t),n}const gl=new Set(["true","1"]),yl=new Set(["false","0"]);function bl(t,e){const n=gl.has(t)||yl.has(t),r=gl.has(e)||yl.has(e);return(i,s)=>{let o=t==pl||t==i,a=e==pl||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?gl.has(t):yl.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?gl.has(e):yl.has(e)),o&&a}}const vl=":self",_l=new RegExp(`s*${vl}s*,?`,"g");function wl(t,e,n){return new El(t).build(e,n)}const Cl="";class El{constructor(t){this._driver=t}build(t,e){const n=new Sl(e);return this._resetContextStyleTimingState(n),dl(this,rl(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Cl,t.collectedStyles={},t.collectedStyles[Cl]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Tl(t)){const e=t;Object.keys(e).forEach(t=>{sl(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=al(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=dl(this,rl(t.animation),e);return{type:1,matchers:ml(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>dl(this,t,e)),options:xl(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=dl(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:xl(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Il(Ya(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Il(0,0,"");return t.dynamic=!0,t.strValue=r,t}return Il((n=n||Ya(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:pa({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=pa(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==da?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Tl(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(Ba)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(r,i,s){const o=e.options.params||{},a=sl(t[n]);a.length&&a.forEach(t=>{o.hasOwnProperty(t)||s.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Tl(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Tl(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:dl(this,rl(t.animation),e),options:xl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xl(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==vl);return e&&(t=t.replace(_l,"")),[t=t.replace(/@\*/g,Qa).replace(/@\w+/g,t=>Qa+"-"+t.substr(1)).replace(/:animating/g,Ga),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ta(e.collectedStyles,e.currentQuerySelector,{});const o=dl(this,rl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ya(t.timings,e.errors,!0);return{type:12,animation:dl(this,rl(t.animation),e),timings:n,options:null}}}class Sl{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Tl(t){return!Array.isArray(t)&&"object"==typeof t}function xl(t){var e;return t?(t=Za(t)).params&&(t.params=(e=t.params)?Za(e):null):t={},t}function Il(t,e,n){return{duration:t,delay:e,easing:n}}function kl(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Al{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ol=1,Dl=new RegExp(":enter","g"),Nl=new RegExp(":leave","g");function Rl(t,e,n,r,i,s={},o={},a,l,u=[]){return(new Pl).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class Pl{buildKeyframes(t,e,n,r,i,s,o,a,l,u=[]){l=l||new Al;const c=new Ll(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),dl(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[kl(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Ka(n.duration):null,s=null!=n.delay?Ka(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),dl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ml);const t=Ka(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>dl(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Ka(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),dl(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ya(e.params?ol(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Ka(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ml);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),dl(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;dl(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Ml={};class Ll{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ml,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Fl(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Ka(n.duration)),null!=n.delay&&(r.delay=Ka(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ol(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ll(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Ml,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Vl(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Dl,"."+this._enterClassName)).replace(Nl,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Fl{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Fl(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ol,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||da,this._currentKeyframe[t]=da}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=da}):Xa(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ol(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:da),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Xa(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==ba?t.add(n):r==da&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?al(t.values()):[],s=e.size?al(e.values()):[];if(n){const t=r[0],e=Za(t);t.offset=0,e.offset=1,r=[t,e]}return kl(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Vl extends Fl{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Xa(t[0],!1);a.offset=0,i.push(a);const l=Xa(t[0],!1);l.offset=jl(o),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let o=Xa(t[r],!1);o.offset=jl((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return kl(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function jl(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ql{}class Bl extends ql{normalizePropertyName(t,e){return ul(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Ul[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Ul=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zl(t,e,n,r,i,s,o,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const Hl={};class Ql{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||Hl,d=this.buildStyles(n,o&&o.params||Hl,c),f=a&&a.params||Hl,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign({},h,f)},_=u?[]:Rl(t,e,this.ast.animation,i,s,d,p,v,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return zl(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,c);_.forEach(t=>{const n=t.element,r=Ta(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ta(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=al(m.values());return zl(e,this._triggerName,n,r,b,d,p,_,C,g,y,w)}}class Wl{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Za(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ol(s,r,e)),n[t]=s})}}),n}}class Gl{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Wl(t.style,t.options&&t.options.params||{})}),Kl(this.states,"true","1"),Kl(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ql(t,e,this.states))}),this.fallbackTransition=new Ql(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Kl(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const $l=new Al;class Yl{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=wl(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=wa(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Rl(this._driver,e,i,Ua,za,{},{},n,$l,r)).forEach(t=>{const e=Ta(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,da)})});const a=_a(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Sa(e,"","","");return Ca(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Zl="ng-animate-queued",Xl=".ng-animate-queued",Jl="ng-animate-disabled",tu=".ng-animate-disabled",eu="ng-star-inserted",nu=".ng-star-inserted",ru=[],iu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},su={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ou="__ng_removed";class au{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=Za(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const lu="void",uu=new au(lu);class cu{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bu(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ta(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ta(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(bu(t,Ha),bu(t,Ha+"-"+e),a[e]=uu),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new du(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(bu(t,Ha),bu(t,Ha+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new au(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=uu),l.value!==lu&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{nl(t,n),el(t,r)})}return}const u=Ta(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(bu(t,Zl),s.onStart(()=>{vu(t,Zl)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,Qa,!0).forEach(t=>{if(t[ou])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,lu,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&_a(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||uu,o=new au(lu),a=new du(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){bu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Sa(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ca(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class hu{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new cu(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(fu(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!fu(e))return;const i=e[ou];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bu(t,Jl)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vu(t,Jl))}removeNode(t,e,n,r){if(fu(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[ou]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return fu(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Qa,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ga,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _a(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ou];if(e&&e.setForRemoval){if(t[ou]=iu,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,tu)&&this.markElementAsDisabled(t,!1),this.driver.query(t,tu,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)bu(this.collectedEnterElements[n],eu);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?_a(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Al,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,Xl,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=gu(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Ua+p++;f.set(e,n),t.forEach(t=>bu(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t[ou];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,nu,!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=gu(h,Array.from(g));v.forEach((t,e)=>{const n=za+p++;b.set(e,n),t.forEach(t=>bu(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>vu(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>vu(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[ou];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(!p.errors||!p.errors.length)return u?(e.onStart(()=>nl(i,p.fromStyles)),e.onDestroy(()=>el(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>nl(i,p.fromStyles)),e.onDestroy(()=>el(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ta(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ta(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>wu(t,a,l)),T=new Map;mu(T,this.driver,y,l,da).forEach(t=>{wu(t,a,l)&&S.push(t)});const x=new Map;d.forEach((t,e)=>{mu(x,this.driver,new Set(t),a,ba)}),S.forEach(t=>{const e=T.get(t),n=x.get(t);T.set(t,Object.assign({},e,n))});const I=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>el(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,x,T);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=_a(e)),r.push(s)}}else nl(e,o.fromStyles),s.onDestroy(()=>el(e,o.toStyles)),k.push(s),u.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=_a(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t[ou];if(vu(t,za),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Ga,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?_u(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e[ou];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==lu;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=Ta(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}nl(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[ou];if(d&&d.removedBeforeQueried)return new ga(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof ya?t(i.players,n):n.push(i)}}((n.get(h)||ru).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=wa(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new du(t,o,h);e.setRealPlayer(b),l.push(e)}return b});l.forEach(t=>{Ta(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>bu(t,Wa));const d=_a(h);return d.onDestroy(()=>{u.forEach(t=>vu(t,Wa)),el(a,e.toStyles)}),c.forEach(t=>{Ta(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ga(t.duration,t.delay)}}class du{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ga,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ca(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fu(t){return t&&1===t.nodeType}function pu(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function mu(t,e,n,r,i){const s=[];n.forEach(t=>s.push(pu(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[ou]=su,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>pu(t,s[a++])),o}function gu(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}const yu="$$classes";function bu(t,e){if(t.classList)t.classList.add(e);else{let n=t[yu];n||(n=t[yu]={}),n[e]=!0}}function vu(t,e){if(t.classList)t.classList.remove(e);else{let n=t[yu];n&&delete n[e]}}function _u(t,e,n){_a(n).onDone(()=>t.processLeaveNode(e))}function wu(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Cu{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new hu(t,e,n),this._timelineEngine=new Yl(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=wl(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Gl(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=xa(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=xa(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Eu(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Tu(e[0]),e.length>1&&(r=Tu(e[e.length-1]))):e&&(n=Tu(e)),n||r?new Su(t,n,r):null}let Su=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&el(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(el(this._element,this._initialStyles),this._endStyles&&(el(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),el(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Tu(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];xu(i)&&((e=e||{})[i]=t[i])}return e}function xu(t){return"display"===t||"position"===t}const Iu=3,ku="animation",Au="animationend",Ou=1e3;class Du{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Fu(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Lu(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Mu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Nu(this._element,this._name,"paused")}resume(){Nu(this._element,this._name,"running")}setPosition(t){const e=Ru(this._element,this._name);this._position=t*this._duration,Lu(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(Iu))*Ou;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Mu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Fu(t,"").split(","),r=Pu(n,e);r>=0&&(n.splice(r,1),Lu(t,"",n.join(",")))}(this._element,this._name))}}function Nu(t,e,n){Lu(t,"PlayState",n,Ru(t,e))}function Ru(t,e){const n=Fu(t,"");return n.indexOf(",")>0?Pu(n.split(","),e):Pu([n],e)}function Pu(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Mu(t,e,n){n?t.removeEventListener(Au,e):t.addEventListener(Au,e)}function Lu(t,e,n,r){const i=ku+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Fu(t,e){return t.style[ku+e]}const Vu="forwards",ju="linear";class qu{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||ju,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Du(this.element,this.animationName,this._duration,this._delay,this.easing,Vu,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:fl(this.element,n))})}this.currentSnapshot=t}}class Bu extends ga{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fa(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const Uu="gen_css_kf_",zu=" ";class Hu{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ra(t)}matchesElement(t,e){return Pa(t,e)}containsElement(t,e){return Ma(t,e)}query(t,e,n){return La(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fa(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=zu;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=zu,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof qu),l={};cl(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=hl(t,e,l));if(0==n)return new Bu(t,u);const c=`${Uu}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Eu(t,e),f=new qu(t,e,c,n,r,i,u,d);return f.onDestroy(()=>(function(t){h.parentNode.removeChild(h)})()),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Qu{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:fl(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Wu{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Gu().toString()),this._cssKeyframesDriver=new Hu}validateStyleProperty(t){return Ra(t)}matchesElement(t,e){return Pa(t,e)}containsElement(t,e){return Ma(t,e)}query(t,e,n){return La(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=s.filter(t=>t instanceof Qu);cl(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Eu(t,e=hl(t,e=e.map(t=>Xa(t,!1)),l));return new Qu(t,e,a,c)}}function Gu(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Ku=(()=>(class extends ca{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.O.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?fa(t):t;return Zu(this._renderer,null,e,"register",[n]),new $u(e,this._renderer)}}))();class $u extends ha{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Yu(this._id,t,e||{},this._renderer)}}class Yu{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Zu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Zu(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Xu="@",Ju="@.disabled";let tc=(()=>(class{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ec("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new nc(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}))();class ec{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Xu&&e==Ju?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class nc extends ec{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Xu?"."==e.charAt(1)&&e==Ju?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Xu){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Xu&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let rc=(()=>(class extends Cu{constructor(t,e,n){super(t.body,e,n)}}))();function ic(){return"function"==typeof Gu()?new Wu:new Hu}function sc(){return new Bl}function oc(t,e,n){return new tc(t,e,n)}const ac=new r.o("AnimationModuleType");let lc=(()=>(class{}))();var uc=r.ob({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function cc(t){return r.Ib(2,[r.Bb(null,0),r.Bb(null,1)],null,null)}var hc=r.ob({encapsulation:2,styles:[],data:{}});function dc(t){return r.Ib(2,[r.Bb(null,0),(t()(),r.qb(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),r.Bb(null,1),r.Bb(null,2)],null,null)}const fc=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class pc{constructor(t){this._elementRef=t}}const mc=Wo(Qo(Go(pc)));let gc=(()=>(class extends mc{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of fc)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}))(),yc=(()=>(class{}))();var bc=r.ob({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function vc(t){return r.Ib(2,[r.Fb(671088640,1,{ripple:0}),(t()(),r.qb(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),r.Bb(null,0),(t()(),r.qb(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),r.pb(4,212992,[[1,4]],0,sa,[r.k,r.x,So,[2,ia],[2,ac]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),r.qb(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,r.Cb(e,4).unbounded)})}class _c{constructor(t){this.dataService=t}ngOnInit(){this.dataService.getArticles().subscribe(t=>{this.articles=[],t.forEach(t=>{this.articles.push({id:t.payload.doc.id,data:t.payload.doc.data()})})})}}n("CqG3");var wc=n("Xr7G");let Cc=(()=>{class t{constructor(t){this.db=t}createArticle(t){return this.db.collection("articles").add(t)}getArticle(t){return this.db.collection("articles").doc(t).valueChanges()}getArticles(){return this.db.collection("articles").snapshotChanges()}updateArticle(t,e){return this.db.collection("articles").doc(t).set(e)}}return t.ngInjectableDef=r.Lb({factory:function(){return new t(r.Mb(wc.a))},token:t,providedIn:"root"}),t})();var Ec=r.ob({encapsulation:0,styles:[[".article__card[_ngcontent-%COMP%]{margin:10px 0}.article__card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin:5px 0}.article__card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:2rem}.article__card[_ngcontent-%COMP%]   .article__card__image[_ngcontent-%COMP%]{padding:10px}"]],data:{animation:[{type:7,name:"photosAnimation",definitions:[{type:1,expr:"* => *",animation:[{type:11,selector:"mat-card",animation:{type:6,styles:{transform:"translateX(-100%)"},offset:null},options:null},{type:11,selector:"mat-card",animation:{type:12,timings:"200ms",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(0)"},offset:null},timings:"600ms"}]},options:null}],options:null}],options:{}}]}});function Sc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,24,"mat-card",[["class","article__card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,cc,uc)),r.pb(1,49152,null,0,uo,[[2,ac]],null,null),(t()(),r.qb(2,0,null,0,5,"mat-card-header",[["class","mat-card-header"],["fxLayoutAlign","center"]],null,null,null,dc,hc)),r.pb(3,49152,null,0,co,[],null,null),r.pb(4,671744,null,0,Gs,[r.k,vs,[2,Hs],Es],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),r.qb(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r.pb(6,16384,null,0,ao,[],null,null),(t()(),r.Hb(7,null,["",""])),(t()(),r.qb(8,0,null,0,16,"mat-card-content",[["class","mat-card-content"],["fxLayout.gt-xs","row"],["fxLayout.xs","column"],["fxLayoutAlign","space-between"]],null,null,null,null,null)),r.pb(9,16384,null,0,oo,[],null,null),r.pb(10,671744,null,0,Rs,[r.k,vs,[2,Os],Es],{"fxLayout.xs":[0,"fxLayout.xs"],"fxLayout.gt-xs":[1,"fxLayout.gt-xs"]},null),r.pb(11,671744,null,0,Gs,[r.k,vs,[2,Hs],Es],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),r.qb(12,0,null,null,3,"div",[["class","article__card__image"],["fxFlex","40%"]],null,null,null,null,null)),r.pb(13,671744,null,0,js,[r.k,vs,Qi,Ls,Es],{fxFlex:[0,"fxFlex"]},null),(t()(),r.qb(14,0,null,null,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),r.pb(15,16384,null,0,lo,[],null,null),(t()(),r.qb(16,0,null,null,8,"div",[["class","article__card__text"],["fxFlex","50%"]],null,null,null,null,null)),r.pb(17,671744,null,0,js,[r.k,vs,Qi,Ls,Es],{fxFlex:[0,"fxFlex"]},null),(t()(),r.qb(18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(19,null,["",""])),(t()(),r.qb(20,0,null,null,4,"button",[["color","primary"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,21).onClick()&&i),i},vc,bc)),r.pb(21,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Db(22,2),r.pb(23,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.Hb(-1,0,["Read more..."]))],function(t,e){t(e,4,0,"center"),t(e,10,0,"column","row"),t(e,11,0,"space-between"),t(e,13,0,"40%"),t(e,17,0,"50%");var n=t(e,22,0,"/articles",e.context.$implicit.id);t(e,21,0,n),t(e,23,0,"primary")},function(t,e){t(e,0,0,"NoopAnimations"===r.Cb(e,1)._animationMode),t(e,7,0,e.context.$implicit.data.title),t(e,14,0,e.context.$implicit.data.image,r.ub(1,"",e.context.$implicit.data.title,"")),t(e,19,0,e.context.$implicit.data.content),t(e,20,0,r.Cb(e,23).disabled||null,"NoopAnimations"===r.Cb(e,23)._animationMode)})}function Tc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,2,"div",[["class","container"]],[[24,"@photosAnimation",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Sc)),r.pb(2,278528,null,0,o.i,[r.N,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.articles)},function(t,e){t(e,0,0,e.component.articles.length)})}function xc(t){return r.Ib(0,[(t()(),r.gb(16777216,null,null,1,null,Tc)),r.pb(1,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.articles)},null)}class Ic{constructor(t){this.seo=t}ngOnInit(){this.seo.generateTags({title:"NG CMS",content:"My SEO friendly Angular Component"})}}let kc=(()=>{class t{constructor(t,e){this.meta=t,this.titleService=e}generateTags(t){t=Object.assign({title:"Angular SSR",content:"My SEO friendly Angular Component",image:"https://angularfirebase.com/images/logo.png",slug:""},t),this.titleService.setTitle(t.title),this.meta.addTag({name:"description",content:"CMS made in Angular by Nicol\xe1s Hardmeier"}),this.meta.addTag({name:"author",content:"talkingdotnet"}),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.meta.updateTag({name:"twitter:title",content:"hey"}),this.meta.updateTag({name:"twitter:description",content:"hey"}),this.meta.updateTag({property:"og:type",content:"article"}),this.meta.updateTag({property:"og:title",content:"NG CMS"}),this.meta.updateTag({property:"og:description",content:"CMS made in Angular by Nicol\xe1s Hardmeier"}),this.meta.updateTag({property:"og:image",content:"jol"})}}return t.ngInjectableDef=r.Lb({factory:function(){return new t(r.Mb(Oe),r.Mb(Ne))},token:t,providedIn:"root"}),t})();var Ac=r.ob({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:600}],options:null},{type:1,expr:"* => void",animation:[{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:600}],options:null}],options:{}}]}});function Oc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,4,"div",[],[[24,"@fadeIn",0]],null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"header",[],null,null,null,so,io)),r.pb(2,114688,null,0,ro,[],null,null),(t()(),r.qb(3,0,null,null,1,"articles-list",[],null,null,null,xc,Ec)),r.pb(4,114688,null,0,_c,[Cc],null,null)],function(t,e){t(e,2,0),t(e,4,0)},function(t,e){t(e,0,0,!0)})}function Dc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-home",[],null,null,null,Oc,Ac)),r.pb(1,114688,null,0,Ic,[kc],null,null)],function(t,e){t(e,1,0)},null)}var Nc=r.mb("app-home",Ic,Dc,{},{},[]);class Rc{constructor(t,e,n){this.dataService=t,this.seo=e,this.route=n}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");this.dataService.getArticle(t).subscribe(t=>this.article=t),this.seo.generateTags({title:"NG CMS",content:"My SEO friendly Angular Component"})}}var Pc=r.ob({encapsulation:0,styles:[[".article__card[_ngcontent-%COMP%]{margin:10px 0}.article__card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin:5px 0}.article__card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:2rem}.article__card[_ngcontent-%COMP%]   .article__card__image[_ngcontent-%COMP%]{padding:10px}"]],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:600}],options:null},{type:1,expr:"* => void",animation:[{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:600}],options:null}],options:{}}]}});function Mc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(1,null,["DATE: ",""]))],null,function(t,e){t(e,1,0,e.component.article.date)})}function Lc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(1,null,["TAGS: ",""]))],null,function(t,e){t(e,1,0,e.component.article.tags)})}function Fc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,28,"mat-card",[["class","article__card mat-card"]],[[24,"@fadeIn",0],[2,"_mat-animation-noopable",null]],null,null,cc,uc)),r.pb(2,49152,null,0,uo,[[2,ac]],null,null),(t()(),r.qb(3,0,null,0,5,"mat-card-header",[["class","mat-card-header"],["fxLayoutAlign","center"]],null,null,null,dc,hc)),r.pb(4,49152,null,0,co,[],null,null),r.pb(5,671744,null,0,Gs,[r.k,vs,[2,Hs],Es],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),r.qb(6,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r.pb(7,16384,null,0,ao,[],null,null),(t()(),r.Hb(8,null,["",""])),(t()(),r.qb(9,0,null,0,20,"mat-card-content",[["class","mat-card-content"],["fxLayout.gt-xs","row"],["fxLayout.xs","column"],["fxLayoutAlign","space-between"]],null,null,null,null,null)),r.pb(10,16384,null,0,oo,[],null,null),r.pb(11,671744,null,0,Rs,[r.k,vs,[2,Os],Es],{"fxLayout.xs":[0,"fxLayout.xs"],"fxLayout.gt-xs":[1,"fxLayout.gt-xs"]},null),r.pb(12,671744,null,0,Gs,[r.k,vs,[2,Hs],Es],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),r.qb(13,0,null,null,3,"div",[["class","article__card__image"],["fxFlex","40%"]],null,null,null,null,null)),r.pb(14,671744,null,0,js,[r.k,vs,Qi,Ls,Es],{fxFlex:[0,"fxFlex"]},null),(t()(),r.qb(15,0,null,null,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),r.pb(16,16384,null,0,lo,[],null,null),(t()(),r.qb(17,0,null,null,12,"div",[["class","article__card__text"],["fxFlex","50%"]],null,null,null,null,null)),r.pb(18,671744,null,0,js,[r.k,vs,Qi,Ls,Es],{fxFlex:[0,"fxFlex"]},null),(t()(),r.qb(19,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(20,null,["",""])),(t()(),r.gb(16777216,null,null,1,null,Mc)),r.pb(22,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Lc)),r.pb(24,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(25,0,null,null,4,"div",[["class","backtoArticles"]],null,null,null,null,null)),(t()(),r.qb(26,0,null,null,3,"button",[["color","primary"],["mat-stroked-button",""],["routerLink","/"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,27).onClick()&&i),i},vc,bc)),r.pb(27,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(28,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.Hb(-1,0,["Back to Articles"]))],function(t,e){var n=e.component;t(e,5,0,"center"),t(e,11,0,"column","row"),t(e,12,0,"space-between"),t(e,14,0,"40%"),t(e,18,0,"50%"),t(e,22,0,n.article.date),t(e,24,0,n.article.tags),t(e,27,0,"/"),t(e,28,0,"primary")},function(t,e){var n=e.component;t(e,1,0,!0,"NoopAnimations"===r.Cb(e,2)._animationMode),t(e,8,0,n.article.title),t(e,15,0,n.article.image,r.ub(1,"",n.article.title,"")),t(e,20,0,n.article.content),t(e,26,0,r.Cb(e,28).disabled||null,"NoopAnimations"===r.Cb(e,28)._animationMode)})}function Vc(t){return r.Ib(0,[(t()(),r.gb(16777216,null,null,1,null,Fc)),r.pb(1,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.article)},null)}function jc(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-article-detail",[],null,null,null,Vc,Pc)),r.pb(1,114688,null,0,Rc,[Cc,kc,Un],null,null)],function(t,e){t(e,1,0)},null)}var qc=r.mb("app-article-detail",Rc,jc,{},{},[]);class Bc{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Uc(t,this.compare,this.keySelector))}}class Uc extends A.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class zc{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Hc(t,this.durationSelector))}}class Hc extends y.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:r}=this;n=r(t)}catch(e){return this.destination.error(e)}const r=Object(b.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Qc(t){return!Object(g.a)(t)&&t-parseFloat(t)+1>=0}function Wc(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Gc(t,e=Ri){return n=()=>(function(t=0,e,n){let r=-1;return Qc(e)?r=Number(e)<1?1:Number(e):Object(m.a)(e)&&(n=e),Object(m.a)(n)||(n=Ri),new d.a(e=>{const i=Qc(t)?t:+t-n.now();return n.schedule(Wc,i,{index:0,period:r,subscriber:e})})})(t,e),function(t){return t.lift(new zc(n))};var n}n("qgXg"),n("Ylt2");const Kc=20;let $c=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new u.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Kc){return this._platform.isBrowser?new d.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Gc(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(a.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(k.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ni(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(r.x),Object(r.Mb)(So))},token:t,providedIn:"root"}),t})(),Yc=(()=>(class{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new u.a,this._elementScrolled=new d.a(t=>this.ngZone.runOutsideAngular(()=>Ni(this.elementRef.nativeElement,"scroll").pipe(Vi(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&No()!=Oo.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),No()==Oo.INVERTED?t.left=t.right:No()==Oo.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&No()==Oo.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&No()==Oo.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}))(),Zc=(()=>(class{}))();const Xc=20;let Jc=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Object(Oi.a)(Ni(window,"resize"),Ni(window,"orientationchange")):Object(a.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=Xc){return t>0?this._change.pipe(Gc(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(So),Object(r.Mb)(r.x))},token:t,providedIn:"root"}),t})();function th(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const eh=new r.o("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}});let nh=(()=>(class extends Yc{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}))(),rh=(()=>(class{constructor(t,e,n,i,s,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=s,this._doc=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new u.a,this._animationEnd=new u.a,this._animationState="void",this.openedChange=new r.m(!0),this._destroyed=new u.a,this.onPositionChanged=new r.m,this._modeChanged=new u.a,this._opened=!1,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Ni(this._elementRef.nativeElement,"keydown").pipe(Object(k.a)(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)),Vi(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(function(t,e){return e=>e.lift(new Bc(t,void 0))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=yo(t)}get autoFocus(){return this._autoFocus}set autoFocus(t){this._autoFocus=yo(t)}get _openedStream(){return this.openedChange.pipe(Object(k.a)(t=>t),Object(T.a)(()=>{}))}get openedStart(){return this._animationStarted.pipe(Object(k.a)(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),Object(T.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(k.a)(t=>!t),Object(T.a)(()=>{}))}get closedStart(){return this._animationStarted.pipe(Object(k.a)(t=>t.fromState!==t.toState&&"void"===t.toState),Object(T.a)(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}get opened(){return this._opened}set opened(t){this.toggle(yo(t))}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Z(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}))(),ih=(()=>(class{constructor(t,e,n,i,s,o=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=a,this.backdropClick=new r.m,this._destroyed=new u.a,this._doCheckSubject=new u.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new u.a,t&&t.change.pipe(Vi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Vi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=yo(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:yo(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._drawers.changes.pipe(lt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Pi(10),Vi(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}e=e||null,(t=t||null)===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Object(k.a)(t=>t.fromState!==t.toState),Vi(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Vi(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Vi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Z(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Vi(Object(Oi.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&th("end"),this._end=t):(null!=this._start&&th("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}))(),sh=(()=>(class extends nh{constructor(t,e,n,r,i){super(t,e,n,r,i)}}))(),oh=(()=>(class extends rh{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=yo(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=bo(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=bo(t)}}))(),ah=(()=>(class extends ih{}))(),lh=(()=>(class{}))();var uh=r.ob({encapsulation:2,styles:[],data:{}});function ch(t){return r.Ib(2,[r.Bb(null,0)],null,null)}var hh=r.ob({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function dh(t){return r.Ib(2,[(t()(),r.qb(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),r.Bb(null,0)],null,null)}var fh=r.ob({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function ph(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._onBackdropClicked()&&r),r},null,null))],null,function(t,e){t(e,0,0,e.component._isShowingBackdrop())})}function mh(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,ch,uh)),r.pb(1,212992,null,0,Yc,[r.k,$c,r.x,[2,po]],null,null),r.pb(2,1294336,null,0,sh,[r.h,ah,r.k,$c,r.x],null,null),r.Bb(0,2)],function(t,e){t(e,1,0),t(e,2,0)},function(t,e){t(e,0,0,r.Cb(e,2)._container._contentMargins.left,r.Cb(e,2)._container._contentMargins.right)})}function gh(t){return r.Ib(2,[r.Fb(671088640,1,{_userContent:0}),(t()(),r.gb(16777216,null,null,1,null,ph)),r.pb(2,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),r.Bb(null,0),r.Bb(null,1),(t()(),r.gb(16777216,null,null,1,null,mh)),r.pb(6,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)},null)}function yh(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(g.a)(t[0])&&(t=t[0]),0===t.length?E.a:e?yh(t).pipe(Object(T.a)(t=>e(...t))):new d.a(e=>new bh(e,t))}class bh extends y.a{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=e[r],n=Object(b.a)(this,t,null,r);n&&this.add(n)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const vh=new r.o("NgValueAccessor");let _h=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))();const wh=new r.o("CompositionEventMode");let Ch=(()=>(class{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=yt()?yt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}))();class Eh{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Sh extends Eh{get formDirective(){return null}get path(){return null}}function Th(){throw new Error("unimplemented")}class xh extends Eh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Th()}get asyncValidator(){return Th()}}class Ih{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let kh=(()=>(class extends Ih{constructor(t){super(t)}}))(),Ah=(()=>(class extends Ih{constructor(t){super(t)}}))();function Oh(t){return null==t||0===t.length}const Dh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Nh{static min(t){return e=>{if(Oh(e.value)||Oh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Oh(e.value)||Oh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Oh(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Oh(t.value)?null:Dh.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Oh(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Nh.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Oh(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Rh);return 0==e.length?null:function(t){return Mh(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(Rh);return 0==e.length?null:function(t){return yh(function(t,n){return e.map(e=>e(t))}(t).map(Ph)).pipe(Object(T.a)(Mh))}}}function Rh(t){return null!=t}function Ph(t){const e=Object(r.xb)(t)?Object(l.a)(t):t;if(!Object(r.wb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Mh(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Lh(t){return t.validate?e=>t.validate(e):t}function Fh(t){return t.validate?e=>t.validate(e):t}let Vh=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),jh=(()=>(class{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}))(),qh=(()=>(class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(xh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}))();const Bh={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Uh{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Bh.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Bh.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Bh.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Bh.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Bh.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Bh.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function zh(t,e){return[...e.path,t]}function Hh(t,e){t||Kh(e,"Cannot find control with"),e.valueAccessor||Kh(e,"No value accessor for form control with"),t.validator=Nh.compose([t.validator,e.validator]),t.asyncValidator=Nh.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Qh(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Qh(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Qh(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Wh(t,e){null==t&&Kh(e,"Cannot find control with"),t.validator=Nh.compose([t.validator,e.validator]),t.asyncValidator=Nh.composeAsync([t.asyncValidator,e.asyncValidator])}function Gh(t){return Kh(t,"There is no FormControl instance attached to form control element with")}function Kh(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function $h(t){return null!=t?Nh.compose(t.map(Lh)):null}function Yh(t){return null!=t?Nh.composeAsync(t.map(Fh)):null}const Zh=[_h,(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),Vh,(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.yb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}))(),(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.yb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}))(),qh];function Xh(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Jh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const td="VALID",ed="INVALID",nd="PENDING",rd="DISABLED";function id(t){const e=od(t)?t.validators:t;return Array.isArray(e)?$h(e):e||null}function sd(t,e){const n=od(e)?e.asyncValidators:t;return Array.isArray(n)?Yh(n):n||null}function od(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ad{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===td}get invalid(){return this.status===ed}get pending(){return this.status==nd}get disabled(){return this.status===rd}get enabled(){return this.status!==rd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=id(t)}setAsyncValidators(t){this.asyncValidator=sd(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rd,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=td,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==td&&this.status!==nd||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rd:td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nd;const e=Ph(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof ud?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof cd&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.m,this.statusChanges=new r.m}_calculateStatus(){return this._allControlsDisabled()?rd:this.errors?ed:this._anyControlsHaveStatus(nd)?nd:this._anyControlsHaveStatus(ed)?ed:td}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){od(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ld extends ad{constructor(t=null,e,n){super(id(e),sd(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ud extends ad{constructor(t,e,n){super(id(e),sd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ld?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class cd extends ad{constructor(t,e,n){super(id(e),sd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ld?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const hd=(()=>Promise.resolve(null))();let dd=(()=>(class extends Sh{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.m,this.form=new ud({},$h(t),Yh(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){hd.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Hh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){hd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Jh(this._directives,t)})}addFormGroup(t){hd.then(()=>{const e=this._findContainer(t.path),n=new ud({});Wh(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){hd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){hd.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Xh(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}))();const fd=new r.o("NgFormSelectorWarning");class pd extends Sh{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zh(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return $h(this._validators)}get asyncValidator(){return Yh(this._asyncValidators)}_checkParentType(){}}let md=(()=>(class{}))();const gd=new r.o("NgModelWithFormControlWarning");let yd=(()=>(class extends Sh{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.m}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Hh(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Jh(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Wh(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Wh(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Xh(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Gh(e)),e.valueAccessor.registerOnTouched(()=>Gh(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Hh(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=$h(this._validators);this.form.validator=Nh.compose([this.form.validator,t]);const e=Yh(this._asyncValidators);this.form.asyncValidator=Nh.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Uh.missingFormException()}}))(),bd=(()=>(class extends pd{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){_d(this._parent)&&Uh.groupParentException()}}))(),vd=(()=>(class extends Sh{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zh(this.name,this._parent)}get validator(){return $h(this._validators)}get asyncValidator(){return Yh(this._asyncValidators)}_checkParentType(){_d(this._parent)&&Uh.arrayParentException()}}))();function _d(t){return!(t instanceof bd||t instanceof yd||t instanceof vd)}let wd=(()=>{class t extends xh{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.m,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Kh(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===Ch?n=e:function(t){return Zh.some(e=>t.constructor===e)}(e)?(r&&Kh(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Kh(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Kh(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){Uh.disabledAttrWarning()}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.yb)(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,i=this._ngModelWarningConfig,Object(r.V)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Uh.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return zh(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return $h(this._rawValidators)}get asyncValidator(){return Yh(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof bd)&&this._parent instanceof pd?Uh.ngModelGroupException():this._parent instanceof bd||this._parent instanceof yd||this._parent instanceof vd||Uh.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})(),Cd=(()=>(class{}))(),Ed=(()=>(class{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ud(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new ld(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new cd(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ld||t instanceof ud||t instanceof cd?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}))(),Sd=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:fd,useValue:e.warnOnDeprecatedNgFormSelector}]}}}return t})(),Td=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:gd,useValue:e.warnOnNgModelWithFormControl}]}}}return t})();class xd{}const Id=Go(xd);class kd{}const Ad=Go(kd);let Od=(()=>(class extends Id{constructor(){super(...arguments),this._stateChanges=new u.a}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}))(),Dd=(()=>(class extends Id{constructor(t){super(),this._elementRef=t,this._stateChanges=new u.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}))(),Nd=(()=>(class extends Ad{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new u.a,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Vi(this._destroyed)).subscribe(()=>{e.markForCheck()})}ngAfterContentInit(){var t,e;e=this._element,(t=this._lines).changes.pipe(lt(t)).subscribe(({length:t})=>{Yo(e,"mat-2-line",!1),Yo(e,"mat-3-line",!1),Yo(e,"mat-multi-line",!1),2===t||3===t?Yo(e,`mat-${t}-line`,!0):t>3&&Yo(e,"mat-multi-line",!0)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}))(),Rd=(()=>(class{}))(),Pd=(()=>(class{}))();var Md=r.ob({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function Ld(t){return r.Ib(2,[r.Bb(null,0)],null,null)}var Fd=r.ob({encapsulation:2,styles:[],data:{}});function Vd(t){return r.Ib(2,[(t()(),r.qb(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),r.pb(2,212992,null,0,sa,[r.k,r.x,So,[2,ia],[2,ac]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),r.Bb(null,0),(t()(),r.qb(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),r.Bb(null,1),r.Bb(null,2)],function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())},function(t,e){t(e,1,0,r.Cb(e,2).unbounded)})}class jd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof jd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new jd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof jd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qd{encodeKey(t){return Bd(t)}encodeValue(t){return Bd(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Bd(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ud{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new Ud({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function zd(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Hd(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Qd(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Wd{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new jd),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ud,this.urlWithParams=e}serializeBody(){return null===this.body?null:zd(this.body)||Hd(this.body)||Qd(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ud?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Qd(this.body)?null:Hd(this.body)?this.body.type||null:zd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ud?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Wd(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Gd=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Kd{constructor(t,e=200,n="OK"){this.headers=t.headers||new jd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $d extends Kd{constructor(t={}){super(t),this.type=Gd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $d({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Yd(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Zd=(()=>(class{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Wd)r=t;else{let i=void 0;i=n.headers instanceof jd?n.headers:new jd(n.headers);let s=void 0;n.params&&(s=n.params instanceof Ud?n.params:new Ud({fromObject:n.params})),r=new Wd(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(a.a)(r).pipe(ct(t=>this.handler.handle(t)));if(t instanceof Wd||"events"===n.observe)return i;const s=i.pipe(Object(k.a)(t=>t instanceof $d));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(T.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(T.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(T.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(T.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ud).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Yd(n,e))}post(t,e,n={}){return this.request("POST",t,Yd(n,e))}put(t,e,n={}){return this.request("PUT",t,Yd(n,e))}}))();var Xd=n("w1tV");function Jd(t){return Error(`Unable to find icon with the name "${t}"`)}function tf(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function ef(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class nf{constructor(t){t.nodeName?this.svgElement=t:this.url=t}}let rf=(()=>{class t{constructor(t,e,n){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e){return this.addSvgIconInNamespace("",t,e)}addSvgIconLiteral(t,e){return this.addSvgIconLiteralInNamespace("",t,e)}addSvgIconInNamespace(t,e,n){return this._addSvgIconConfig(t,e,new nf(n))}addSvgIconLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.G.HTML,n);if(!i)throw ef(n);const s=this._createSvgElementForSingleIcon(i);return this._addSvgIconConfig(t,e,new nf(s))}addSvgIconSet(t){return this.addSvgIconSetInNamespace("",t)}addSvgIconSetLiteral(t){return this.addSvgIconSetLiteralInNamespace("",t)}addSvgIconSetInNamespace(t,e){return this._addSvgIconSetConfig(t,new nf(e))}addSvgIconSetLiteralInNamespace(t,e){const n=this._sanitizer.sanitize(r.G.HTML,e);if(!n)throw ef(e);const i=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new nf(i))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.G.RESOURCE_URL,t);if(!e)throw tf(t);const n=this._cachedIconsByUrl.get(e);return n?Object(a.a)(sf(n)):this._loadSvgIconFromConfig(new nf(t)).pipe(F(t=>this._cachedIconsByUrl.set(e,t)),Object(T.a)(t=>sf(t)))}getNamedSvgIcon(t,e=""){const n=of(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(s=Jd(n),new d.a(t=>t.error(s)));var s}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Object(a.a)(sf(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(F(e=>t.svgElement=e),Object(T.a)(t=>sf(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(a.a)(n):yh(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(K(e=>{const n=this._sanitizer.sanitize(r.G.RESOURCE_URL,t.url);return console.error(`Loading icon set URL: ${n} failed: ${e.message}`),Object(a.a)(null)})))).pipe(Object(T.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Jd(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(Object(T.a)(t=>this._createSvgElementForSingleIcon(t)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Object(a.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(T.a)(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t){const e=this._svgElementFromString(t);return this._setSvgAttributes(e),e}_extractSvgIconFromSet(t,e){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const r=n.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r));const i=this._svgElementFromString("<svg></svg>");return i.appendChild(r),this._setSvgAttributes(i)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let e=this._svgElementFromString("<svg></svg>");for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(r.G.RESOURCE_URL,t);if(!e)throw tf(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(ft(()=>this._inProgressUrlFetches.delete(e)),Object(Xd.a)());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(of(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(Zd,8),Object(r.Mb)(ye),Object(r.Mb)(o.c,8))},token:t,providedIn:"root"}),t})();function sf(t){return t.cloneNode(!0)}function of(t,e){return t+":"+e}class af{constructor(t){this._elementRef=t}}const lf=Wo(af),uf=new r.o("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.U)(o.c),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),cf=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hf=cf.map(t=>`[${t}]`).join(", "),df=/^url\(['"]?#(.*?)['"]?\)$/;let ff=(()=>(class extends lf{constructor(t,e,n,r){super(t),this._iconRegistry=e,this._location=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=yo(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Z(1)).subscribe(t=>this._setSvgElement(t),t=>console.log(`Error retrieving icon: ${t.message}`))}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(hf),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)cf.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(df):null;if(o){let e=n.get(i);e||n.set(i,e=[]),e.push({name:t,value:o[1]})}})}}))(),pf=(()=>(class{}))();var mf=r.ob({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function gf(t){return r.Ib(2,[r.Bb(null,0)],null,null)}class yf{constructor(t){this._elementRef=t}}const bf=Wo(yf);let vf=(()=>(class extends bf{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){Object(r.V)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}))(),_f=(()=>(class{}))();var wf=r.ob({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function Cf(t){return r.Ib(2,[r.Bb(null,0),r.Bb(null,1)],null,null)}class Ef{constructor(){}ngOnInit(){}}var Sf=r.ob({encapsulation:0,styles:[[".backoffice__container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#eaf2f6;color:#03436c}.backoffice__sidenav[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.mat-drawer-container[_ngcontent-%COMP%]{height:100%!important}.sidemenu[_ngcontent-%COMP%]{margin-top:60px;color:#03436c}.mat-button[_ngcontent-%COMP%]{color:#03436c}.mat-toolbar[_ngcontent-%COMP%]{background-color:#03436c;color:#fff}.menu__icon[_ngcontent-%COMP%]{color:#fff!important}.sidenav-button[_ngcontent-%COMP%]{color:#03436c}"]],data:{}});function Tf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,106,"div",[["class","backoffice__container"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,105,"mat-sidenav-container",[["class","backoffice__sidenav mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,gh,fh)),r.pb(2,1490944,null,2,ah,[[2,po],r.k,r.x,r.h,Jc,eh,[2,ac]],null,null),r.Fb(603979776,1,{_drawers:1}),r.Fb(603979776,2,{_content:0}),(t()(),r.qb(5,0,null,0,87,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["id","sidenav"],["mode","side"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],function(t,e,n){var i=!0;return"component:@transform.start"===e&&(i=!1!==r.Cb(t,6)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==r.Cb(t,6)._animationDoneListener(n)&&i),i},dh,hh)),r.pb(6,3325952,[[1,4],["sidenav",4]],0,oh,[r.k,Fo,qo,So,r.x,[2,o.c]],{mode:[0,"mode"]},null),(t()(),r.qb(7,0,null,0,85,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,Ld,Md)),r.pb(8,704512,null,0,Dd,[r.k],null,null),(t()(),r.qb(9,0,null,0,11,"mat-list-item",[["class","sidemenu mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(10,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,3,{_lines:1}),r.Fb(603979776,4,{_avatar:0}),r.Fb(603979776,5,{_icon:0}),(t()(),r.qb(14,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Coupon"],["routerLink","/"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,15).onClick()&&i),i},vc,bc)),r.pb(15,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(16,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(17,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(18,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["desktop_windows"])),(t()(),r.Hb(-1,0,["View Site"])),(t()(),r.qb(21,0,null,0,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(22,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,6,{_lines:1}),r.Fb(603979776,7,{_avatar:0}),r.Fb(603979776,8,{_icon:0}),(t()(),r.qb(26,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Coupon"],["routerLink","/admin/articles"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,27).onClick()&&i),i},vc,bc)),r.pb(27,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(28,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(29,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(30,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["description"])),(t()(),r.Hb(-1,0,["Articles"])),(t()(),r.qb(33,0,null,0,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(34,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,9,{_lines:1}),r.Fb(603979776,10,{_avatar:0}),r.Fb(603979776,11,{_icon:0}),(t()(),r.qb(38,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Coupon"],["routerLink","/admin/categories"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,39).onClick()&&i),i},vc,bc)),r.pb(39,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(40,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(41,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(42,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["content_paste"])),(t()(),r.Hb(-1,0,["Categories"])),(t()(),r.qb(45,0,null,0,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(46,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,12,{_lines:1}),r.Fb(603979776,13,{_avatar:0}),r.Fb(603979776,14,{_icon:0}),(t()(),r.qb(50,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Coupon"],["routerLink","/admin/tags"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,51).onClick()&&i),i},vc,bc)),r.pb(51,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(52,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(53,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(54,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["label_outline"])),(t()(),r.Hb(-1,0,["Tags"])),(t()(),r.qb(57,0,null,0,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(58,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,15,{_lines:1}),r.Fb(603979776,16,{_avatar:0}),r.Fb(603979776,17,{_icon:0}),(t()(),r.qb(62,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Help"],["routerLink","/admin/users"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,63).onClick()&&i),i},vc,bc)),r.pb(63,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(64,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(65,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(66,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["perm_identity"])),(t()(),r.Hb(-1,0,["Users"])),(t()(),r.qb(69,0,null,0,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(70,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,18,{_lines:1}),r.Fb(603979776,19,{_avatar:0}),r.Fb(603979776,20,{_icon:0}),(t()(),r.qb(74,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Help"],["routerLink","/admin/settings"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,75).onClick()&&i),i},vc,bc)),r.pb(75,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(76,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(77,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(78,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["settings"])),(t()(),r.Hb(-1,0,["Settings"])),(t()(),r.qb(81,0,null,0,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Vd,Fd)),r.pb(82,1228800,null,3,Nd,[r.k,r.h,[2,Od],[2,Dd]],null,null),r.Fb(603979776,21,{_lines:1}),r.Fb(603979776,22,{_avatar:0}),r.Fb(603979776,23,{_icon:0}),(t()(),r.qb(86,0,null,2,6,"button",[["class","sidenav-button"],["color","accent"],["mat-button",""],["matTooltip","Help"],["routerLink","/"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,87).onClick()&&i),i},vc,bc)),r.pb(87,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(88,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.qb(89,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(90,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["exit_to_app"])),(t()(),r.Hb(-1,0,["Log out"])),(t()(),r.qb(93,0,null,2,10,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Cf,wf)),r.pb(94,4243456,null,1,vf,[r.k,So,o.c],null,null),r.Fb(603979776,24,{_toolbarRows:1}),(t()(),r.qb(96,0,null,0,0,"div",[["class","filler"]],null,null,null,null,null)),(t()(),r.qb(97,0,null,0,4,"button",[["class","menu__icon"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,6).toggle()&&i),i},vc,bc)),r.pb(98,180224,null,0,gc,[r.k,qo,[2,ac]],null,null),(t()(),r.qb(99,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,gf,mf)),r.pb(100,9158656,null,0,ff,[r.k,rf,[8,null],[2,uf]],null,null),(t()(),r.Hb(-1,0,["menu"])),(t()(),r.qb(102,0,null,0,1,"h1",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["NG CMS ADMIN PANEL"])),(t()(),r.qb(104,0,null,2,2,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.qb(105,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(106,212992,null,0,ii,[ri,r.N,r.j,[8,null],r.h],null,null)],function(t,e){t(e,2,0),t(e,6,0,"side"),t(e,15,0,"/"),t(e,16,0,"accent"),t(e,18,0),t(e,27,0,"/admin/articles"),t(e,28,0,"accent"),t(e,30,0),t(e,39,0,"/admin/categories"),t(e,40,0,"accent"),t(e,42,0),t(e,51,0,"/admin/tags"),t(e,52,0,"accent"),t(e,54,0),t(e,63,0,"/admin/users"),t(e,64,0,"accent"),t(e,66,0),t(e,75,0,"/admin/settings"),t(e,76,0,"accent"),t(e,78,0),t(e,87,0,"/"),t(e,88,0,"accent"),t(e,90,0),t(e,100,0),t(e,106,0)},function(t,e){t(e,1,0,r.Cb(e,2)._backdropOverride),t(e,5,0,null,"end"===r.Cb(e,6).position,"over"===r.Cb(e,6).mode,"push"===r.Cb(e,6).mode,"side"===r.Cb(e,6).mode,r.Cb(e,6).opened,r.Cb(e,6).fixedInViewport,r.Cb(e,6).fixedInViewport?r.Cb(e,6).fixedTopGap:null,r.Cb(e,6).fixedInViewport?r.Cb(e,6).fixedBottomGap:null,r.Cb(e,6)._animationState),t(e,9,0,r.Cb(e,10)._avatar||r.Cb(e,10)._icon,r.Cb(e,10)._avatar||r.Cb(e,10)._icon),t(e,14,0,r.Cb(e,16).disabled||null,"NoopAnimations"===r.Cb(e,16)._animationMode),t(e,17,0,r.Cb(e,18).inline,"primary"!==r.Cb(e,18).color&&"accent"!==r.Cb(e,18).color&&"warn"!==r.Cb(e,18).color),t(e,21,0,r.Cb(e,22)._avatar||r.Cb(e,22)._icon,r.Cb(e,22)._avatar||r.Cb(e,22)._icon),t(e,26,0,r.Cb(e,28).disabled||null,"NoopAnimations"===r.Cb(e,28)._animationMode),t(e,29,0,r.Cb(e,30).inline,"primary"!==r.Cb(e,30).color&&"accent"!==r.Cb(e,30).color&&"warn"!==r.Cb(e,30).color),t(e,33,0,r.Cb(e,34)._avatar||r.Cb(e,34)._icon,r.Cb(e,34)._avatar||r.Cb(e,34)._icon),t(e,38,0,r.Cb(e,40).disabled||null,"NoopAnimations"===r.Cb(e,40)._animationMode),t(e,41,0,r.Cb(e,42).inline,"primary"!==r.Cb(e,42).color&&"accent"!==r.Cb(e,42).color&&"warn"!==r.Cb(e,42).color),t(e,45,0,r.Cb(e,46)._avatar||r.Cb(e,46)._icon,r.Cb(e,46)._avatar||r.Cb(e,46)._icon),t(e,50,0,r.Cb(e,52).disabled||null,"NoopAnimations"===r.Cb(e,52)._animationMode),t(e,53,0,r.Cb(e,54).inline,"primary"!==r.Cb(e,54).color&&"accent"!==r.Cb(e,54).color&&"warn"!==r.Cb(e,54).color),t(e,57,0,r.Cb(e,58)._avatar||r.Cb(e,58)._icon,r.Cb(e,58)._avatar||r.Cb(e,58)._icon),t(e,62,0,r.Cb(e,64).disabled||null,"NoopAnimations"===r.Cb(e,64)._animationMode),t(e,65,0,r.Cb(e,66).inline,"primary"!==r.Cb(e,66).color&&"accent"!==r.Cb(e,66).color&&"warn"!==r.Cb(e,66).color),t(e,69,0,r.Cb(e,70)._avatar||r.Cb(e,70)._icon,r.Cb(e,70)._avatar||r.Cb(e,70)._icon),t(e,74,0,r.Cb(e,76).disabled||null,"NoopAnimations"===r.Cb(e,76)._animationMode),t(e,77,0,r.Cb(e,78).inline,"primary"!==r.Cb(e,78).color&&"accent"!==r.Cb(e,78).color&&"warn"!==r.Cb(e,78).color),t(e,81,0,r.Cb(e,82)._avatar||r.Cb(e,82)._icon,r.Cb(e,82)._avatar||r.Cb(e,82)._icon),t(e,86,0,r.Cb(e,88).disabled||null,"NoopAnimations"===r.Cb(e,88)._animationMode),t(e,89,0,r.Cb(e,90).inline,"primary"!==r.Cb(e,90).color&&"accent"!==r.Cb(e,90).color&&"warn"!==r.Cb(e,90).color),t(e,93,0,r.Cb(e,94)._toolbarRows.length>0,0===r.Cb(e,94)._toolbarRows.length),t(e,97,0,r.Cb(e,98).disabled||null,"NoopAnimations"===r.Cb(e,98)._animationMode),t(e,99,0,r.Cb(e,100).inline,"primary"!==r.Cb(e,100).color&&"accent"!==r.Cb(e,100).color&&"warn"!==r.Cb(e,100).color)})}function xf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-backoffice-main",[],null,null,null,Tf,Sf)),r.pb(1,114688,null,0,Ef,[],null,null)],function(t,e){t(e,1,0)},null)}var If=r.mb("app-backoffice-main",Ef,xf,{},{},[]);class kf{}function Af(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let Of=0;class Df{constructor(t){this._elementRef=t}}const Nf=Wo(Df,"primary"),Rf=new r.o("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Pf=(()=>(class extends Nf{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new u.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Of++}`,this._labelId=`mat-form-field-label-${Of++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy"}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=yo(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(lt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Vi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Vi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Oi.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(lt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(lt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Vi(this._destroyed)).subscribe(()=>this.updateOutlineGap())}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Ni(this._label.nativeElement,"transitionend").pipe(Z(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Af("start");t=n}else if("end"===n.align){if(e)throw Af("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=o-s-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i.item(o).style.width=`${e}px`;for(let o=0;o<s.length;o++)s.item(o).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}))(),Mf=(()=>(class{}))(),Lf=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ff=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=wo(t);return new d.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new u.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(Lf))},token:t,providedIn:"root"}),t})(),Vf=(()=>(class{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.m,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=yo(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=bo(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Pi(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}))(),jf=(()=>(class{}))();var qf=r.ob({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function Bf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),r.qb(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),r.qb(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),r.qb(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),r.qb(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),r.qb(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),r.qb(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),r.qb(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),r.qb(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function Uf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),r.Bb(null,0)],null,null)}function zf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,3,null,null,null,null,null,null,null)),r.Bb(null,2),(t()(),r.qb(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Hb(3,null,["",""]))],null,function(t,e){t(e,3,0,e.component._control.placeholder)})}function Hf(t){return r.Ib(0,[r.Bb(null,3),(t()(),r.gb(0,null,null,0))],null,null)}function Qf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" *"]))],null,null)}function Wf(t){return r.Ib(0,[(t()(),r.qb(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r},null,null)),r.pb(1,16384,null,0,o.n,[],{ngSwitch:[0,"ngSwitch"]},null),r.pb(2,1196032,null,0,Vf,[Ff,r.k,r.x],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),r.gb(16777216,null,null,1,null,zf)),r.pb(4,278528,null,0,o.o,[r.N,r.K,o.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.gb(16777216,null,null,1,null,Hf)),r.pb(6,278528,null,0,o.o,[r.N,r.K,o.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.gb(16777216,null,null,1,null,Qf)),r.pb(8,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)},function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)})}function Gf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),r.Bb(null,4)],null,null)}function Kf(t){return r.Ib(0,[(t()(),r.qb(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)})}function $f(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),r.Bb(null,5)],null,function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function Yf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),r.Hb(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)})}function Zf(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Yf)),r.pb(2,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),r.Bb(null,6),(t()(),r.qb(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),r.Bb(null,7)],function(t,e){t(e,2,0,e.component.hintLabel)},function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function Xf(t){return r.Ib(2,[r.Fb(671088640,1,{underlineRef:0}),r.Fb(402653184,2,{_connectionContainerRef:0}),r.Fb(671088640,3,{_inputContainerRef:0}),r.Fb(671088640,4,{_label:0}),(t()(),r.qb(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),r.qb(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r},null,null)),(t()(),r.gb(16777216,null,null,1,null,Bf)),r.pb(7,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Uf)),r.pb(9,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),r.Bb(null,1),(t()(),r.qb(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Wf)),r.pb(14,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Gf)),r.pb(16,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.gb(16777216,null,null,1,null,Kf)),r.pb(18,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),r.pb(20,16384,null,0,o.n,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),r.gb(16777216,null,null,1,null,$f)),r.pb(22,278528,null,0,o.o,[r.N,r.K,o.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.gb(16777216,null,null,1,null,Zf)),r.pb(24,278528,null,0,o.o,[r.N,r.K,o.n],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")},null)}const Jf=Ao({passive:!0});let tp=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return E.a;const e=wo(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new u.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Jf),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,Jf)}}),r.asObservable()}stopMonitoring(t){const e=wo(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(So),Object(r.Mb)(r.x))},token:t,providedIn:"root"}),t})(),ep=(()=>(class{}))();const np=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let rp=0;class ip{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const sp=Ko(ip);let op=(()=>(class extends sp{constructor(t,e,n,r,i,s,o,a,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${rp++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new u.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Io().has(t));const c=this._elementRef.nativeElement;this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=yo(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=yo(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Io().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=yo(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(np.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}))(),ap=(()=>(class{}))();class lp{constructor(t,e){this.dataService=t,this.formBuilder=e,this.showForm=!1}ngOnInit(){this.dataService.getArticles().subscribe(t=>{this.articles=[],t.forEach(t=>{this.articles.push({id:t.payload.doc.id,data:t.payload.doc.data()})})}),this.buildForm()}buildForm(){this.form=this.formBuilder.group({title:["",[Nh.required,Nh.minLength(2)]],category:["",[Nh.required,Nh.minLength(2)]],tags:["",[Nh.required]],content:["",[Nh.required,Nh.minLength(2)]],image:[""]})}onSubmit(){this.form.valid?console.log(this.form.value):console.log("form is not valid, cannot save to database")}}var up=r.ob({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:90%}.category[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .image[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{width:90%}.new-article[_ngcontent-%COMP%]{margin:20px 0}.content__article[_ngcontent-%COMP%]{font-size:.8rem;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.new-article-container[_ngcontent-%COMP%]{margin-bottom:20px}"]],data:{}});function cp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,90,"div",[["class","new-article-container"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,89,"mat-card",[["class","form-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,cc,uc)),r.pb(2,49152,null,0,uo,[[2,ac]],null,null),(t()(),r.qb(3,0,null,0,87,"div",[["class","form-container"]],null,null,null,null,null)),(t()(),r.qb(4,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Add new article"])),(t()(),r.qb(6,0,null,null,84,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,s=t.component;return"submit"===e&&(i=!1!==r.Cb(t,8).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Cb(t,8).onReset()&&i),"ngSubmit"===e&&(i=!1!==s.onSubmit()&&i),i},null,null)),r.pb(7,16384,null,0,md,[],null,null),r.pb(8,540672,null,0,yd,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Eb(2048,null,Sh,null,[yd]),r.pb(10,16384,null,0,Ah,[[4,Sh]],null,null),(t()(),r.qb(11,0,null,null,18,"mat-form-field",[["class","title mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xf,qf)),r.pb(12,7520256,null,9,Pf,[r.k,r.h,[2,ua],[2,po],[2,Rf],So,r.x,[2,ac]],null,null),r.Fb(603979776,1,{_controlNonStatic:0}),r.Fb(335544320,2,{_controlStatic:0}),r.Fb(603979776,3,{_labelChildNonStatic:0}),r.Fb(335544320,4,{_labelChildStatic:0}),r.Fb(603979776,5,{_placeholderChild:0}),r.Fb(603979776,6,{_errorChildren:1}),r.Fb(603979776,7,{_hintChildren:1}),r.Fb(603979776,8,{_prefixChildren:1}),r.Fb(603979776,9,{_suffixChildren:1}),(t()(),r.qb(22,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","title"],["matInput",""],["placeholder","title"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Cb(t,23)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,23).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Cb(t,23)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Cb(t,23)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,27)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Cb(t,27)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Cb(t,27)._onInput()&&i),i},null,null)),r.pb(23,16384,null,0,Ch,[r.C,r.k,[2,wh]],null,null),r.Eb(1024,null,vh,function(t){return[t]},[Ch]),r.pb(25,671744,null,0,wd,[[3,Sh],[8,null],[8,null],[6,vh],[2,gd]],{name:[0,"name"]},null),r.Eb(2048,null,xh,null,[wd]),r.pb(27,999424,null,0,op,[r.k,So,[6,xh],[2,dd],[2,yd],$o,[8,null],tp,r.x],{placeholder:[0,"placeholder"]},null),r.pb(28,16384,null,0,kh,[[4,xh]],null,null),r.Eb(2048,[[1,4],[2,4]],kf,null,[op]),(t()(),r.qb(30,0,null,null,18,"mat-form-field",[["class","category mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xf,qf)),r.pb(31,7520256,null,9,Pf,[r.k,r.h,[2,ua],[2,po],[2,Rf],So,r.x,[2,ac]],null,null),r.Fb(603979776,10,{_controlNonStatic:0}),r.Fb(335544320,11,{_controlStatic:0}),r.Fb(603979776,12,{_labelChildNonStatic:0}),r.Fb(335544320,13,{_labelChildStatic:0}),r.Fb(603979776,14,{_placeholderChild:0}),r.Fb(603979776,15,{_errorChildren:1}),r.Fb(603979776,16,{_hintChildren:1}),r.Fb(603979776,17,{_prefixChildren:1}),r.Fb(603979776,18,{_suffixChildren:1}),(t()(),r.qb(41,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","category"],["matInput",""],["placeholder","category"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Cb(t,42)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,42).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Cb(t,42)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Cb(t,42)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,46)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Cb(t,46)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Cb(t,46)._onInput()&&i),i},null,null)),r.pb(42,16384,null,0,Ch,[r.C,r.k,[2,wh]],null,null),r.Eb(1024,null,vh,function(t){return[t]},[Ch]),r.pb(44,671744,null,0,wd,[[3,Sh],[8,null],[8,null],[6,vh],[2,gd]],{name:[0,"name"]},null),r.Eb(2048,null,xh,null,[wd]),r.pb(46,999424,null,0,op,[r.k,So,[6,xh],[2,dd],[2,yd],$o,[8,null],tp,r.x],{placeholder:[0,"placeholder"]},null),r.pb(47,16384,null,0,kh,[[4,xh]],null,null),r.Eb(2048,[[10,4],[11,4]],kf,null,[op]),(t()(),r.qb(49,0,null,null,18,"mat-form-field",[["class","content mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xf,qf)),r.pb(50,7520256,null,9,Pf,[r.k,r.h,[2,ua],[2,po],[2,Rf],So,r.x,[2,ac]],null,null),r.Fb(603979776,19,{_controlNonStatic:0}),r.Fb(335544320,20,{_controlStatic:0}),r.Fb(603979776,21,{_labelChildNonStatic:0}),r.Fb(335544320,22,{_labelChildStatic:0}),r.Fb(603979776,23,{_placeholderChild:0}),r.Fb(603979776,24,{_errorChildren:1}),r.Fb(603979776,25,{_hintChildren:1}),r.Fb(603979776,26,{_prefixChildren:1}),r.Fb(603979776,27,{_suffixChildren:1}),(t()(),r.qb(60,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","content"],["matInput",""],["placeholder","content"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Cb(t,61)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,61).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Cb(t,61)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Cb(t,61)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,65)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Cb(t,65)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Cb(t,65)._onInput()&&i),i},null,null)),r.pb(61,16384,null,0,Ch,[r.C,r.k,[2,wh]],null,null),r.Eb(1024,null,vh,function(t){return[t]},[Ch]),r.pb(63,671744,null,0,wd,[[3,Sh],[8,null],[8,null],[6,vh],[2,gd]],{name:[0,"name"]},null),r.Eb(2048,null,xh,null,[wd]),r.pb(65,999424,null,0,op,[r.k,So,[6,xh],[2,dd],[2,yd],$o,[8,null],tp,r.x],{placeholder:[0,"placeholder"]},null),r.pb(66,16384,null,0,kh,[[4,xh]],null,null),r.Eb(2048,[[19,4],[20,4]],kf,null,[op]),(t()(),r.qb(68,0,null,null,18,"mat-form-field",[["class","image mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xf,qf)),r.pb(69,7520256,null,9,Pf,[r.k,r.h,[2,ua],[2,po],[2,Rf],So,r.x,[2,ac]],null,null),r.Fb(603979776,28,{_controlNonStatic:0}),r.Fb(335544320,29,{_controlStatic:0}),r.Fb(603979776,30,{_labelChildNonStatic:0}),r.Fb(335544320,31,{_labelChildStatic:0}),r.Fb(603979776,32,{_placeholderChild:0}),r.Fb(603979776,33,{_errorChildren:1}),r.Fb(603979776,34,{_hintChildren:1}),r.Fb(603979776,35,{_prefixChildren:1}),r.Fb(603979776,36,{_suffixChildren:1}),(t()(),r.qb(79,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","image"],["matInput",""],["placeholder","image"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Cb(t,80)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,80).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Cb(t,80)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Cb(t,80)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Cb(t,84)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Cb(t,84)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Cb(t,84)._onInput()&&i),i},null,null)),r.pb(80,16384,null,0,Ch,[r.C,r.k,[2,wh]],null,null),r.Eb(1024,null,vh,function(t){return[t]},[Ch]),r.pb(82,671744,null,0,wd,[[3,Sh],[8,null],[8,null],[6,vh],[2,gd]],{name:[0,"name"]},null),r.Eb(2048,null,xh,null,[wd]),r.pb(84,999424,null,0,op,[r.k,So,[6,xh],[2,dd],[2,yd],$o,[8,null],tp,r.x],{placeholder:[0,"placeholder"]},null),r.pb(85,16384,null,0,kh,[[4,xh]],null,null),r.Eb(2048,[[28,4],[29,4]],kf,null,[op]),(t()(),r.qb(87,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.qb(88,0,null,null,2,"button",[["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,vc,bc)),r.pb(89,180224,null,0,gc,[r.k,qo,[2,ac]],null,null),(t()(),r.Hb(-1,0,["Add article"]))],function(t,e){t(e,8,0,e.component.form),t(e,25,0,"title"),t(e,27,0,"title"),t(e,44,0,"category"),t(e,46,0,"category"),t(e,63,0,"content"),t(e,65,0,"content"),t(e,82,0,"image"),t(e,84,0,"image")},function(t,e){t(e,1,0,"NoopAnimations"===r.Cb(e,2)._animationMode),t(e,6,0,r.Cb(e,10).ngClassUntouched,r.Cb(e,10).ngClassTouched,r.Cb(e,10).ngClassPristine,r.Cb(e,10).ngClassDirty,r.Cb(e,10).ngClassValid,r.Cb(e,10).ngClassInvalid,r.Cb(e,10).ngClassPending),t(e,11,1,["standard"==r.Cb(e,12).appearance,"fill"==r.Cb(e,12).appearance,"outline"==r.Cb(e,12).appearance,"legacy"==r.Cb(e,12).appearance,r.Cb(e,12)._control.errorState,r.Cb(e,12)._canLabelFloat,r.Cb(e,12)._shouldLabelFloat(),r.Cb(e,12)._hasFloatingLabel(),r.Cb(e,12)._hideControlPlaceholder(),r.Cb(e,12)._control.disabled,r.Cb(e,12)._control.autofilled,r.Cb(e,12)._control.focused,"accent"==r.Cb(e,12).color,"warn"==r.Cb(e,12).color,r.Cb(e,12)._shouldForward("untouched"),r.Cb(e,12)._shouldForward("touched"),r.Cb(e,12)._shouldForward("pristine"),r.Cb(e,12)._shouldForward("dirty"),r.Cb(e,12)._shouldForward("valid"),r.Cb(e,12)._shouldForward("invalid"),r.Cb(e,12)._shouldForward("pending"),!r.Cb(e,12)._animationsEnabled]),t(e,22,1,[r.Cb(e,27)._isServer,r.Cb(e,27).id,r.Cb(e,27).placeholder,r.Cb(e,27).disabled,r.Cb(e,27).required,r.Cb(e,27).readonly&&!r.Cb(e,27)._isNativeSelect||null,r.Cb(e,27)._ariaDescribedby||null,r.Cb(e,27).errorState,r.Cb(e,27).required.toString(),r.Cb(e,28).ngClassUntouched,r.Cb(e,28).ngClassTouched,r.Cb(e,28).ngClassPristine,r.Cb(e,28).ngClassDirty,r.Cb(e,28).ngClassValid,r.Cb(e,28).ngClassInvalid,r.Cb(e,28).ngClassPending]),t(e,30,1,["standard"==r.Cb(e,31).appearance,"fill"==r.Cb(e,31).appearance,"outline"==r.Cb(e,31).appearance,"legacy"==r.Cb(e,31).appearance,r.Cb(e,31)._control.errorState,r.Cb(e,31)._canLabelFloat,r.Cb(e,31)._shouldLabelFloat(),r.Cb(e,31)._hasFloatingLabel(),r.Cb(e,31)._hideControlPlaceholder(),r.Cb(e,31)._control.disabled,r.Cb(e,31)._control.autofilled,r.Cb(e,31)._control.focused,"accent"==r.Cb(e,31).color,"warn"==r.Cb(e,31).color,r.Cb(e,31)._shouldForward("untouched"),r.Cb(e,31)._shouldForward("touched"),r.Cb(e,31)._shouldForward("pristine"),r.Cb(e,31)._shouldForward("dirty"),r.Cb(e,31)._shouldForward("valid"),r.Cb(e,31)._shouldForward("invalid"),r.Cb(e,31)._shouldForward("pending"),!r.Cb(e,31)._animationsEnabled]),t(e,41,1,[r.Cb(e,46)._isServer,r.Cb(e,46).id,r.Cb(e,46).placeholder,r.Cb(e,46).disabled,r.Cb(e,46).required,r.Cb(e,46).readonly&&!r.Cb(e,46)._isNativeSelect||null,r.Cb(e,46)._ariaDescribedby||null,r.Cb(e,46).errorState,r.Cb(e,46).required.toString(),r.Cb(e,47).ngClassUntouched,r.Cb(e,47).ngClassTouched,r.Cb(e,47).ngClassPristine,r.Cb(e,47).ngClassDirty,r.Cb(e,47).ngClassValid,r.Cb(e,47).ngClassInvalid,r.Cb(e,47).ngClassPending]),t(e,49,1,["standard"==r.Cb(e,50).appearance,"fill"==r.Cb(e,50).appearance,"outline"==r.Cb(e,50).appearance,"legacy"==r.Cb(e,50).appearance,r.Cb(e,50)._control.errorState,r.Cb(e,50)._canLabelFloat,r.Cb(e,50)._shouldLabelFloat(),r.Cb(e,50)._hasFloatingLabel(),r.Cb(e,50)._hideControlPlaceholder(),r.Cb(e,50)._control.disabled,r.Cb(e,50)._control.autofilled,r.Cb(e,50)._control.focused,"accent"==r.Cb(e,50).color,"warn"==r.Cb(e,50).color,r.Cb(e,50)._shouldForward("untouched"),r.Cb(e,50)._shouldForward("touched"),r.Cb(e,50)._shouldForward("pristine"),r.Cb(e,50)._shouldForward("dirty"),r.Cb(e,50)._shouldForward("valid"),r.Cb(e,50)._shouldForward("invalid"),r.Cb(e,50)._shouldForward("pending"),!r.Cb(e,50)._animationsEnabled]),t(e,60,1,[r.Cb(e,65)._isServer,r.Cb(e,65).id,r.Cb(e,65).placeholder,r.Cb(e,65).disabled,r.Cb(e,65).required,r.Cb(e,65).readonly&&!r.Cb(e,65)._isNativeSelect||null,r.Cb(e,65)._ariaDescribedby||null,r.Cb(e,65).errorState,r.Cb(e,65).required.toString(),r.Cb(e,66).ngClassUntouched,r.Cb(e,66).ngClassTouched,r.Cb(e,66).ngClassPristine,r.Cb(e,66).ngClassDirty,r.Cb(e,66).ngClassValid,r.Cb(e,66).ngClassInvalid,r.Cb(e,66).ngClassPending]),t(e,68,1,["standard"==r.Cb(e,69).appearance,"fill"==r.Cb(e,69).appearance,"outline"==r.Cb(e,69).appearance,"legacy"==r.Cb(e,69).appearance,r.Cb(e,69)._control.errorState,r.Cb(e,69)._canLabelFloat,r.Cb(e,69)._shouldLabelFloat(),r.Cb(e,69)._hasFloatingLabel(),r.Cb(e,69)._hideControlPlaceholder(),r.Cb(e,69)._control.disabled,r.Cb(e,69)._control.autofilled,r.Cb(e,69)._control.focused,"accent"==r.Cb(e,69).color,"warn"==r.Cb(e,69).color,r.Cb(e,69)._shouldForward("untouched"),r.Cb(e,69)._shouldForward("touched"),r.Cb(e,69)._shouldForward("pristine"),r.Cb(e,69)._shouldForward("dirty"),r.Cb(e,69)._shouldForward("valid"),r.Cb(e,69)._shouldForward("invalid"),r.Cb(e,69)._shouldForward("pending"),!r.Cb(e,69)._animationsEnabled]),t(e,79,1,[r.Cb(e,84)._isServer,r.Cb(e,84).id,r.Cb(e,84).placeholder,r.Cb(e,84).disabled,r.Cb(e,84).required,r.Cb(e,84).readonly&&!r.Cb(e,84)._isNativeSelect||null,r.Cb(e,84)._ariaDescribedby||null,r.Cb(e,84).errorState,r.Cb(e,84).required.toString(),r.Cb(e,85).ngClassUntouched,r.Cb(e,85).ngClassTouched,r.Cb(e,85).ngClassPristine,r.Cb(e,85).ngClassDirty,r.Cb(e,85).ngClassValid,r.Cb(e,85).ngClassInvalid,r.Cb(e,85).ngClassPending]),t(e,88,0,r.Cb(e,89).disabled||null,"NoopAnimations"===r.Cb(e,89)._animationMode)})}function hp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(2,null,["",""])),(t()(),r.qb(3,0,null,null,1,"p",[["class","content__article"]],null,null,null,null,null)),(t()(),r.Hb(4,null,["",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.data.title),t(e,4,0,e.context.$implicit.data.content)})}function dp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,2,"button",[["class","new-article"],["color","primary"],["mat-raised-button",""],["ng-model","showForm"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showForm=!i.showForm)&&r),r},vc,bc)),r.pb(1,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.Hb(-1,0,["New Article"])),(t()(),r.gb(16777216,null,null,1,null,cp)),r.pb(4,16384,null,0,o.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(5,0,null,null,7,"mat-card",[["class","form-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,cc,uc)),r.pb(6,49152,null,0,uo,[[2,ac]],null,null),(t()(),r.qb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Articles"])),(t()(),r.qb(9,0,null,0,3,"div",[["class","back-list"]],null,null,null,null,null)),(t()(),r.qb(10,0,null,null,2,"ul",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,hp)),r.pb(12,278528,null,0,o.i,[r.N,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,"primary"),t(e,4,0,n.showForm),t(e,12,0,n.articles)},function(t,e){t(e,0,0,r.Cb(e,1).disabled||null,"NoopAnimations"===r.Cb(e,1)._animationMode),t(e,5,0,"NoopAnimations"===r.Cb(e,6)._animationMode)})}function fp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-backoffice-articles",[],null,null,null,dp,up)),r.pb(1,114688,null,0,lp,[Cc,Ed],null,null)],function(t,e){t(e,1,0)},null)}var pp=r.mb("app-backoffice-articles",lp,fp,{},{},[]);class mp{constructor(){}ngOnInit(){}}var gp=r.ob({encapsulation:0,styles:[[""]],data:{}});function yp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["backoffice-categories works!"]))],null,null)}function bp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-backoffice-categories",[],null,null,null,yp,gp)),r.pb(1,114688,null,0,mp,[],null,null)],function(t,e){t(e,1,0)},null)}var vp=r.mb("app-backoffice-categories",mp,bp,{},{},[]);class _p{constructor(){}ngOnInit(){}}var wp=r.ob({encapsulation:0,styles:[[""]],data:{}});function Cp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["backoffice-tags works!"]))],null,null)}function Ep(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-backoffice-tags",[],null,null,null,Cp,wp)),r.pb(1,114688,null,0,_p,[],null,null)],function(t,e){t(e,1,0)},null)}var Sp=r.mb("app-backoffice-tags",_p,Ep,{},{},[]);class Tp{constructor(){}ngOnInit(){}}var xp=r.ob({encapsulation:0,styles:[[""]],data:{}});function Ip(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["backoffice-users works!"]))],null,null)}function kp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-backoffice-users",[],null,null,null,Ip,xp)),r.pb(1,114688,null,0,Tp,[],null,null)],function(t,e){t(e,1,0)},null)}var Ap=r.mb("app-backoffice-users",Tp,kp,{},{},[]);class Op{constructor(){}ngOnInit(){}}var Dp=r.ob({encapsulation:0,styles:[[""]],data:{}});function Np(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["backoffice-settings works!"]))],null,null)}function Rp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-backoffice-settings",[],null,null,null,Np,Dp)),r.pb(1,114688,null,0,Op,[],null,null)],function(t,e){t(e,1,0)},null)}var Pp=r.mb("app-backoffice-settings",Op,Rp,{},{},[]);class Mp{constructor(){}ngOnInit(){}}var Lp=r.ob({encapsulation:0,styles:[[".user-top-bar[_ngcontent-%COMP%]{padding:5px;background-color:#03436c}"]],data:{}});function Fp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,4,"div",[["class","user-top-bar"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["routerLink","/admin"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,2).onClick()&&i),i},vc,bc)),r.pb(2,16384,null,0,ti,[Jr,Un,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.pb(3,180224,null,0,gc,[r.k,qo,[2,ac]],{color:[0,"color"]},null),(t()(),r.Hb(-1,0,["Go to Back Office"]))],function(t,e){t(e,2,0,"/admin"),t(e,3,0,"primary")},function(t,e){t(e,1,0,r.Cb(e,3).disabled||null,"NoopAnimations"===r.Cb(e,3)._animationMode)})}var Vp=r.ob({encapsulation:0,styles:[[""]],data:{}});function jp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"user-top-bar",[],null,null,null,Fp,Lp)),r.pb(2,114688,null,0,Mp,[],null,null),(t()(),r.qb(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(4,212992,null,0,ii,[ri,r.N,r.j,[8,null],r.h],null,null)],function(t,e){t(e,2,0),t(e,4,0)},null)}function qp(t){return r.Ib(0,[(t()(),r.qb(0,0,null,null,1,"app-root",[],null,null,null,jp,Vp)),r.pb(1,49152,null,0,s,[],null,null)],null,null)}var Bp=r.mb("app-root",s,qp,{},{},[]);function Up(){throw Error("Host already has a portal attached")}class zp{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Up(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Hp extends zp{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Qp extends zp{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Wp{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Up(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Hp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Qp?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gp extends Wp{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Kp=(()=>(class{}))();class $p{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_o(-this._previousScrollPosition.left),t.style.top=_o(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Yp(){return Error("Scroll strategy has already been attached.")}class Zp{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Yp();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Xp{enable(){}disable(){}attach(){}}function Jp(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function tm(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class em{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Yp();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Jp(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nm=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Xp,this.close=t=>new Zp(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new $p(this._viewportRuler,this._document),this.reposition=t=>new em(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)($c),Object(r.Mb)(Jc),Object(r.Mb)(r.x),Object(r.Mb)(o.c))},token:t,providedIn:"root"}),t})();class rm{constructor(t){if(this.scrollStrategy=new Xp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class im{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}let sm=(()=>(class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}))();function om(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function am(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let lm=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(o.c))},token:t,providedIn:"root"}),t})(),um=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(o.c))},token:t,providedIn:"root"}),t})();class cm{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new u.a,this._attachments=new u.a,this._detachments=new u.a,this._locationChanges=dt.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new d.a(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new u.a,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Z(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_o(this._config.width),t.height=_o(this._config.height),t.minWidth=_o(this._config.minWidth),t.minHeight=_o(this._config.minHeight),t.maxWidth=_o(this._config.maxWidth),t.maxHeight=_o(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;vo(e).forEach(t=>{n?r.add(t):r.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Vi(Object(Oi.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const hm="cdk-overlay-connected-position-bounding-box";class dm{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.a,this._resizeSubscription=dt.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(hm),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hm),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let l=0-s,u=s+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,y:u=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new sm(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,u;if("top"===e.overlayY)i=n.height-(s=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)i=n.height-(o=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;s=t.y-e,(i=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:s,left:l,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=_o(n.height),r.top=_o(n.top),r.bottom=_o(n.bottom),r.width=_o(n.width),r.left=_o(n.left),r.right=_o(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=_o(t)),i&&(r.maxWidth=_o(i))}this._lastBoundingBoxSize=n,fm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();fm(n,this._getExactOverlayY(e,t,r)),fm(n,this._getExactOverlayX(e,t,r))}else n.position="static";let r="",i=this._getOffset(e,"x"),s=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),s&&(r+=`translateY(${s}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),fm(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=_o(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"right"==(r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:i.left=_o(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tm(t,n),isOriginOutsideView:Jp(t,n),isOverlayClipped:tm(e,n),isOverlayOutsideView:Jp(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{am("originX",t.originX),om("originY",t.originY),am("overlayX",t.overlayX),om("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&vo(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof r.k?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function fm(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class pm{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new dm(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new im(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const mm="cdk-global-overlay-wrapper";class gm{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(mm),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(mm),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ym=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new gm}connectedTo(t,e,n){return new pm(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new dm(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(Jc),Object(r.Mb)(o.c),Object(r.Mb)(So),Object(r.Mb)(um))},token:t,providedIn:"root"}),t})(),bm=0,vm=(()=>(class{constructor(t,e,n,r,i,s,o,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new rm(t);return i.direction=i.direction||this._directionality.value,new cm(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${bm++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Gp(t,this._componentFactoryResolver,this._appRef,this._injector)}}))();const _m=new r.o("cdk-connected-overlay-scroll-strategy");function wm(t){return()=>t.scrollStrategies.reposition()}let Cm=(()=>(class{}))();const Em=new r.o("mat-menu-scroll-strategy");function Sm(t){return()=>t.scrollStrategies.reposition()}let Tm=(()=>(class{}))(),xm=(()=>(class{}))();const Im=new r.o("mat-select-scroll-strategy");function km(t){return()=>t.scrollStrategies.reposition()}let Am=(()=>(class{}))();var Om=n("yA/v");class Dm{}class Nm{}let Rm=(()=>(class{}))(),Pm=(()=>(class{}))(),Mm=(()=>{class t{constructor(t,e){Object(o.t)(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:Qi,useValue:Object.assign({},Hi,e)},{provide:Gi,useValue:n,multi:!0},{provide:Wi,useValue:!0}]:[{provide:Qi,useValue:Object.assign({},Hi,e)},{provide:Gi,useValue:n,multi:!0}]}}}return t})();class Lm{}var Fm=r.nb(i,[s],function(t){return r.zb([r.Ab(512,r.j,r.Z,[[8,[Ai,Nc,qc,If,pp,vp,Sp,Ap,Pp,Bp]],[3,r.j],r.v]),r.Ab(5120,r.s,r.kb,[[3,r.s]]),r.Ab(4608,o.l,o.k,[r.s,[2,o.z]]),r.Ab(5120,r.hb,r.lb,[r.x]),r.Ab(5120,r.q,r.ib,[]),r.Ab(5120,r.r,r.jb,[]),r.Ab(4608,ye,be,[o.c]),r.Ab(6144,r.F,null,[ye]),r.Ab(4608,ce,de,[]),r.Ab(5120,Ft,function(t,e,n,r,i,s,o,a){return[new le(t,e,n),new ge(r),new fe(i,s,o,a)]},[o.c,r.x,r.z,o.c,o.c,ce,r.ab,[2,he]]),r.Ab(4608,Vt,Vt,[Ft,r.x]),r.Ab(135680,Bt,Bt,[o.c]),r.Ab(4608,Kt,Kt,[Vt,Bt,r.c]),r.Ab(5120,ja,ic,[]),r.Ab(5120,ql,sc,[]),r.Ab(4608,Cu,rc,[o.c,ja,ql]),r.Ab(5120,r.D,oc,[Kt,Cu,r.x]),r.Ab(6144,qt,null,[Bt]),r.Ab(4608,r.L,r.L,[r.x]),r.Ab(5120,Un,wi,[Jr]),r.Ab(4608,li,li,[]),r.Ab(6144,oi,null,[li]),r.Ab(135680,ui,ui,[Jr,r.u,r.i,r.p,oi]),r.Ab(4608,ai,ai,[]),r.Ab(5120,ci,gi,[Jr,o.r,hi]),r.Ab(5120,Ti,Si,[Ci]),r.Ab(5120,r.b,function(t,e,n){return[t,(r=e,i=n,()=>{if(Object(o.s)(i)){const t=Array.from(r.querySelectorAll("[class*=flex-layout-]")),e=/\bflex-layout-.+?\b/g;t.forEach(t=>{t.classList.contains("flex-layout-ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}})];var r,i},[Ti,o.c,r.z]),r.Ab(4608,ca,Ku,[r.D,o.c]),r.Ab(4608,vm,vm,[nm,um,r.j,ym,lm,r.p,r.x,o.c,po,[2,o.f]]),r.Ab(5120,_m,wm,[vm]),r.Ab(5120,Em,Sm,[vm]),r.Ab(4608,Lf,Lf,[]),r.Ab(5120,Im,km,[vm]),r.Ab(4608,$o,$o,[]),r.Ab(5120,Om.b,Om.e,[Om.d,[2,Om.c]]),r.Ab(4608,jh,jh,[]),r.Ab(4608,Ed,Ed,[]),r.Ab(4608,wc.a,wc.a,[Om.d,[2,Om.c],[2,wc.c],[2,wc.d],r.z,r.x,[2,wc.e]]),r.Ab(1073742336,o.b,o.b,[]),r.Ab(1024,r.l,Ie,[]),r.Ab(1024,r.w,function(){return[pi()]},[]),r.Ab(512,Ci,Ci,[r.p]),r.Ab(256,r.c,"serverApp",[]),r.Ab(2048,Ot,null,[r.c]),r.Ab(1024,r.d,function(t,e,n,r,i){return[(s=t,Pt("probe",Lt),Pt("coreTokens",Object.assign({},Mt,(s||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Lt),Ei(e),Dt(n,r,i)];var s},[[2,r.w],Ci,Ot,o.c,r.p]),r.Ab(512,r.e,r.e,[[2,r.d]]),r.Ab(131584,r.g,r.g,[r.x,r.ab,r.p,r.l,r.j,r.e]),r.Ab(1073742336,r.f,r.f,[r.g]),r.Ab(1073742336,ke,ke,[[3,ke]]),r.Ab(1024,di,bi,[[3,Jr]]),r.Ab(512,_n,wn,[]),r.Ab(512,ri,ri,[]),r.Ab(256,hi,{},[]),r.Ab(1024,o.g,yi,[o.q,[2,o.a],hi]),r.Ab(512,o.f,o.f,[o.g,o.q]),r.Ab(512,r.i,r.i,[]),r.Ab(512,r.u,r.I,[r.i,[2,r.J]]),r.Ab(1024,Wr,function(){return[[{path:"",component:Ic},{path:"articles/:id",component:Rc},{path:"admin",component:Ef,children:[{path:"articles",component:lp,pathMatch:"full"},{path:"categories",component:mp},{path:"tags",component:_p},{path:"users",component:Tp},{path:"settings",component:Op}]}]]},[]),r.Ab(1024,Jr,_i,[r.g,_n,ri,o.f,r.p,r.u,r.i,Wr,hi,[2,Kr],[2,Hr]]),r.Ab(1073742336,mi,mi,[[2,di],[2,Jr]]),r.Ab(1073742336,Dm,Dm,[]),r.Ab(1073742336,lc,lc,[]),r.Ab(1073742336,mo,mo,[]),r.Ab(1073742336,Ho,Ho,[[2,Uo],[2,he]]),r.Ab(1073742336,To,To,[]),r.Ab(1073742336,oa,oa,[]),r.Ab(1073742336,yc,yc,[]),r.Ab(1073742336,Kp,Kp,[]),r.Ab(1073742336,Zc,Zc,[]),r.Ab(1073742336,Cm,Cm,[]),r.Ab(1073742336,Tm,Tm,[]),r.Ab(1073742336,xm,xm,[]),r.Ab(1073742336,_f,_f,[]),r.Ab(1073742336,pf,pf,[]),r.Ab(1073742336,ho,ho,[]),r.Ab(1073742336,aa,aa,[]),r.Ab(1073742336,la,la,[]),r.Ab(1073742336,jf,jf,[]),r.Ab(1073742336,Mf,Mf,[]),r.Ab(1073742336,Am,Am,[]),r.Ab(1073742336,lh,lh,[]),r.Ab(1073742336,Zo,Zo,[]),r.Ab(1073742336,Pd,Pd,[]),r.Ab(1073742336,Rd,Rd,[]),r.Ab(1073742336,ep,ep,[]),r.Ab(1073742336,ap,ap,[]),r.Ab(1073742336,Nm,Nm,[]),r.Ab(1073742336,Bi,Bi,[]),r.Ab(1073742336,no,no,[]),r.Ab(1073742336,Rm,Rm,[]),r.Ab(1073742336,Pm,Pm,[]),r.Ab(1073742336,Mm,Mm,[[2,Wi],r.z]),r.Ab(1073742336,Om.a,Om.a,[]),r.Ab(1073742336,Cd,Cd,[]),r.Ab(1073742336,Sd,Sd,[]),r.Ab(1073742336,Td,Td,[]),r.Ab(1073742336,Lm,Lm,[]),r.Ab(1073742336,i,i,[]),r.Ab(256,r.Y,!0,[]),r.Ab(256,ac,"BrowserAnimations",[]),r.Ab(256,Om.d,{apiKey:"AIzaSyCdTmaLVNKSOsvrlu1pI7sHVdXuXiXebjA",authDomain:"ng4cms.firebaseapp.com",databaseURL:"https://ng4cms.firebaseio.com",projectId:"ng4cms",storageBucket:"ng4cms.appspot.com",messagingSenderId:"248448473101"},[]),r.Ab(256,Om.c,void 0,[])])});Object(r.R)(),document.addEventListener("DOMContentLoaded",()=>{xe().bootstrapModuleFactory(Fm).catch(t=>console.error(t))})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,o||(c=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=f,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?g(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new p(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},t}();function g(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function b(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=b(u(s[0])||""),n=b(u(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),s=1518500249):(i=a^l^u,s=1859775393):r<60?(i=a&l|u&(a|l),s=2400959708):(i=a^l^u,s=3395469782);var h=(o<<5|o>>>27)+i+c+s+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=_,e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=b,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;s(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);